<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<link rel="stylesheet" href="/static/css/kendo.common.min.css" />
<link rel="stylesheet" href="/static/css/kendo.gray.css" />
<script type="text/javascript" src="/static/js/vendor/jquery.min.js"></script>
<script type="text/javascript" src="/static/js/kendo.web.js"></script>
<script type="text/javascript" src="/static/js/global.js"></script>
</head>
<body> 


<label>出发城市</label>
<input type="text" id="depCity" style="width:180px" />
<input name="" id="id_dep" type="hidden" />


<style type="text/css" media="screen">
.tcy_list{
    overflow:hidden;
    padding:0;
    margin:0;
}
.tcy_list .tcy_list_sep{
    width:100%;
    color:#f00;
    float:left;
}
.tcy_title{
    padding:10px;
    display:block;
    background:#f3f3f3;
    border-bottom:1px solid #c5c5c5;
}
.tcy_list .item {
    cursor: pointer;
    color: #333;
    float: left;
    padding:0;
    width: 56px;
    height: 14px;
    line-height: 14px;
    margin: 5px;
    vertical-align: top;
    overflow: hidden;
    padding:3px 0;
    text-align:center;
}
.tcy_list .item:hover{
    color:#fff;
    background-color:#ef6616;
}
#tabstrip{
    background:#fff;
    width:360px;
    font-size:12px;
    display:none;
    border:1px solid #c5c5c5;
}
#tabstrip .k-content{
    border-bottom:0;
    border-left:0;
    border-right:0;
    border-color: #f0713a;
    margin:0 5px;
    padding:0;
}
#tabstrip .k-tabstrip-items{
    padding:0;
    margin:10px 10px 0 10px; 
}
#tabstrip .k-state-default{
    border-color:#FFF;
    font-weight:bold;
    color:#555;
}
#tabstrip .k-state-hover{
    background:none;
}
#tabstrip .k-state-active{
    border-color: #f0713a;
}
</style>

<script type="text/x-kendo-template" id="city_popup">
<div id="tabstrip" class="tabstrip">
<span class="tcy_title">
    热门城市/国家（支持中文名/拼音/英文名/三字码）
</span>
<ul>
<li id="hot_city" class="k-state-active">热门</li>
# for (var i=0; i<data.group.length; i++ ) { #
<li>#= data.group[i] #</li>
# } #
</ul>
<div id="hot_city_tab">
<ul class="tcy_list clearfix">

# for(var j=0;j<hotcitylist.length;j++){ #
# var citylist_item = hotcitylist[j] #
<li class="item" title="#= citylist_item.code #" data-code="#= citylist_item.code #">#= citylist_item.name #</li>
# } #

</ul>
</div>

# for(var i=0;i<data.citylist.length;i++){ #
# var citylist_item = data.citylist[i] #
<div class="city_tab">
<ul class="tcy_list clearfix">
  # for(var k=0;k<data.group[i].length;k++){ #

    <li class="tcy_list_sep">#= data.group[i][k] #</li>

    # for(var j=0;j<citylist_item.value.length;j++){ #
        # var citylist_value_item = citylist_item.value[j]; #

        # if(citylist_value_item.py.slice(0,1) == data.group[i][k]) {#
            <li class="item" title="#= citylist_value_item.code #" data-code="#= citylist_value_item.code #">#= citylist_value_item.name #</li>
        # } #

    # } #


  # } #
</ul>
</div>

# } #
</div>
</script>

<script type="x-kendo-template" id="itemTemplate">
<span class="sg_py">${data.py}</span><span class="sg_name">${data.name}</span><span class="sg_code">（${data.code}）</span>
</script>

<script type="text/javascript" charset="utf-8">

CityAutocomplete.setOptions({
    template: "#city_popup",
    itemTemplate: "#itemTemplate",
    input: $("#depCity"),
    codeEle: '#id_dep',
    // 以@分割热门非热门，以;分割条目，以|分割三字码拼音和中文
    url:'/static/js/data.txt',
    group: ["热门","ABCDEF","GHJ", "KLMN", "PQSTW", "XYZ"],
});

CityAutocomplete.init();

</script>


</body>
</html>


!function(a,b,c){function C(){}function G(a,b){if(b)return"'"+a.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var c=a.charAt(0),d=a.substring(1);return"="===c?"+("+d+")+":":"===c?"+e("+d+")+":";"+a+";o+="}function O(a,b,c){return a+="",b=b||2,c=b-a.length,c?N[b].substring(0,c)+a:a}function P(b){var e,g,h,i,j,l,m,p,r,s,t,u,v,c=n.browser,f="rtl"==b.css("direction");return b.parent().hasClass("k-animation-container")?(u=b.parent(".k-animation-container"),v=u[0].style,u.is(":hidden")&&u.show(),e=o.test(v.width)||o.test(v.height),e||u.css({width:b.outerWidth(),height:b.outerHeight()})):(g=b.css(d.support.transitions.css+"box-shadow")||b.css("box-shadow"),h=g?g.match(q)||[0,0,0,0,0]:[0,0,0,0,0],i=k.max(+h[3],+(h[4]||0)),j=-h[1]+i,l=+h[1]+i,m=+h[2]+i,p=b[0].style.width,r=b[0].style.height,s=o.test(p),t=o.test(r),c.opera&&(j=l=m=5),e=s||t,s||(p=b.outerWidth()),t||(r=b.outerHeight()),b.wrap(a("<div/>").addClass("k-animation-container").css({width:p,height:r,marginLeft:j*(f?1:-1),paddingLeft:j,paddingRight:l,paddingBottom:m})),e&&b.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),c.msie&&k.floor(c.version)<=7&&b.css({zoom:1}),b.parent()}function Q(a){var b=1,c=arguments.length;for(b=1;c>b;b++)R(a,arguments[b]);return a}function R(a,b){var e,f,g,h,c=d.data.ObservableArray;for(e in b)f=b[e],g=typeof f,g===u&&null!==f&&f.constructor!==Array&&f.constructor!==c?f instanceof Date?a[e]=new Date(f.getTime()):(h=a[e],a[e]=typeof h===u?h||{}:{},R(a[e],f)):g!==x&&(a[e]=f);return a}function S(a,b,d){for(var e in b)if(b.hasOwnProperty(e)&&b[e].test(a))return e;return d!==c?d:a}function T(b,c){var f,e={};return document.defaultView&&document.defaultView.getComputedStyle?(f=document.defaultView.getComputedStyle(b,""),c&&a.each(c,function(a,b){e[b]=f.getPropertyValue(b)})):(f=b.currentStyle,c&&a.each(c,function(a,b){e[b]=f[b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})]})),d.size(e)||(e=f),e}function U(a){var c,b=0;for(c in a)a.hasOwnProperty(c)&&"toJSON"!=c&&b++;return b}function V(b){return""===a.trim(a(b).contents().filter(function(){return 8!=this.nodeType}).html())}function W(a,b,c){var e,f,g,h;return b||(b="offset"),e=a[b](),f=n.mobileOS,n.touch&&f.ios&&f.flatVersion<410&&(g="offset"==b?e:a.offset(),h=e.left==g.left&&e.top==g.top)?{top:e.top-window.scrollY,left:e.left-window.scrollX}:(d.support.pointers&&!c&&(e.top-=window.pageYOffset-document.documentElement.scrollTop,e.left-=window.pageXOffset-document.documentElement.scrollLeft),e)}function Y(a){var b={};return f("string"==typeof a?a.split(" "):a,function(a){b[a]=this}),b}function Z(a){return new d.fx.Element(a)}function $(a,b,c,d){return typeof a===s&&(j(b)&&(d=b,b=400,c=!1),j(c)&&(d=c,c=!1),typeof b===w&&(c=b,b=400),a={effects:a,duration:b,reverse:c,complete:d}),e({effects:{},duration:400,reverse:!1,init:i,teardown:i,hide:!1},a,{completeCallback:a.complete,complete:i})}function _(b,c,d,e,f){for(var i,g=0,h=b.length;h>g;g++)i=a(b[g]),i.queue(function(){Z.promise(i,$(c,d,e,f))});return b}function ab(a,b,c,d,e,f){return Z.transitionPromise(a,b,$(c,d,e,f))}function bb(a,b,c,d){return b&&(b=b.split(" "),f(b,function(b,c){a.toggleClass(c,d)})),a}function fb(a){return(""+a).replace(cb,"&amp;").replace(db,"&lt;").replace(eb,"&gt;")}function pb(a,e){var f;return 0===e.indexOf("data")&&(e=e.substring(4),e=e.charAt(0).toLowerCase()+e.substring(1)),e=e.replace(ob,"-$1"),f=a.getAttribute("data-"+d.ns+e),null===f?f=c:"null"===f?f=null:"true"===f?f=!0:"false"===f?f=!1:isNaN(parseFloat(f))?mb.test(f)&&!nb.test(f)&&(f=b("("+f+")")):f=parseFloat(f),f}function qb(b,e){var g,h,f={};for(g in e)h=pb(b,g),h!==c&&(lb.test(g)&&(h=d.template(a("#"+h).html())),f[g]=h);return f}function tb(a,b){var c=a.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b)&&ub(a)}function ub(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")||a.expr.filters.hidden(this)}).length}function Cb(a,b){return new Cb.fn.init(a,b)}var l,D,E,F,H,I,J,K,L,M,N,X,cb,db,eb,gb,hb,ib,jb,kb,lb,mb,nb,ob,rb,sb,vb,wb,xb,yb,zb,Ab,Bb,Db,d=window.kendo=window.kendo||{},e=a.extend,f=a.each,g=a.proxy,h=a.isArray,i=a.noop,j=a.isFunction,k=Math,m=window.JSON||{},n={},o=/%/,p=/\{(\d+)(:[^\}]+)?\}/g,q=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,r="function",s="string",t="number",u="object",v="null",w="boolean",x="undefined",y={},z={},A=[].slice,B=window.Globalize;C.extend=function(a){var c,g,b=function(){},d=this,f=a&&a.init?a.init:function(){d.apply(this,arguments)};b.prototype=d.prototype,g=f.fn=f.prototype=new b;for(c in a)g[c]=typeof a[c]!==u||a[c]instanceof Array||null===a[c]?a[c]:e(!0,{},b.prototype[c],a[c]);return g.constructor=f,f.extend=d.extend,f},D=function(){this._defaultPrevented=!0},E=function(){return this._defaultPrevented===!0},F=C.extend({init:function(){this._events={}},bind:function(a,b,d){var f,h,i,j,l,e=this,g=typeof a===s?[a]:a,k=typeof b===r;if(b===c){for(f in a)e.bind(f,a[f]);return e}for(f=0,h=g.length;h>f;f++)a=g[f],j=k?b:b[a],j&&(d&&(i=j,j=function(){e.unbind(a,j),i.apply(e,arguments)}),l=e._events[a]=e._events[a]||[],l.push(j));return e},one:function(a,b){return this.bind(a,b,!0)},first:function(a,b){var d,f,g,i,c=this,e=typeof a===s?[a]:a,h=typeof b===r;for(d=0,f=e.length;f>d;d++)a=e[d],g=h?b:b[a],g&&(i=c._events[a]=c._events[a]||[],i.unshift(g));return c},trigger:function(a,b){var e,f,c=this,d=c._events[a];if(d){for(b=b||{},b.sender=c,b._defaultPrevented=!1,b.preventDefault=D,b.isDefaultPrevented=E,d=d.slice(),e=0,f=d.length;f>e;e++)d[e].call(c,b);return b._defaultPrevented===!0}return!1},unbind:function(a,b){var f,g,d=this,e=d._events[a];if(a===c)d._events={};else if(e)if(b)for(f=0,g=e.length;g>f;f++)e[f]===b&&e.splice(f,1);else d._events[a]=[];return d}}),H=/^\w+/,I=/\$\{([^}]*)\}/g,J=/\\\}/g,K=/__CURLY__/g,L=/\\#/g,M=/__SHARP__/g,N=["","0","00","000","0000"],l={paramName:"data",useWithBlock:!0,render:function(a,b){var c,d,e="";for(c=0,d=b.length;d>c;c++)e+=a(b[c]);return e},compile:function(b,c){var l,m,f=e({},this,c),g=f.paramName,h=g.match(H)[0],i=f.useWithBlock,k="var o,e=kendo.htmlEncode;";if(j(b))return 2===b.length?function(c){return b(a,{data:c}).join("")}:b;for(k+=i?"with("+g+"){":"",k+="o=",l=b.replace(J,"__CURLY__").replace(I,"#=e($1)#").replace(K,"}").replace(L,"__SHARP__").split("#"),m=0;m<l.length;m++)k+=G(l[m],0===m%2);k+=i?";}":";",k+="return o;",k=k.replace(M,"#");try{return new Function(h,k)}catch(n){throw new Error(d.format("Invalid template:'{0}' Generated code:'{1}'",b,k))}}},function(){function g(b){return a.lastIndex=0,a.test(b)?'"'+b.replace(a,function(a){var b=d[a];return typeof b===s?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function h(a,d){var i,j,k,l,n,p,m=b,o=d[a];if(o&&typeof o===u&&typeof o.toJSON===r&&(o=o.toJSON(a)),typeof e===r&&(o=e.call(d,a,o)),p=typeof o,p===s)return g(o);if(p===t)return isFinite(o)?String(o):v;if(p===w||p===v)return String(o);if(p===u){if(!o)return v;if(b+=c,n=[],"[object Array]"===f.apply(o)){for(l=o.length,i=0;l>i;i++)n[i]=h(i,o)||v;return k=0===n.length?"[]":b?"[\n"+b+n.join(",\n"+b)+"\n"+m+"]":"["+n.join(",")+"]",b=m,k}if(e&&typeof e===u)for(l=e.length,i=0;l>i;i++)typeof e[i]===s&&(j=e[i],k=h(j,o),k&&n.push(g(j)+(b?": ":":")+k));else for(j in o)Object.hasOwnProperty.call(o,j)&&(k=h(j,o),k&&n.push(g(j)+(b?": ":":")+k));return k=0===n.length?"{}":b?"{\n"+b+n.join(",\n"+b)+"\n"+m+"}":"{"+n.join(",")+"}",b=m,k}}var b,c,e,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f={}.toString;typeof Date.prototype.toJSON!==r&&(Date.prototype.toJSON=function(){var a=this;return isFinite(a.valueOf())?O(a.getUTCFullYear(),4)+"-"+O(a.getUTCMonth()+1)+"-"+O(a.getUTCDate())+"T"+O(a.getUTCHours())+":"+O(a.getUTCMinutes())+":"+O(a.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof m.stringify!==r&&(m.stringify=function(a,d,f){var g;if(b="",c="",typeof f===t)for(g=0;f>g;g+=1)c+=" ";else typeof f===s&&(c=f);if(e=d,d&&typeof d!==r&&(typeof d!==u||typeof d.length!==t))throw new Error("JSON.stringify");return h("",{"":a})})}(),function(){function q(a){if(a){if(a.numberFormat)return a;if(typeof a===s){var b=d.cultures;return b[a]||b[a.split("-")[0]]||null}return null}return null}function r(a){return a&&(a=q(a)),a||d.cultures.current}function u(a){a.groupSizes=a.groupSize,a.percent.groupSizes=a.percent.groupSize,a.currency.groupSizes=a.currency.groupSize}function v(b,d,e){e=r(e);var f=e.calendars.standard,g=f.days,h=f.months;return d=f.patterns[d]||d,d.replace(a,function(a){var d;return"d"===a?d=b.getDate():"dd"===a?d=O(b.getDate()):"ddd"===a?d=g.namesAbbr[b.getDay()]:"dddd"===a?d=g.names[b.getDay()]:"M"===a?d=b.getMonth()+1:"MM"===a?d=O(b.getMonth()+1):"MMM"===a?d=h.namesAbbr[b.getMonth()]:"MMMM"===a?d=h.names[b.getMonth()]:"yy"===a?d=O(b.getFullYear()%100):"yyyy"===a?d=O(b.getFullYear(),4):"h"===a?d=b.getHours()%12||12:"hh"===a?d=O(b.getHours()%12||12):"H"===a?d=b.getHours():"HH"===a?d=O(b.getHours()):"m"===a?d=b.getMinutes():"mm"===a?d=O(b.getMinutes()):"s"===a?d=b.getSeconds():"ss"===a?d=O(b.getSeconds()):"f"===a?d=k.floor(b.getMilliseconds()/100):"ff"===a?d=k.floor(b.getMilliseconds()/10):"fff"===a?d=b.getMilliseconds():"tt"===a&&(d=b.getHours()<12?f.AM[0]:f.PM[0]),d!==c?d:a.slice(1,a.length-1)})}function w(a,d,g){g=r(g);var v,w,x,y,z,B,C,D,E,H,I,J,K,L,M,N,O,P,Q,R,S,T,V,k=g.numberFormat,o=k.groupSize[0],p=k[j],q=k[i],s=k.decimals,t=k.pattern[0],u=[],A=0>a,F=h,G=h,U=-1;if(a===c)return h;if(!isFinite(a))return a;if(!d)return g.name.length?a.toLocaleString():a.toString();if(z=b.exec(d)){if(d=z[1].toLowerCase(),w="c"===d,x="p"===d,(w||x)&&(k=w?k.currency:k.percent,o=k.groupSize[0],p=k[j],q=k[i],s=k.decimals,v=k.symbol,t=k.pattern[A?0:1]),y=z[2],y&&(s=+y),"e"===d)return y?a.toExponential(s):a.toExponential();if(x&&(a*=100),a=a.toFixed(s),a=a.split(i),B=a[0],C=a[1],A&&(B=B.substring(1)),G=B,D=B.length,D>=o)for(G=h,H=0;D>H;H++)H>0&&0===(D-H)%o&&(G+=p),G+=B.charAt(H);if(C&&(G+=q+C),"n"===d&&!A)return G;for(a=h,H=0,I=t.length;I>H;H++)J=t.charAt(H),a+="n"===J?G:"$"===J||"%"===J?v:J;return a}if(A&&(a=-a),d=d.split(";"),A&&d[1])d=d[1],L=!0;else if(0===a){if(d=d[2]||d[0],-1==d.indexOf(l)&&-1==d.indexOf(m))return d}else d=d[0];if((d.indexOf("'")>-1||d.indexOf('"')>-1)&&(d=d.replace(e,function(a){return u.push(a),n})),R=d.indexOf("%"),S=d.indexOf("$"),x=-1!=R,w=-1!=S,x&&("\\"!==d[R-1]?a*=100:d=d.split("\\").join("")),w&&"\\"===d[S-1]&&(d=d.split("\\").join(""),w=!1),(w||x)&&(k=w?k.currency:k.percent,o=k.groupSize[0],p=k[j],q=k[i],s=k.decimals,v=k.symbol),K=d.indexOf(j)>-1,K&&(d=d.replace(f,h)),M=d.indexOf(i),I=d.length,-1!=M?(O=d.lastIndexOf(m)-M,N=d.lastIndexOf(l)-M,C=a.toString().split(i)[1]||h,P=O>-1,Q=N>-1,H=C.length,P||Q||(d=d.substring(0,M)+d.substring(M+1),I=d.length,M=-1,H=0),P&&O>N?H=O:N>O&&(Q&&H>N?H=N:P&&O>H&&(H=O)),H>-1&&(a=a.toFixed(H))):a=a.toFixed(0),N=d.indexOf(l),T=O=d.indexOf(m),U=-1==N&&-1!=O?O:-1!=N&&-1==O?N:N>O?O:N,N=d.lastIndexOf(l),O=d.lastIndexOf(m),V=-1==N&&-1!=O?O:-1!=N&&-1==O?N:N>O?N:O,U==I&&(V=U),-1!=U){if(G=a.toString().split(i),B=G[0],C=G[1]||h,D=B.length,E=C.length,K)if(D===o&&M-T>D)B=p+B;else if(D>o){for(G=h,H=0;D>H;H++)H>0&&0===(D-H)%o&&(G+=p),G+=B.charAt(H);B=G}for(a=d.substring(0,U),A&&!L&&(a+="-"),H=U;I>H;H++){if(J=d.charAt(H),-1==M){if(D>V-H){a+=B;break}}else if(-1!=O&&H>O&&(F=h),D>=M-H&&M-H>-1&&(a+=B,H=M),M===H){a+=(C?q:h)+C,H+=V-M+1;continue}J===m?(a+=J,F=J):J===l&&(a+=F)}if(V>=U&&(a+=d.substring(V+1)),w||x){for(G=h,H=0,I=a.length;I>H;H++)J=a.charAt(H),G+="$"===J||"%"===J?v:J;a=G}if(u[0])for(I=u.length,H=0;I>H;H++)a=a.replace(n,u[H])}return a}var x,a=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,b=/^(n|c|p|e)(\d*)$/i,e=/["'].*?["']/g,f=/\,/g,h="",i=".",j=",",l="#",m="0",n="??",o="en-US";d.cultures={"en-US":{name:o,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}}},d.culture=function(a){var e,b=d.cultures;return a===c?b.current:(e=q(a)||b[o],e.calendar=e.calendars.standard,b.current=e,B&&u(e.numberFormat),void 0)},d.findCulture=q,d.getCulture=r,d.culture(o),x=function(a,b,d){if(b){if(a instanceof Date)return v(a,b,d);if(typeof a===t)return w(a,b,d)}return a!==c?a:""},B&&(x=g(B.format,B)),d.format=function(a){var b=arguments;return a.replace(p,function(a,c,d){var e=b[parseInt(c,10)+1];return x(e,d?d.substring(1):"")})},d._extractFormat=function(a){return"{0:"===a.slice(0,3)&&(a=a.slice(3,a.length-1)),a},d._activeElement=function(){try{return document.activeElement}catch(a){return document.documentElement.activeElement}},d.toString=x}(),function(){function l(a,b,c){return!(a>=b&&c>=a)}function m(a){return a.charAt(0)}function n(b){return a.map(b,m)}function o(a,b){b||23!==a.getHours()||a.setHours(a.getHours()+2)}function p(a,b,d){if(!a)return null;var C,D,E,F,G,H,I,J,K,L,M,N,e=function(a){for(var c=0;b[w]===a;)c++,w++;return c>0&&(w-=1),c},h=function(b){var c=k[b]||new RegExp("^\\d{1,"+b+"}"),d=a.substr(x,b).match(c);return d?(d=d[0],x+=d.length,parseInt(d,10)):null},i=function(b){for(var e,f,c=0,d=b.length;d>c;c++)if(e=b[c],f=e.length,a.substr(x,f)==e)return x+=f,c+1;return null},j=function(){var c=!1;return a.charAt(x)===b[w]&&(x++,c=!0),c},m=d.calendars.standard,p=null,q=null,r=null,s=null,t=null,u=null,v=null,w=0,x=0,y=!1,z=new Date,A=m.twoDigitYearMax||2029,B=z.getFullYear();for(b||(b="d"),F=m.patterns[b],F&&(b=F),b=b.split(""),E=b.length;E>w;w++)if(C=b[w],y)"'"===C?y=!1:j();else if("d"===C){if(D=e("d"),r=3>D?h(2):i(m.days[3==D?"namesAbbr":"names"]),null===r||l(r,1,31))return null}else if("M"===C){if(D=e("M"),q=3>D?h(2):i(m.months[3==D?"namesAbbr":"names"]),null===q||l(q,1,12))return null;q-=1}else if("y"===C){if(D=e("y"),p=h(D),null===p)return null;2==D&&("string"==typeof A&&(A=B+parseInt(A,10)),p=B-B%100+p,p>A&&(p-=100))}else if("h"===C){if(e("h"),s=h(2),12==s&&(s=0),null===s||l(s,0,11))return null}else if("H"===C){if(e("H"),s=h(2),null===s||l(s,0,23))return null}else if("m"===C){if(e("m"),t=h(2),null===t||l(t,0,59))return null}else if("s"===C){if(e("s"),u=h(2),null===u||l(u,0,59))return null}else if("f"===C){if(D=e("f"),v=h(D),null!==v&&D>3&&(v=parseInt(v.toString().substring(0,3),10)),null===v||l(v,0,999))return null}else if("t"===C){if(D=e("t"),K=m.AM,L=m.PM,1===D&&(K=n(K),L=n(L)),G=i(L),!G&&!i(K))return null}else if("z"===C){if(H=!0,D=e("z"),"Z"===a.substr(x,1)){if(!I)return null;j();continue}if(J=a.substr(x,6).match(D>2?g:f),!J)return null;if(J=J[0],x=J.length,J=J.split(":"),M=parseInt(J[0],10),l(M,-12,13))return null;if(D>2&&(N=parseInt(J[1],10),isNaN(N)||l(N,0,59)))return null}else if("T"===C)I=j();else if("'"===C)y=!0,j();else if(!j())return null;return null===p&&(p=B),G&&12>s&&(s+=12),null===r&&(r=1),H?(M&&(s+=-M),N&&(t+=-N),a=new Date(Date.UTC(p,q,r,s,t,u,v))):(a=new Date(p,q,r,s,t,u,v),o(a,s)),100>p&&a.setFullYear(p),a.getDate()!==r&&H===c?null:a}var b=/\u00A0/g,e=/[eE][\-+]?[0-9]+/,f=/[+|\-]\d{1,2}/,g=/[+|\-]\d{1,2}:\d{2}/,i=/^\/Date\((.*?)\)\/$/,j=["G","g","d","F","D","y","m","T","t"],k={2:/^\d{1,2}/,4:/^\d{4}/};d._adjustDate=o,d.parseDate=function(a,b,c){if(a instanceof Date)return a;var g,k,e=0,f=null;if(a&&0===a.indexOf("/D")&&(f=i.exec(a)))return new Date(parseInt(f[1],10));if(c=d.getCulture(c),!b){for(b=[],k=c.calendar.patterns,g=j.length;g>e;e++)b[e]=k[j[e]];b[e]="ddd MMM dd yyyy HH:mm:ss",b[++e]="yyyy-MM-ddTHH:mm:ss.fffffffzzz",b[++e]="yyyy-MM-ddTHH:mm:ss.fffzzz",b[++e]="yyyy-MM-ddTHH:mm:sszzz",b[++e]="yyyy-MM-ddTHH:mmzzz",b[++e]="yyyy-MM-ddTHH:mmzz",b[++e]="yyyy-MM-ddTHH:mm:ss",b[++e]="yyyy-MM-ddTHH:mm",b[++e]="yyyy-MM-dd",e=0}for(b=h(b)?b:[b],g=b.length;g>e;e++)if(f=p(a,b[e],c))return f;return f},d.parseInt=function(a,b){var c=d.parseFloat(a,b);return c&&(c=0|c),c},d.parseFloat=function(a,c,f){if(!a&&0!==a)return null;if(typeof a===t)return a;a=a.toString(),c=d.getCulture(c);var m,n,g=c.numberFormat,h=g.percent,i=g.currency,j=i.symbol,k=h.symbol,l=a.indexOf("-")>-1;return e.test(a)?(a=parseFloat(a),isNaN(a)&&(a=null),a):(a.indexOf(j)>-1||f&&f.toLowerCase().indexOf("c")>-1?(g=i,m=g.pattern[0].replace("$",j).split("n"),a.indexOf(m[0])>-1&&a.indexOf(m[1])>-1&&(a=a.replace(m[0],"").replace(m[1],""),l=!0)):a.indexOf(k)>-1&&(n=!0,g=h,j=k),a=a.replace("-","").replace(j,"").replace(b," ").split(g[","].replace(b," ")).join("").replace(g["."],"."),a=parseFloat(a),isNaN(a)?a=null:l&&(a*=-1),a&&n&&(a/=100),a)},B&&(d.parseDate=function(a,b,c){return a instanceof Date?a:B.parseDate(a,b,c)},d.parseFloat=function(a,b){return typeof a===t?a:a===c?null:B.parseFloat(a,b)})}(),function(){function j(a){var e,b=!1,c=[],d={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(e in d)if(d.hasOwnProperty(e)&&(c=a.match(d[e]))){b={},b[e]=!0,b[c[1].toLowerCase()]=!0,b.version=parseInt(document.documentMode||c[2],10);break}return b}var b,e,g,h,i;n.scrollbar=function(){var b,a=document.createElement("div");return a.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",a.innerHTML="&nbsp;",document.body.appendChild(a),b=a.offsetWidth-a.scrollWidth,document.body.removeChild(a),b},n.isRtl=function(b){return a(b).closest(".k-rtl").length>0},b=document.createElement("table");try{b.innerHTML="<tr><td></td></tr>",n.tbodyInnerHtml=!0}catch(d){n.tbodyInnerHtml=!1}n.touch="ontouchstart"in window,n.pointers=navigator.msPointerEnabled,e=n.transitions=!1,g=n.transforms=!1,h="HTMLElement"in window?HTMLElement.prototype:[],n.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,f(["Moz","webkit","O","ms"],function(){var d,a=this.toString(),c=typeof b.style[a+"Transition"]===s;return c||typeof b.style[a+"Transform"]===s?(d=a.toLowerCase(),g={css:"ms"!=d?"-"+d+"-":"",prefix:a,event:"o"===d||"webkit"===d?d:""},c&&(e=g,e.event=e.event?e.event+"TransitionEnd":"transitionend"),!1):void 0}),n.transforms=g,n.transitions=e,n.devicePixelRatio=window.devicePixelRatio===c?1:window.devicePixelRatio,n.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,n.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight,n.detectOS=function(a){var c,j,b=!1,d=[],e=!/mobile safari/i.test(a),f={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},g={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},h={tablet:/playbook|ipad|fire/i},i={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(j in f)if(f.hasOwnProperty(j)&&(d=a.match(f[j]))){if("windows"==j&&"plugins"in navigator)return!1;b={},b.device=j,b.tablet=S(j,h,!1),b.browser=S(a,i,"default"),b.name=S(j,g),b[b.name]=!0,b.majorVersion=d[2],b.minorVersion=d[3].replace("_","."),c=b.minorVersion.replace(".","").substr(0,2),b.flatVersion=b.majorVersion+c+new Array(3-(c.length<3?c.length:2)).join("0"),b.appMode=window.navigator.standalone||/file|local/.test(window.location.protocol)||typeof window.PhoneGap!==x||typeof window.cordova!==x,b.android&&(n.devicePixelRatio<1.5&&b.flatVersion<400||e)&&(n.screenWidth>800||n.screenHeight>800)&&(b.tablet=j);break}return b},i=n.mobileOS=n.detectOS(navigator.userAgent),n.kineticScrollNeeded=i&&(n.touch||n.pointers),n.hasNativeScrolling=!1,(i.ios&&i.majorVersion>4||i.android&&i.majorVersion>2||i.wp)&&(n.hasNativeScrolling=i),n.mouseAndTouchPresent=n.touch&&!(n.mobileOS.ios||n.mobileOS.android),n.browser=j(navigator.userAgent),function(b){var c,d=parseInt(b.version,10);b.msie?c="ie":b.mozilla?c="ff":b.safari?c="safari":b.webkit?c="webkit":b.opera&&(c="opera"),c&&a(document.documentElement).addClass("k-"+c+" k-"+c+d)}(n.browser),n.zoomLevel=function(){return n.touch?document.documentElement.clientWidth/window.innerWidth:n.pointers?window.outerWidth/window.innerWidth:1},n.eventCapture=document.documentElement.addEventListener,n.placeholder="placeholder"in document.createElement("input"),n.stableSort=function(){var a=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===a[0]&&1===a[1]&&2===a[2]&&3===a[3]&&4===a[4]&&5===a[5]&&6===a[6]&&7===a[7]&&8===a[8]&&9===a[9]&&10===a[10]&&11===a[11]&&12===a[12]}(),n.matchesSelector=h.webkitMatchesSelector||h.mozMatchesSelector||h.msMatchesSelector||h.oMatchesSelector||h.matchesSelector||function(b){for(var c=document.querySelectorAll?(this.parentNode||document).querySelectorAll(b)||[]:a(b),d=c.length;d--;)if(c[d]==this)return!0;return!1}}(),X={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},a.extend(Z,{Element:function(b){this.element=a(b)},promise:function(a,b){a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.hide&&a.data("olddisplay",a.css("display")).hide(),b.init&&b.init(),b.completeCallback&&b.completeCallback(a),a.dequeue()},transitionPromise:function(a,b,c){var e=d.wrap(a);return e.append(b),a.hide(),b.show(),c.completeCallback&&c.completeCallback(a),a}}),"kendoAnimate"in a.fn||e(a.fn,{kendoStop:function(a,b){return this.stop(a,b)},kendoAnimate:function(a,b,c,d){return _(this,a,b,c,d)},kendoAnimateTo:function(a,b,c,d,e){return ab(this,a,b,c,d,e)},kendoAddClass:function(a,b){return d.toggleClass(this,a,b,!0)},kendoRemoveClass:function(a,b){return d.toggleClass(this,a,b,!1)},kendoToggleClass:function(a,b,c){return d.toggleClass(this,a,b,c)}}),cb=/&/g,db=/</g,eb=/>/g,gb=function(a){return a.target},n.touch&&(hb="chrome"==n.mobileOS.browser&&!n.mobileOS.ios,gb=function(a){var b="originalEvent"in a?a.originalEvent.changedTouches:"changedTouches"in a?a.changedTouches:null,c=hb?"screen":"client";return b?document.elementFromPoint(b[0][c+"X"],b[0][c+"Y"]):a.target},f(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(b,c){a.fn[c]=function(a){return this.bind(c,a)}})),n.touch?n.mobileOS?(n.mousedown="touchstart",n.mouseup="touchend",n.mousemove="touchmove",n.mousecancel="touchcancel",n.click="touchend",n.resize="orientationchange"):(n.mousedown="mousedown touchstart",n.mouseup="mouseup touchend",n.mousemove="mousemove touchmove",n.mousecancel="mouseleave touchcancel",n.click="click",n.resize="resize"):n.pointers?(n.mousemove="MSPointerMove",n.mousedown="MSPointerDown",n.mouseup="MSPointerUp",n.mousecancel="MSPointerCancel",n.click="MSPointerUp",n.resize="orientationchange resize"):(n.mousemove="mousemove",n.mousedown="mousedown",n.mouseup="mouseup",n.mousecancel="mouseleave",n.click="click",n.resize="resize"),ib=function(a,b){var d,e,f,g,c=b||"d",h=1;for(e=0,f=a.length;f>e;e++)g=a[e],""!==g&&(d=g.indexOf("["),0!==d&&(-1==d?g="."+g:(h++,g="."+g.substring(0,d)+" || {})"+g.substring(d))),h++,c+=g+(f-1>e?" || {})":")"));return new Array(h).join("(")+c},jb=/^([a-z]+:)?\/\//i,e(d,{ui:d.ui||{},fx:d.fx||Z,mobile:d.mobile||{},data:d.data||{},dataviz:d.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:d.support||n,animate:d.animate||_,ns:"",attr:function(a){return"data-"+d.ns+a},wrap:P,deepExtend:Q,getComputedStyles:T,size:U,isNodeEmpty:V,getOffset:d.getOffset||W,parseEffects:d.parseEffects||Y,toggleClass:d.toggleClass||bb,directions:d.directions||X,Observable:F,Class:C,Template:l,template:g(l.compile,l),render:g(l.render,l),stringify:g(m.stringify,m),eventTarget:gb,htmlEncode:fb,isLocalUrl:function(a){return a&&!jb.test(a)},expr:function(a,b,c){return a=a||"",typeof b==s&&(c=b,b=!1),c=c||"d",a&&"["!==a.charAt(0)&&(a="."+a),a=b?ib(a.split("."),c):c+a},getter:function(a,b){return y[a]=y[a]||new Function("d","return "+d.expr(a,b))},setter:function(a){return z[a]=z[a]||new Function("d,value",d.expr(a)+"=value")},accessor:function(a){return{get:d.getter(a),set:d.setter(a)}},guid:function(){var b,c,a="";for(b=0;32>b;b++)c=0|16*k.random(),(8==b||12==b||16==b||20==b)&&(a+="-"),a+=(12==b?4:16==b?8|3&c:c).toString(16);return a},roleSelector:function(a){return a.replace(/(\S+)/g,"["+d.attr("role")+"=$1],").slice(0,-1)},logToConsole:function(a){var b=window.console;"undefined"!=typeof b&&b.log&&b.log(a)}}),kb=F.extend({init:function(a,b){var c=this;c.element=d.jQuery(a).handler(c),F.fn.init.call(c),b=c.options=e(!0,{},c.options,b),c.element.attr(d.attr("role"))||c.element.attr(d.attr("role"),(b.name||"").toLowerCase()),c.element.data("kendo"+b.prefix+b.name,c),c.bind(c.events,b)},events:[],options:{prefix:""},_tabindex:function(a){a=a||this.wrapper;var b=this.element,c="tabindex",d=a.attr(c)||b.attr(c);b.removeAttr(c),a.attr(c,isNaN(d)?0:d)},setOptions:function(b){for(var f,c=this,d=0,e=c.events.length;e>d;d++)f=c.events[d],c.options[f]&&b[f]&&c.unbind(f,c.options[f]);a.extend(c.options,b),c.bind(c.events,b)},destroy:function(){var a=this;a.element.removeData("kendo"+a.options.prefix+a.options.name),a.unbind()}}),d.notify=i,lb=/template$/i,mb=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,nb=/^\{(\d+)(:[^\}]+)?\}/,ob=/([A-Z])/g,d.initWidget=function(b,e,f){var g,h,i,j,k,l,m,n;if(f?f.roles&&(f=f.roles):f=d.ui.roles,b=b.nodeType?b:b[0],l=b.getAttribute("data-"+d.ns+"role"),l&&(i=-1===l.indexOf(".")?f[l]:d.getter(l)(window))){for(n=pb(b,"dataSource"),e=a.extend({},qb(b,i.fn.options),e),n&&(e.dataSource=typeof n===s?d.getter(n)(window):n),j=0,k=i.fn.events.length;k>j;j++)h=i.fn.events[j],m=pb(b,h),m!==c&&(e[h]=d.getter(m)(window));return g=a(b).data("kendo"+i.fn.options.prefix+i.fn.options.name),g?g.setOptions(e):g=new i(b,e),g}},d.rolesFromNamespaces=function(a){var c,f,b=[];for(a[0]||(a=[d.ui,d.dataviz.ui]),c=0,f=a.length;f>c;c++)b[c]=a[c].roles;return e.apply(null,[{}].concat(b.reverse()))},d.init=function(b){var c=d.rolesFromNamespaces(A.call(arguments,1));a(b).find("[data-"+d.ns+"role]").andSelf().each(function(){d.initWidget(this,{},c)})},d.destroy=function(b){a(b).find("[data-"+d.ns+"role]").andSelf().each(function(){var b=a(this),c=d.widgetInstance(b,d.ui)||d.widgetInstance(b,d.mobile.ui)||d.widgetInstance(b,d.dataviz.ui);c&&c.destroy()})},d.parseOptions=qb,e(d.ui,{Widget:kb,roles:{},progress:function(b,c){var d=b.find(".k-loading-mask");c?d.length||(d=a("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").prependTo(b).css({top:b.scrollTop(),left:b.scrollLeft()})):d&&d.remove()},plugin:function(b,e,f){var h,g=b.fn.options.name;e=e||d.ui,f=f||"",e[g]=b,e.roles[g.toLowerCase()]=b,h="getKendo"+f+g,g="kendo"+f+g,a.fn[g]=function(e){var h,f=this;return typeof e===s?(h=A.call(arguments,1),this.each(function(){var i,j,b=a.data(this,g);if(!b)throw new Error(d.format("Cannot call method '{0}' of {1} before it is initialized",e,g));if(i=b[e],typeof i!==r)throw new Error(d.format("Cannot find method '{0}' of {1}",e,g));return j=i.apply(b,h),j!==c?(f=j,!1):void 0})):this.each(function(){new b(this,e)}),f},a.fn[h]=function(){return this.data(g)}}}),rb={bind:a.noop},sb=kb.extend({init:function(a,b){kb.fn.init.call(this,a,b),this.element.autoApplyNS(),this.wrapper=this.element},destroy:function(){kb.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var a=this.element.closest(d.roleSelector("view splitview modalview"));return d.widgetInstance(a,d.mobile.ui)},container:function(){var a=this.element.closest(d.roleSelector("view layout modalview"));return d.widgetInstance(a,d.mobile.ui)||rb}}),e(d.mobile,{init:function(a){d.init(a,d.mobile.ui,d.ui,d.dataviz.ui)},ui:{Widget:sb,roles:{},plugin:function(a){d.ui.plugin(a,d.mobile.ui,"Mobile")}}}),d.touchScroller=function(b,c){return a(b).map(function(b,e){return e=a(e),n.kineticScrollNeeded&&d.mobile.ui.Scroller&&!e.data("kendoMobileScroller")?(e.kendoMobileScroller(c),e.data("kendoMobileScroller")):!1})[0]},d.preventDefault=function(a){a.preventDefault()},d.widgetInstance=function(a,b){var c=b.roles[a.data(d.ns+"role")];return c?a.data("kendo"+c.fn.options.prefix+c.fn.options.name):void 0},d.onResize=function(b){var c=b;n.mobileOS.android&&(c=function(){setTimeout(b,200)}),a(window).on(n.resize,c)},d.attrValue=function(a,b){return a.data(d.ns+b)},d.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},a.extend(a.expr[":"],{focusable:function(b){var c=a.attr(b,"tabindex");return tb(b,!isNaN(c)&&c>-1)}}),vb=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],wb="label, input, [data-rel=external]",xb={setupMouseMute:function(){var e,b=0,c=vb.length,d=document.documentElement;if(!xb.mouseTrap&&n.eventCapture)for(xb.mouseTrap=!0,xb.bustClick=!1,xb.captureMouse=!1,e=function(b){xb.captureMouse&&("click"===b.type?xb.bustClick&&!a(b.target).is(wb)&&(b.preventDefault(),b.stopPropagation()):b.stopPropagation())};c>b;b++)d.addEventListener(vb[b],e,!0)},muteMouse:function(a){xb.captureMouse=!0,a.data.bustClick&&(xb.bustClick=!0),clearTimeout(xb.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(xb.mouseTrapTimeoutID),xb.mouseTrapTimeoutID=setTimeout(function(){xb.captureMouse=!1,xb.bustClick=!1},400)}},yb={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},n.touch&&(n.mobileOS.ios||n.mobileOS.android)&&(yb={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}),n.pointers&&(yb={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"},jQuery.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(a,b){jQuery.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!jQuery.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}})),zb=function(a){return yb[a]||a},Ab=/([^ ]+)/g,d.applyEventMap=function(a,b){return a=a.replace(Ab,zb),b&&(a=a.replace(Ab,"$1."+b)),a},Bb=a.fn.on,e(!0,Cb,a),Cb.fn=Cb.prototype=new a,Cb.fn.constructor=Cb,Cb.fn.init=function(b,c){return c&&c instanceof a&&!(c instanceof Cb)&&(c=Cb(c)),a.fn.init.call(this,b,c,Db)
},Cb.fn.init.prototype=Cb.fn,Db=Cb(document),e(Cb.fn,{handler:function(a){return this.data("handler",a),this},autoApplyNS:function(a){return this.data("kendoNS",a||d.guid()),this},on:function(){var c,e,f,g,h,i,a=this,b=a.data("kendoNS");return 1===arguments.length?Bb.call(a,arguments[0]):(c=a,e=A.call(arguments),typeof e[e.length-1]===x&&e.pop(),f=e[e.length-1],g=d.applyEventMap(e[0],b),n.mouseAndTouchPresent&&g.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(xb.setupMouseMute(),h=2===e.length?null:e[1],i=g.indexOf("click")>-1&&g.indexOf("touchend")>-1,Bb.call(this,{touchstart:xb.muteMouse,touchend:xb.unMuteMouse},h,{bustClick:i})),typeof f===s&&(c=a.data("handler"),f=c[f],e[e.length-1]=function(a){f.call(c,a)}),e[0]=g,Bb.apply(a,e),a)},kendoDestroy:function(a){return a=a||this.data("kendoNS"),a&&this.off("."+a),this}}),d.jQuery=Cb,d.eventMap=yb}(jQuery,eval),"undefined"==typeof kendo_module&&(kendo_module=function(){}),function(a){var c=window.kendo,d=window.location,e=window.history,f=50,g=/^#*/,h=window.document.documentMode,i=c.support.browser.msie&&(!h||8>=h),j="onhashchange"in window&&!i,k=window.document,l=c.Observable.extend({start:function(a){a=a||{};var b=this;return b._pushStateRequested=!!a.pushState,b._pushState=b._pushStateRequested&&b._pushStateSupported(),b.root=a.root||"/",b._interval=0,this.bind(["change","ready"],a),b._normalizeUrl()?!0:(b.current=b._currentLocation(),b._listenToLocationChange(),b.trigger("ready",{url:b.current}),void 0)},stop:function(){a(window).unbind(".kendo"),this.unbind("change"),this.unbind("ready"),clearInterval(this._interval)},_normalizeUrl:function(){var b,a=this,c=a.root==d.pathname,f=a._pushStateRequested&&!a._pushStateSupported()&&!c,h=a._pushState&&c&&d.hash;return f?(d.replace(a.root+"#"+a._stripRoot(d.pathname)),!0):h?(b=a._makePushStateUrl(d.hash.replace(g,"")),e.replaceState({},k.title,b),!1):!1},_listenToLocationChange:function(){var b=this,c=a.proxy(b._checkUrl,b);this._pushState?a(window).bind("popstate.kendo",c):j?a(window).bind("hashchange.kendo",c):b._interval=setInterval(c,f)},_pushStateSupported:function(){return window.history&&window.history.pushState},_checkUrl:function(){var a=this,b=a._currentLocation();b!=a.current&&a.navigate(b)},_stripRoot:function(a){var b=this;return 0===a.indexOf(b.root)?("/"+a.substr(b.root.length)).replace(/\/\//g,"/"):a},_makePushStateUrl:function(a){var b=this;return 0!==a.indexOf(b.root)&&(a=(b.root+a).replace(/\/\//g,"/")),d.protocol+"//"+d.host+a},_currentLocation:function(){var b,a=this;return a._pushState?(b=d.pathname,d.search&&(b+=d.search),a._stripRoot(b)):d.hash.replace(g,"")},change:function(a){this.bind("change",a)},navigate:function(a,b){var c=this;return"#:back"===a?(e.back(),void 0):(a=a.replace(g,""),c.current!==a&&c.current!==decodeURIComponent(a)&&(b||c.trigger("change",{url:a})&&(a=c.current),c._pushState?(e.pushState({},k.title,c._makePushStateUrl(a)),c.current=a):d.hash=c.current=a),void 0)}});c.history=new l}(window.kendo.jQuery),function(){function k(a,b){return b?a:"([^/]+)"}function l(a){return new RegExp("^"+a.replace(j,"\\$&").replace(g,"(?:$1)?").replace(h,k).replace(i,"(.*?)")+"$")}var a=window.kendo,b=a.history,c=a.Observable,d="init",e="routeMissing",f="change",g=/\((.*?)\)/g,h=/(\(\?)?:\w+/g,i=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g,m=a.Class.extend({init:function(a,b){a instanceof RegExp||(a=l(a)),this.route=a,this._callback=b},callback:function(a){for(var b=this.route.exec(a).slice(1),c=0,d=b.length;d>c;c++)"undefined"!=typeof b[c]&&(b[c]=decodeURIComponent(b[c]));this._callback.apply(null,b)},worksWith:function(a){return this.route.test(a)?(this.callback(a),!0):!1}}),n=c.extend({init:function(a){c.fn.init.call(this),this.routes=[],this.bind([d,e,f],a)},destroy:function(){b.unbind("ready",this._readyProxy),b.unbind("change",this._urlChangedProxy),this.unbind()},start:function(){var b=this,c=function(a){a.url||(a.url="/"),b.trigger(d,a)||b._urlChanged(a)},e=function(a){b._urlChanged(a)};a.history.start({ready:c,change:e}),this._urlChangedProxy=e,this._readyProxy=c},route:function(a,b){this.routes.push(new m(a,b))},navigate:function(b,c){a.history.navigate(b,c)},_urlChanged:function(a){var g,c,d,h,b=a.url;if(b||(b="/"),this.trigger(f,{url:a.url}))return a.preventDefault(),void 0;for(c=0,d=this.routes,h=d.length;h>c;c++)if(g=d[c],g.worksWith(b))return;this.trigger(e,{url:b})}});a.Router=n}(),function(a){var c=window.kendo,d=c.Observable,e="SCRIPT",f="init",g="show",h="hide",i=d.extend({init:function(a,b){var c=this;b=b||{},d.fn.init.call(c),c.content=a,c.tagName=b.tagName||"div",c.model=b.model,c.bind([f,g,h],b)},render:function(b){var h,i,d=this;return d.element||(h=a("<"+d.tagName+" />"),i=a(document.getElementById(d.content)||d.content),h.append(i[0].tagName===e?i.html():i),d.element=h,c.bind(d.element,d.model),this.trigger(f)),b&&(this.trigger(g),a(b).append(d.element)),d.element},hide:function(){this.element.detach(),this.trigger(h)},destroy:function(){this.element&&(c.unbind(this.element),this.element.remove())}}),j=i.extend({init:function(a,b){i.fn.init.call(this,a,b),this.regions={}},showIn:function(a,b){var c=this.regions[a];c&&c.hide(),b.render(this.render().find(a),c),this.regions[a]=b}});c.Layout=j,c.View=i}(window.kendo.jQuery),function(a,b){function U(a){return parseInt(a,10)}function V(a,b){return U(a.css(b))}function W(a){var b=a.effects;return"zoom"===b&&(b="zoom:in fade:in"),"fade"===b&&(b="fade:in"),"slide"===b&&(b="tile:left"),/^slide:(.+)$/.test(b)&&(b="tile:"+RegExp.$1),"overlay"===b&&(b="slideIn:left"),/^overlay:(.+)$/.test(b)&&(b="slideIn:"+RegExp.$1),a.effects=c.parseEffects(b),a}function X(a){var c,b=[];for(c in a)b.push(c);return b}function Y(a){for(var b in a)-1!=u.indexOf(b)&&-1==v.indexOf(b)&&delete a[b];return a}function Z(a,b){var e,f,g,i,c=[],d={};for(f in b)e=f.toLowerCase(),i=j&&-1!=u.indexOf(e),!h.hasHW3D&&i&&-1==v.indexOf(e)?delete b[f]:(g=b[f],i?c.push(f+"("+g+")"):d[f]=g);return c.length&&(d[N]=c.join(" ")),d}function $(a,b){var c,d,e;return j?(c=a.css(N),c==C?"scale"==b?1:0:(d=c.match(new RegExp(b+"\\s*\\(([\\d\\w\\.]+)")),e=0,d?e=U(d[1]):(d=c.match(o)||[0,0,0,0,0],b=b.toLowerCase(),q.test(b)?e=parseFloat(d[3]/d[2]):"translatey"==b?e=parseFloat(d[4]/d[2]):"scale"==b?e=parseFloat(d[2]):"rotate"==b&&(e=parseFloat(Math.atan2(d[2],d[1])))),e)):parseFloat(a.css(b))}function bb(a){return a.toUpperCase()}function cb(a){return a.replace(/^./,bb)}function db(a,b){var c=ab.extend(b),f=c.prototype.directions;y[a]=c,d.Element.prototype[a]=function(a,b,d,e){return new c(this.element,a,b,d,e)},e(f,function(b,e){d.Element.prototype[a+cb(e)]=function(a,b,d){return new c(this.element,e,a,b,d)}})}function gb(a,b,c){db(a,{directions:fb,restore:[b],startValue:function(a){return this._startValue=a,this},endValue:function(a){return this._endValue=a,this},shouldHide:function(){return"out"===this._direction&&this._end()===c?!this._reverse:this._reverse},_end:function(){return this._endValue||c},_start:function(){return this._startValue||1},prepare:function(a,c){var d=this,e=d.element.data(b),f=d.shouldHide(),g=isNaN(e)||""===e?d._start():e;a[b]=c[b]=d._end(),f?a[b]=g:c[b]=g}})}function kb(a,b){var d=c.directions[b].vertical,e=a[d?F:E]()/2+"px";return ib[b].replace("$size",e)}var T,_,ab,eb,fb,hb,ib,jb,lb,mb,nb,c=window.kendo,d=c.fx,e=a.each,f=a.extend,g=a.proxy,h=c.support,i=h.browser,j=h.transforms,k=h.transitions,l={scale:0,scalex:0,scaley:0,scale3d:0},m={translate:0,translatex:0,translatey:0,translate3d:0},n="undefined"!=typeof document.documentElement.style.zoom&&!j,o=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,p=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,q=/translatex?$/i,r=/(zoom|fade|expand)(\w+)/,s=/(zoom|fade|expand)/,t=/[xy]$/i,u=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],v=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],w={rotate:"deg",scale:"",skew:"px",translate:"px"},x=j.css,y={},z=Math.round,A="",B="px",C="none",D="auto",E="width",F="height",G="hidden",H="origin",I="abortId",J="overflow",K="translate",L="completeCallback",M=x+"transition",N=x+"transform",O=x+"backface-visibility",P=x+"perspective",Q="800px",R="perspective("+Q+")",S={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};c.directions=S,f(a.fn,{kendoStop:function(a,b){return k?c.fx.stopQueue(this,a||!1,b||!1):this.stop(a,b)}}),j&&!k&&(e(v,function(b,c){a.fn[c]=function(b){if("undefined"==typeof b)return $(this,c);var d=a(this)[0],e=c+"("+b+w[c.replace(t,"")]+")";return-1==d.style.cssText.indexOf(N)?a(this).css(N,e):d.style.cssText=d.style.cssText.replace(new RegExp(c+"\\(.*?\\)","i"),e),this},a.fx.step[c]=function(b){a(b.elem)[c](b.now)}}),T=a.fx.prototype.cur,a.fx.prototype.cur=function(){return-1!=v.indexOf(this.prop)?parseFloat(a(this.elem)[this.prop]()):T.apply(this,arguments)}),c.toggleClass=function(a,b,c,d){return b&&(b=b.split(" "),k&&(c=f({exclusive:"all",duration:400,ease:"ease-out"},c),a.css(M,c.exclusive+" "+c.duration+"ms "+c.ease),setTimeout(function(){a.css(M,"").css(F)},c.duration)),e(b,function(b,c){a.toggleClass(c,d)})),a},c.parseEffects=function(a,b){var c={};return"string"==typeof a?e(a.split(" "),function(a,d){var e=!s.test(d),f=d.replace(r,function(a,b,c){return b+":"+c.toLowerCase()}),g=f.split(":"),h=g[1],i={};g.length>1&&(i.direction=b&&e?S[h].reverse:h),c[g[0]]=i}):e(a,function(a){var d=this.direction;d&&b&&!s.test(a)&&(this.direction=S[d].reverse),c[a]=this}),c},k&&f(c.fx,{transition:function(b,c,d){var e,i,j,l,g=0,h=b.data("keys")||[];d=f({duration:200,ease:"ease-out",complete:null,exclusive:"all"},d),j=!1,l=function(){j||(j=!0,i&&(clearTimeout(i),i=null),b.removeData(I).dequeue().css(M,"").css(M),d.complete.call(b))},d.duration=a.fx?a.fx.speeds[d.duration]||d.duration:d.duration,e=Z(b,c),a.merge(h,X(e)),b.data("keys",a.unique(h)).height(),b.css(M,d.exclusive+" "+d.duration+"ms "+d.ease).css(M),b.css(e).css(N),k.event&&(b.one(k.event,l),0!==d.duration&&(g=500)),i=setTimeout(l,d.duration+g),b.data(I,i),b.data(L,l)},stopQueue:function(a,b,d){var e,f=a.data("keys"),g=!d&&f,h=a.data(L);return g&&(e=c.getComputedStyles(a[0],f)),h&&h(),g&&a.css(e),a.removeData("keys").stop(b)}}),_=c.Class.extend({init:function(a,b){var c=this;c.element=a,c.effects=[],c.options=b,c.restore=[]},run:function(b){var e,g,h,q,r,s,t,d=this,i=b.length,l=d.element,m=d.options,n=a.Deferred(),o={},p={};for(d.effects=b,n.then(a.proxy(d,"complete")),l.data("animating",!0),g=0;i>g;g++)for(e=b[g],e.setReverse(m.reverse),e.setOptions(m),d.addRestoreProperties(e.restore),e.prepare(o,p),r=e.children(),h=0,s=r.length;s>h;h++)r[h].duration(m.duration).run();for(t in m.effects)f(p,m.effects[t].properties);for(l.is(":visible")||f(o,{display:l.data("olddisplay")||"block"}),j&&!m.reset&&(q=l.data("targetTransform"),q&&(o=f(q,o))),o=Z(l,o),j&&!k&&(o=Y(o)),l.css(o).css(N),g=0;i>g;g++)b[g].setup();return m.init&&m.init(),l.data("targetTransform",p),c.fx.animate(l,p,f({},m,{complete:n.resolve})),n.promise()},stop:function(){a(this.element).kendoStop(!0,!0)},addRestoreProperties:function(a){for(var c,b=this.element,d=0,e=a.length;e>d;d++)c=a[d],this.restore.push(c),b.data(c)||b.data(c,b.css(c))},restoreCallback:function(){var b,c,d,a=this.element;for(b=0,c=this.restore.length;c>b;b++)d=this.restore[b],a.css(d,a.data(d))},complete:function(){var b=this,c=0,d=b.element,e=b.options,f=b.effects,g=f.length;for(d.removeData("animating").dequeue(),e.hide&&d.data("olddisplay",d.css("display")).hide(),this.restoreCallback(),n&&!j&&setTimeout(a.proxy(this,"restoreCallback"),0);g>c;c++)f[c].teardown();e.completeCallback&&e.completeCallback(d)}}),c.fx.promise=function(a,b){var e,h,i,d=[],f=new _(a,b),g=c.parseEffects(b.effects);b.effects=g;for(i in g)e=y[i],e&&(h=new e(a,g[i].direction),d.push(h));d[0]?f.run(d):(a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.init&&b.init(),a.dequeue(),f.complete())},c.fx.transitionPromise=function(a,b,d){return c.fx.animateTo(a,b,d),a},f(c.fx,{animate:function(c,g,h){var n=h.transition!==!1;delete h.transition,k&&"transition"in d&&n?d.transition(c,g,h):j?c.animate(Y(g),{queue:!1,show:!1,hide:!1,duration:h.duration,complete:h.complete}):c.each(function(){var c=a(this),d={};e(u,function(a,e){var h,k,n,o,q,r,s,i=g?g[e]+" ":null;i&&(k=g,e in l&&g[e]!==b?(h=i.match(p),j&&f(k,{scale:+h[0]})):e in m&&g[e]!==b&&(n=c.css("position"),o="absolute"==n||"fixed"==n,c.data(K)||(o?c.data(K,{top:V(c,"top")||0,left:V(c,"left")||0,bottom:V(c,"bottom"),right:V(c,"right")}):c.data(K,{top:V(c,"marginTop")||0,left:V(c,"marginLeft")||0})),q=c.data(K),h=i.match(p),h&&(r=e==K+"y"?0:+h[1],s=e==K+"y"?+h[1]:+h[2],o?(isNaN(q.right)?isNaN(r)||f(k,{left:q.left+r}):isNaN(r)||f(k,{right:q.right-r}),isNaN(q.bottom)?isNaN(s)||f(k,{top:q.top+s}):isNaN(s)||f(k,{bottom:q.bottom-s})):(isNaN(r)||f(k,{marginLeft:q.left+r}),isNaN(s)||f(k,{marginTop:q.top+s})))),!j&&"scale"!=e&&e in k&&delete k[e],k&&f(d,k))}),i.msie&&delete d.scale,c.animate(d,{queue:!1,show:!1,hide:!1,duration:h.duration,complete:h.complete})})},animateTo:function(b,c,d){function k(a){c[0].style.cssText="",b[0].style.cssText="",h.mobileOS.android||g.css(J,j),d.completeCallback&&d.completeCallback.call(b,a)}var e,j,g=b.parents().filter(c.parents()).first();d=W(d),h.mobileOS.android||(j=g.css(J),g.css(J,"hidden")),a.each(d.effects,function(a,b){e=e||b.direction}),d.complete=i.msie?function(){setTimeout(k,0)}:k,d.previous=d.reverse?c:b,d.reset=!0,(d.reverse?b:c).each(function(){a(this).kendoAnimate(f(!0,{},d)),d.complete=null,d.previous=null})}}),ab=c.Class.extend({init:function(a,b){var c=this;c.element=a,c._direction=b,c.options={},c._additionalEffects=[],c.restore||(c.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(a){return this._additionalEffects.push(a),this},direction:function(a){return this._direction=a,this},duration:function(a){return this._duration=a,this},compositeRun:function(){var a=this,b=new _(a.element,{reverse:a._reverse,duration:a._duration}),c=a._additionalEffects.concat([a]);return b.run(c)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var i,o,b=this,d=b.element,e=0,g=b.restore,h=g.length,l=a.Deferred(),m={},n={},p=b.children(),q=p.length;for(l.then(a.proxy(b,"_complete")),d.data("animating",!0),e=0;h>e;e++)i=g[e],d.data(i)||d.data(i,d.css(i));for(e=0;q>e;e++)p[e].duration(b._duration).run();return b.prepare(m,n),d.is(":visible")||f(m,{display:d.data("olddisplay")||"block"}),j&&(o=d.data("targetTransform"),o&&(m=f(o,m))),m=Z(d,m),j&&!k&&(m=Y(m)),d.css(m).css(N),b.setup(),d.data("targetTransform",n),c.fx.animate(d,n,{duration:b._duration,complete:l.resolve}),l.promise()},stop:function(){var b=0,c=this.children(),d=c.length;for(b=0;d>b;b++)c[b].stop();return a(this.element).kendoStop(!0,!0),this},restoreCallback:function(){var b,c,d,a=this.element;for(b=0,c=this.restore.length;c>b;b++)d=this.restore[b],a.css(d,a.data(d))},_complete:function(){var b=this,c=b.element;c.removeData("animating").dequeue(),b.restoreCallback(),b.shouldHide()&&c.data("olddisplay",c.css("display")).hide(),n&&!j&&setTimeout(a.proxy(b,"restoreCallback"),0),b.teardown()},setOptions:function(a){f(!0,this.options,a)},children:function(){return[]},shouldHide:a.noop,setup:a.noop,prepare:a.noop,teardown:a.noop,directions:[],setReverse:function(a){return this._reverse=a,this}}),eb=["left","right","up","down"],fb=["in","out"],db("slideIn",{directions:eb,prepare:function(a,b){var d,c=this,e=c.element,f=S[c._direction],g=-f.modifier*(f.vertical?e.outerHeight():e.outerWidth()),h=g/(c.options&&c.options.divisor||1)+B,i="0px";c._reverse&&(d=a,a=b,b=d),j?(a[f.transition]=h,b[f.transition]=i):(a[f.property]=h,b[f.property]=i)}}),db("tile",{directions:eb,init:function(a,b,c){ab.prototype.init.call(this,a,b),this.options={previous:c}},children:function(){var a=this,b=a._reverse,c=a.options.previous,e=a._direction,f=[d(a.element).slideIn(e).setReverse(b)];return c&&f.push(d(c).slideIn(S[e].reverse).setReverse(!b)),f}}),gb("fade","opacity",0),gb("zoom","scale",.01),db("slideMargin",{prepare:function(a,b){var h,c=this,d=c.element,e=c.options,f=d.data(H),g=e.offset,i=c._reverse;i||null!==f||d.data(H,parseFloat(d.css("margin-"+e.axis))),h=d.data(H)||0,b["margin-"+e.axis]=i?h:h+g}}),db("slideTo",{prepare:function(a,b){var c=this,d=c.element,e=c.options,f=e.offset.split(","),g=c._reverse;j?(b.translatex=g?0:f[0],b.translatey=g?0:f[1]):(b.left=g?0:f[0],b.top=g?0:f[1]),d.css("left")}}),db("expand",{directions:["horizontal","vertical"],restore:[J],prepare:function(a,c){var d=this,e=d.element,f=d.options,g=d._reverse,h="vertical"===d._direction?F:E,i=e[0].style[h],j=e.data(h),k=parseFloat(j||i),l=z(e.css(h,D)[h]());a.overflow=G,k=f&&f.reset?l||k:k||l,c[h]=(g?0:k)+B,a[h]=(g?k:0)+B,j===b&&e.data(h,i)},shouldHide:function(){return this._reverse},teardown:function(){var a=this,b=a.element,c="vertical"===a._direction?F:E,d=b.data(c);(d==D||d===A)&&setTimeout(function(){b.css(c,D).css(c)},0)}}),hb={position:"absolute",marginLeft:0,marginTop:0,scale:1},db("transfer",{init:function(a,b){this.element=a,this.options={target:b},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(a,b){var i,m,n,o,p,q,r,s,t,u,v,w,x,c=this,d=c.element,e=c.options,g=c._reverse,h=e.target,j=$(d,"scale"),k=h.offset(),l=h.outerHeight()/d.outerHeight();f(a,hb),b.scale=1,d.css(N,"scale(1)").css(N),i=d.offset(),d.css(N,"scale("+j+")"),m=0,n=0,o=k.left-i.left,p=k.top-i.top,q=m+d.outerWidth(),r=n,s=o+h.outerWidth(),t=p,u=(p-n)/(o-m),v=(t-r)/(s-q),w=(n-r-u*m+v*q)/(v-u),x=n+u*(w-m),a.top=i.top,a.left=i.left,a.transformOrigin=w+B+" "+x+B,g?a.scale=l:b.scale=l}}),ib={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},jb={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}},db("turningPage",{directions:eb,init:function(a,b,c){ab.prototype.init.call(this,a,b),this._container=c},prepare:function(a,b){var d=this,e=d._reverse,f=e?S[d._direction].reverse:d._direction,g=jb[f];a.zIndex=1,d._clipInHalf&&(a.clip=kb(d._container,c.directions[f].reverse)),a[O]=G,b[N]=R+(e?g.start:g.end),a[N]=R+(e?g.end:g.start)},setup:function(){this._container.append(this.element)},face:function(a){return this._face=a,this},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},clipInHalf:function(a){return this._clipInHalf=a,this},temporary:function(a){return this._temporary=a,this},teardown:function(){this._temporary&&this.element.remove()}}),db("staticPage",{directions:eb,init:function(a,b,c){ab.prototype.init.call(this,a,b),this._container=c},restore:["clip"],prepare:function(a){var b=this,c=b._reverse?S[b._direction].reverse:b._direction;a.clip=kb(b._container,c)},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},face:function(a){return this._face=a,this}}),db("pageturn",{directions:["horizontal","vertical"],init:function(a,b,c,d){ab.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var h,a=this,b=a.options,e="horizontal"===a._direction?"left":"top",f=c.directions[e].reverse,g=a._reverse,i=b.face.clone(!0).removeAttr("id"),j=b.back.clone(!0).removeAttr("id"),k=a.element;return g&&(h=e,e=f,f=h),[d(b.face).staticPage(e,k).face(!0).setReverse(g),d(b.back).staticPage(f,k).setReverse(g),d(i).turningPage(e,k).face(!0).clipInHalf(!0).temporary(!0).setReverse(g),d(j).turningPage(f,k).clipInHalf(!0).temporary(!0).setReverse(g)]},prepare:function(a){a[P]=Q,a.transformStyle="preserve-3d"},teardown:function(){this.element.find(".temp-pages").remove()}}),db("flip",{directions:["horizontal","vertical"],init:function(a,b,c,d){ab.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var h,a=this,b=a.options,e="horizontal"===a._direction?"left":"top",f=c.directions[e].reverse,g=a._reverse,i=a.element;return g&&(h=e,e=f,f=h),[d(b.face).turningPage(e,i).face(!0).setReverse(g),d(b.back).turningPage(f,i).setReverse(g)]},prepare:function(a){a[P]=Q,a.transformStyle="preserve-3d"}}),lb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)},mb=c.Class.extend({init:function(){var a=this;a._tickProxy=g(a._tick,a),a._started=!1},tick:a.noop,done:a.noop,onEnd:a.noop,onCancel:a.noop,start:function(){this.done()||(this._started=!0,lb(this._tickProxy))},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var a=this;a._started&&(a.tick(),a.done()?(a._started=!1,a.onEnd()):lb(a._tickProxy))}}),nb=mb.extend({init:function(a){var b=this;f(b,a),mb.fn.init.call(b)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,Date.now()-this.startDate)},moveTo:function(a){var b=this,c=b.movable;b.initial=c[b.axis],b.delta=a.location-b.initial,b.duration=a.duration||300,b.tick=b._easeProxy(a.ease),b.startDate=Date.now(),b.start()},_easeProxy:function(a){var b=this;return function(){b.movable.moveAxis(b.axis,a(b.timePassed(),b.initial,b.delta,b.duration))}}}),f(nb,{easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeOutBack:function(a,b,c,d,e){return e=1.70158,c*((a=a/d-1)*a*((e+1)*a+e)+1)+b}}),d.Animation=mb,d.Transition=nb,d.createEffect=db,d.Effects=y}(window.kendo.jQuery),function(a,b){function h(d){var i,j,k,l,m,n,o,p,f=[],g=d.logic||"and",q=d.filters;for(i=0,j=q.length;j>i;i++)d=q[i],k=d.field,o=d.value,n=d.operator,d.filters?d=h(d):(p=d.ignoreCase,k=k.replace(/\./g,"/"),d=e[n],d&&o!==b&&(l=a.type(o),"string"===l?(m="'{1}'",o=o.replace(/'/g,"''"),p===!0&&(k="tolower("+k+")")):m="date"===l?"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",d.length>3?"substringof"!==d?m="{0}({2},"+m+")":(m="{0}("+m+",{2})","doesnotcontain"===n&&(m+=" eq false")):m="{2} {0} "+m,d=c.format(m,d,o,k))),f.push(d);return d=f.join(" "+g+" "),f.length>1&&(d="("+d+")"),d}var c=window.kendo,d=a.extend,e={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},f={pageSize:a.noop,page:a.noop,filter:function(a,b){b&&(a.$filter=h(b))},sort:function(b,c){var d=a.map(c,function(a){var b=a.field.replace(/\./g,"/");return"desc"===a.dir&&(b+=" desc"),b}).join(",");d&&(b.$orderby=d)},skip:function(a,b){b&&(a.$skip=b)},take:function(a,b){b&&(a.$top=b)}},g={read:{dataType:"jsonp"}};d(!0,c.data,{schemas:{odata:{type:"json",data:function(a){return a.d.results||[a.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(a,b){var d,e,h,i;if(a=a||{},b=b||"read",i=(this.options||g)[b],i=i?i.dataType:"json","read"===b){d={$inlinecount:"allpages"},"json"!=i&&(d.$format="json");for(h in a)f[h]?f[h](d,a[h]):d[h]=a[h]}else{if("json"!==i)throw new Error("Only json dataType can be used for "+b+" operation.");if("destroy"!==b){for(h in a)e=a[h],"number"==typeof e&&(a[h]=e+"");d=c.stringify(a)}}return d}}}})}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=a.isArray,e=a.isPlainObject,f=a.map,g=a.each,h=a.extend,i=c.getter,j=c.Class,k=j.extend({init:function(a){var n,o,p,b=this,i=a.total,j=a.model,k=a.parse,l=a.errors,m=a.data;j&&(e(j)&&(j.fields&&g(j.fields,function(a,c){c=e(c)&&c.field?h(c,{field:b.getter(c.field)}):{field:b.getter(c)},j.fields[a]=c}),n=j.id,n&&(o={},o[b.xpathToMember(n,!0)]={field:b.getter(n)},j.fields=h(o,j.fields),j.id=b.xpathToMember(n)),j=c.data.Model.define(j)),b.model=j),i&&("string"==typeof i?(i=b.getter(i),b.total=function(a){return parseInt(i(a),10)}):"function"==typeof i&&(b.total=i)),l&&("string"==typeof l?(l=b.getter(l),b.errors=function(a){return l(a)||null}):"function"==typeof l&&(b.errors=l)),m&&("string"==typeof m?(m=b.xpathToMember(m),b.data=function(a){var e,c=b.evaluate(a,m);return c=d(c)?c:[c],b.model&&j.fields?(e=new b.model,f(c,function(a){if(a){var c,b={};for(c in j.fields)b[c]=e._parse(c,j.fields[c].field(a));return b}})):c}):"function"==typeof m&&(b.data=m)),"function"==typeof k&&(p=b.parse,b.parse=function(a){var c=k.call(b,a);return p.call(b,c)})},total:function(a){return this.data(a).length},errors:function(a){return a?a.errors:null},parseDOM:function(a){var e,f,g,h,i,j,m,c={},k=a.attributes,l=k.length;for(m=0;l>m;m++)j=k[m],c["@"+j.nodeName]=j.nodeValue;for(f=a.firstChild;f;f=f.nextSibling)g=f.nodeType,3===g||4===g?c["#text"]=f.nodeValue:1===g&&(e=this.parseDOM(f),h=f.nodeName,i=c[h],d(i)?i.push(e):i=i!==b?[i,e]:e,c[h]=i);return c},evaluate:function(a,b){for(var e,f,g,h,i,c=b.split(".");e=c.shift();)if(a=a[e],d(a)){for(f=[],b=c.join("."),i=0,g=a.length;g>i;i++)h=this.evaluate(a[i],b),h=d(h)?h:[h],f.push.apply(f,h);return f}return a},parse:function(b){var c,d,e={};return c=b.documentElement||a.parseXML(b).documentElement,d=this.parseDOM(c),e[c.nodeName]=d,e},xpathToMember:function(a,b){return a?(a=a.replace(/^\//,"").replace(/\//g,"."),a.indexOf("@")>=0?a.replace(/\.?(@.*)/,b?"$1":'["$1"]'):a.indexOf("text()")>=0?a.replace(/(\.?text\(\))/,b?"#text":'["#text"]'):a):""},getter:function(a){return i(this.xpathToMember(a),!0)}});a.extend(!0,c.data,{XmlDataReader:k,readers:{xml:k}})}(window.kendo.jQuery),kendo_module({id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]}),function(a,b){function V(a,b,c,d){return function(e){var g,f={};for(g in e)f[g]=e[g];f.field=d?c+"."+e.field:c,a.trigger(b,f)}}function X(b,c){if(b===c)return!0;var f,d=a.type(b),e=a.type(c);if(d!==e)return!1;if("date"===d)return b.getTime()===c.getTime();if("object"!==d&&"array"!==d)return!1;for(f in b)if(!X(b[f],c[f]))return!1;return!0}function $(a,b){var c,d;for(d in a){if(c=a[d],f(c)&&c.field&&c.field===b)return c;if(c===b)return c}return null}function db(a){this.data=a||[]}function eb(a,c){if(a){var d=typeof a===q?{field:a,dir:c}:a,e=h(d)?d:d!==b?[d]:[];return i(e,function(a){return!!a.dir})}}function gb(a){var b,c,d,e,f=a.filters;if(f)for(b=0,c=f.length;c>b;b++)d=f[b],e=d.operator,e&&typeof e===q&&(d.operator=fb[e.toLowerCase()]||e),gb(d)}function hb(a){return a&&!g(a)?((h(a)||!a.filters)&&(a={logic:"and",filters:h(a)?a:[a]}),gb(a),a):void 0}function ib(a){return h(a)?a:[a]}function jb(a,c){var d=typeof a===q?{field:a,dir:c}:a,e=h(d)?d:d!==b?[d]:[];return k(e,function(a){return{field:a.field,dir:a.dir||"asc",aggregates:a.aggregates}})}function kb(a,b){return a&&a.getTime&&b&&b.getTime?a.getTime()===b.getTime():a===b}function lb(a,b,c,d,e){var f,g,h,i,j;for(b=b||[],i=b.length,f=0;i>f;f++)g=b[f],h=g.aggregate,j=g.field,a[j]=a[j]||{},a[j][h]=mb[h.toLowerCase()](a[j][h],c,n.accessor(j),d,e)}function nb(a){var b,c=a.length,d=new Array(c);for(b=0;c>b;b++)d[b]=a[b].toJSON();return d}function ob(a,b){b=b||{};var c=new db(a),d=b.aggregate,e=b.filter;return e&&(c=c.filter(e)),c.aggregate(d)}function sb(a,b,c){var d,e,f,g;for(f=0,g=a.length;g>f;f++){d=a[f];for(e in b)d[e]=c._parse(e,b[e](d))}}function tb(a,b,c){var d,e,f;for(e=0,f=a.length;f>e;e++)d=a[e],d.value=c._parse(d.field,d.value),d.hasSubgroups?tb(d.items,b,c):sb(d.items,b,c)}function ub(a,b,c,d){return function(e){return e=a(e),e&&!g(d)&&("[object Array]"===P.call(e)||e instanceof U||(e=[e]),c(e,d,new b)),e||[]}}function wb(a,b,c,d){for(var e,g,f=0;b.length&&d&&(e=b[f],g=e.items,a&&a.field===e.field&&a.value===e.value?(a.hasSubgroups&&a.items.length?wb(a.items[a.items.length-1],e.items,c,d):(g=g.slice(c,d),d-=g.length,a.items=a.items.concat(g)),b.splice(f--,1)):(g=g.slice(c,d),d-=g.length,e.items=g,e.items.length||b.splice(f--,1)),c=0,!(++f>=b.length)););}function xb(a){var b,c,d=[];for(b=0,c=a.length;c>b;b++)d=a[b].hasSubgroups?d.concat(xb(a[b].items)):d.concat(a[b].items.slice());return d}function yb(a,b){var c,d,e,f;if(b)for(c=0,d=a.length;d>c;c++)e=a[c],f=e.items,e.hasSubgroups?yb(f,b):!f.length||f[0]instanceof b||(f.type=b,f.wrapAll(f,f))}function zb(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c].hasSubgroups){if(zb(a[c].items,b))return!0}else if(b(a[c].items,a[c]))return!0}function Ab(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c].uid==b.uid)return b=a[c],a.splice(c,1),b}function Bb(a,b){var c,d,e,f;for(e=a.length-1,f=0;e>=f;e--)d=a[e],c={value:b.get(d.field),field:d.field,items:c?[c]:[b],hasSubgroups:!!c,aggregates:{}};return c}function Cb(a,b){return b?Eb(a,function(a){return a[b.idField]===b.id}):-1}function Db(a,b){return b?Eb(a,function(a){return a.uid==b.uid}):-1}function Eb(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(b(a[c]))return c;return-1}function Hb(b,c){var e,f,h,k,l,d=a(b)[0].children,g=[],i=c[0],j=c[1];for(e=0,f=d.length;f>e;e++)h={},l=d[e],l.disabled||(h[i.field]=l.text,k=l.attributes.value,k=k&&k.specified?l.value:l.text,h[j.field]=k,g.push(h));return g}function Ib(b,c){var f,g,h,k,l,m,n,d=a(b)[0].tBodies[0],e=d?d.rows:[],i=c.length,j=[];for(f=0,g=e.length;g>f;f++){for(l={},n=!0,k=e[f].cells,h=0;i>h;h++)m=k[h],"th"!==m.nodeName.toLowerCase()&&(n=!1,l[c[h].field]=m.innerHTML);n||j.push(l)}return j}function Lb(b,c){var e,f,h,m,n,o,p,q,d=a(b).children(),g=[],i=c[0].field,j=c[1]&&c[1].field,k=c[2]&&c[2].field,l=c[3]&&c[3].field;for(e=0,f=d.length;f>e;e++)h={},m=d.eq(e),o=m[0].firstChild,q=m.children(),b=q.filter("ul"),q=q.filter(":not(ul)"),n=m.attr("data-id"),n&&(h.id=n),o&&(h[i]=3==o.nodeType?o.nodeValue:q.text()),j&&(h[j]=q.find("a").attr("href")),l&&(h[l]=q.find("img").attr("src")),k&&(p=q.find(".k-sprite").prop("className"),h[k]=p&&a.trim(p.replace("k-sprite",""))),b.length&&(h.items=Lb(b.eq(0),c)),"true"==m.attr("data-hasChildren")&&(h.hasChildren=!0),g.push(h);return g}var k,ab,bb,cb,fb,mb,pb,qb,rb,vb,Fb,Gb,Jb,Kb,c=a.extend,d=a.proxy,e=a.isFunction,f=a.isPlainObject,g=a.isEmptyObject,h=a.isArray,i=a.grep,j=a.ajax,l=a.each,m=a.noop,n=window.kendo,o=n.Observable,p=n.Class,q="string",r="function",s="create",t="read",u="update",v="destroy",w="change",x="sync",y="get",z="error",A="requestStart",B="progress",C="requestEnd",D=[s,t,u,v],E=function(a){return a},F=n.getter,G=n.stringify,H=Math,I=[].push,J=[].join,K=[].pop,L=[].splice,M=[].shift,N=[].slice,O=[].unshift,P={}.toString,Q=n.support.stableSort,R=/^\/Date\((.*?)\)\/$/,S=/(\r+|\n+)/g,T=/(?=['\\])/g,U=o.extend({init:function(a,b){var c=this;c.type=b||W,o.fn.init.call(c),c.length=a.length,c.wrapAll(a,c)},toJSON:function(){var a,c,b=this.length,d=new Array(b);for(a=0;b>a;a++)c=this[a],c instanceof W&&(c=c.toJSON()),d[a]=c;return d},parent:m,wrapAll:function(a,b){var d,e,c=this,f=function(){return c
};for(b=b||[],d=0,e=a.length;e>d;d++)b[d]=c.wrap(a[d],f);return b},wrap:function(a,b){var d,c=this;return null!==a&&"[object Object]"===P.call(a)&&(d=a instanceof c.type||a instanceof _,d||(a=a instanceof W?a.toJSON():a,a=new c.type(a)),a.parent=b,a.bind(w,function(a){c.trigger(w,{field:a.field,node:a.node,index:a.index,items:a.items||[this],action:a.node?a.action||"itemchange":"itemchange"})})),a},push:function(){var c,a=this.length,b=this.wrapAll(arguments);return c=I.apply(this,b),this.trigger(w,{action:"add",index:a,items:b}),c},slice:N,join:J,pop:function(){var a=this.length,b=K.apply(this);return a&&this.trigger(w,{action:"remove",index:a-1,items:[b]}),b},splice:function(a,b,c){var e,f,g,d=this.wrapAll(N.call(arguments,2));if(e=L.apply(this,[a,b].concat(d)),e.length)for(this.trigger(w,{action:"remove",index:a,items:e}),f=0,g=e.length;g>f;f++)e[f].children&&e[f].unbind(w);return c&&this.trigger(w,{action:"add",index:a,items:d}),e},shift:function(){var a=this.length,b=M.apply(this);return a&&this.trigger(w,{action:"remove",index:0,items:[b]}),b},unshift:function(){var b,a=this.wrapAll(arguments);return b=O.apply(this,a),this.trigger(w,{action:"add",index:0,items:a}),b},indexOf:function(a){var c,d,b=this;for(c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},forEach:function(a){for(var b=0,c=this.length;c>b;b++)a(this[b],b,this)},map:function(a){for(var b=0,c=[],d=this.length;d>b;b++)c[b]=a(this[b],b,this);return c},filter:function(a){for(var d,b=0,c=[],e=this.length;e>b;b++)d=this[b],a(d,b,this)&&(c[c.length]=d);return c},find:function(a){for(var c,b=0,d=this.length;d>b;b++)if(c=this[b],a(c,b,this))return c},every:function(a){for(var c,b=0,d=this.length;d>b;b++)if(c=this[b],!a(c,b,this))return!1;return!0},some:function(a){for(var c,b=0,d=this.length;d>b;b++)if(c=this[b],a(c,b,this))return!0;return!1},remove:function(a){this.splice(this.indexOf(a),1)}}),W=o.extend({init:function(a){var c,d,b=this,e=function(){return b};o.fn.init.call(this);for(d in a)c=a[d],"_"!=d.charAt(0)&&(c=b.wrap(c,d,e)),b[d]=c;b.uid=n.guid()},shouldSerialize:function(a){return this.hasOwnProperty(a)&&"_events"!==a&&typeof this[a]!==r&&"uid"!==a},forEach:function(a){for(var b in this)this.shouldSerialize(b)&&a(this[b],b)},toJSON:function(){var b,c,a={};for(c in this)this.shouldSerialize(c)&&(b=this[c],(b instanceof W||b instanceof U)&&(b=b.toJSON()),a[c]=b);return a},get:function(a){var c,b=this;return b.trigger(y,{field:a}),c="this"===a?b:n.getter(a,!0)(b)},_set:function(a,b){var d,e,f,c=this;if(a.indexOf("."))for(d=a.split("."),e="";d.length>1;){if(e+=d.shift(),f=n.getter(e,!0)(c),f instanceof W)return f.set(d.join("."),b),void 0;e+="."}n.setter(a)(c,b)},set:function(a,b){var c=this,d=n.getter(a,!0)(c);d!==b&&(c.trigger("set",{field:a,value:b})||(c._set(a,c.wrap(b,a,function(){return c})),c.trigger(w,{field:a})))},parent:m,wrap:function(a,b,c){var f,g,d=this,e=P.call(a);return null===a||"[object Object]"!==e&&"[object Array]"!==e||(f=a instanceof U,g=a instanceof Fb,"[object Object]"!==e||g||f?("[object Array]"===e||f||g)&&(f||g||(a=new U(a)),a.parent()!=c()&&a.bind(w,V(d,w,b,!1))):(a instanceof W||(a=new W(a)),a.parent()!=c()&&(a.bind(y,V(d,y,b,!0)),a.bind(w,V(d,w,b,!0)))),a.parent=c),a}}),Y={number:function(a){return n.parseFloat(a)},date:function(a){return n.parseDate(a)},"boolean":function(a){return typeof a===q?"true"===a.toLowerCase():null!=a?!!a:a},string:function(a){return null!=a?a+"":a},"default":function(a){return a}},Z={string:"",number:0,date:new Date,"boolean":!1,"default":""},_=W.extend({init:function(c){var d=this;(!c||a.isEmptyObject(c))&&(c=a.extend({},d.defaults,c)),W.fn.init.call(d,c),d.dirty=!1,d.idField&&(d.id=d.get(d.idField),d.id===b&&(d.id=d._defaultId))},shouldSerialize:function(a){return W.fn.shouldSerialize.call(this,a)&&"uid"!==a&&!("id"!==this.idField&&"id"===a)&&"dirty"!==a&&"_accessors"!==a},_parse:function(a,b){var f,c=this,d=a,e=c.fields||{};return a=e[a],a||(a=$(e,d)),a&&(f=a.parse,!f&&a.type&&(f=Y[a.type.toLowerCase()])),f?f(b):b},editable:function(a){return a=(this.fields||{})[a],a?a.editable!==!1:!0},set:function(a,b,c){var d=this;d.editable(a)&&(b=d._parse(a,b),X(b,d.get(a))||(d.dirty=!0,W.fn.set.call(d,a,b,c)))},accept:function(a){var d,b=this,c=function(){return b};for(d in a)b._set(d,b.wrap(a[d],d,c));b.idField&&(b.id=b.get(b.idField)),b.dirty=!1},isNew:function(){return this.id===this._defaultId}});_.define=function(a,d){d===b&&(d=a,a=_);var e,g,h,i,j,k,l,f=c({defaults:{}},d),m={},n=f.id;if(n&&(f.idField=n),f.id&&delete f.id,n&&(f.defaults[n]=f._defaultId=""),"[object Array]"===P.call(f.fields)){for(k=0,l=f.fields.length;l>k;k++)h=f.fields[k],typeof h===q?m[h]={}:h.field&&(m[h.field]=h);f.fields=m}for(g in f.fields)h=f.fields[g],i=h.type||"default",j=null,g=typeof h.field===q?h.field:g,h.nullable||(j=f.defaults[g]=h.defaultValue!==b?h.defaultValue:Z[i.toLowerCase()]),d.id===g&&(f._defaultId=j),f.defaults[g]=j,h.parse=h.parse||Y[i];return e=a.extend(f),e.define=function(a){return _.define(e,a)},f.fields&&(e.fields=f.fields,e.idField=f.idField),e},ab={selector:function(a){return e(a)?a:F(a)},asc:function(a){var b=this.selector(a);return function(a,c){return a=b(a),c=b(c),null==a&&null==c?0:a&&!c&&a>0||null==c?1:c&&!a&&c>0?-1:a>c?1:c>a?-1:0}},desc:function(a){var b=this.selector(a);return function(a,c){return a=b(a),c=b(c),null==a&&null==c?0:a&&!c&&a>0||null==c?-1:c&&!a&&c>0||null==a?1:c>a?1:a>c?-1:0}},create:function(a){return this[a.dir.toLowerCase()](a.field)},combine:function(a){return function(b,c){var e,f,d=a[0](b,c);for(e=1,f=a.length;f>e;e++)d=d||a[e](b,c);return d}}},bb=c({},ab,{asc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:null==e?1:d>e?1:e>d?-1:0}},desc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:e>d?1:d>e?-1:0}}}),k=function(a,b){var c,d=a.length,e=new Array(d);for(c=0;d>c;c++)e[c]=b(a[c],c,a);return e},cb=function(){function a(a){return a.replace(T,"\\").replace(S,"")}function b(b,c,d,e){var f;return null!=d&&(typeof d===q&&(d=a(d),f=R.exec(d),f?d=new Date(+f[1]):e?(d="'"+d.toLowerCase()+"'",c="("+c+" || '').toLowerCase()"):d="'"+d+"'"),d.getTime&&(c="("+c+"?"+c+".getTime():"+c+")",d=d.getTime())),c+" "+b+" "+d}return{eq:function(a,c,d){return b("==",a,c,d)},neq:function(a,c,d){return b("!=",a,c,d)},gt:function(a,c,d){return b(">",a,c,d)},gte:function(a,c,d){return b(">=",a,c,d)},lt:function(a,c,d){return b("<",a,c,d)},lte:function(a,c,d){return b("<=",a,c,d)},startswith:function(b,c,d){return d&&(b+=".toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".lastIndexOf('"+c+"', 0) == 0"},endswith:function(b,c,d){return d&&(b+=".toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"', "+b+".length - "+(c||"").length+") >= 0"},contains:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') >= 0"},doesnotcontain:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') == -1"}}}(),db.filterExpr=function(a){var e,f,g,h,k,l,c=[],d={and:" && ",or:" || "},i=[],j=[],m=a.filters;for(e=0,f=m.length;f>e;e++)g=m[e],k=g.field,l=g.operator,g.filters?(h=db.filterExpr(g),g=h.expression.replace(/__o\[(\d+)\]/g,function(a,b){return b=+b,"__o["+(j.length+b)+"]"}).replace(/__f\[(\d+)\]/g,function(a,b){return b=+b,"__f["+(i.length+b)+"]"}),j.push.apply(j,h.operators),i.push.apply(i,h.fields)):(typeof k===r?(h="__f["+i.length+"](d)",i.push(k)):h=n.expr(k),typeof l===r?(g="__o["+j.length+"]("+h+", "+g.value+")",j.push(l)):g=cb[(l||"eq").toLowerCase()](h,g.value,g.ignoreCase!==b?g.ignoreCase:!0)),c.push(g);return{expression:"("+c.join(d[a.logic])+")",fields:i,operators:j}},fb={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},db.normalizeFilter=hb,db.prototype={toArray:function(){return this.data},range:function(a,b){return new db(this.data.slice(a,a+b))},skip:function(a){return new db(this.data.slice(a))},take:function(a){return new db(this.data.slice(0,a))},select:function(a){return new db(k(this.data,a))},orderBy:function(a){var b=this.data.slice(0),c=e(a)||!a?ab.asc(a):a.compare;return new db(b.sort(c))},orderByDescending:function(a){return new db(this.data.slice(0).sort(ab.desc(a)))},sort:function(a,b,c){var d,e,f=eb(a,b),g=[];if(c=c||ab,f.length){for(d=0,e=f.length;e>d;d++)g.push(c.create(f[d]));return this.orderBy({compare:c.combine(g)})}return this},filter:function(a){var b,c,d,e,f,h,i,k,g=this.data,j=[];if(a=hb(a),!a||0===a.filters.length)return this;for(e=db.filterExpr(a),h=e.fields,i=e.operators,f=k=new Function("d, __f, __o","return "+e.expression),(h.length||i.length)&&(k=function(a){return f(a,h,i)}),b=0,d=g.length;d>b;b++)c=g[b],k(c)&&j.push(c);return new db(j)},group:function(a,b){a=jb(a||[]),b=b||this.data;var e,c=this,d=new db(c.data);return a.length>0&&(e=a[0],d=d.groupBy(e).select(function(c){var d=new db(b).filter([{field:c.field,operator:"eq",value:c.value}]);return{field:c.field,value:c.value,items:a.length>1?new db(c.items).group(a.slice(1),d.toArray()).toArray():c.items,hasSubgroups:a.length>1,aggregates:d.aggregate(e.aggregates)}})),d},groupBy:function(a){if(g(a)||!this.data.length)return new db([]);var e,i,j,k,b=a.field,c=this._sortForGrouping(b,a.dir||"asc"),d=n.accessor(b),f=d.get(c[0],b),h={field:b,value:f,items:[]},l=[h];for(j=0,k=c.length;k>j;j++)e=c[j],i=d.get(e,b),kb(f,i)||(f=i,h={field:b,value:f,items:[]},l.push(h)),h.items.push(e);return new db(l)},_sortForGrouping:function(a,b){var c,d,e=this.data;if(!Q){for(c=0,d=e.length;d>c;c++)e[c].__position=c;for(e=new db(e).sort(a,b,bb).toArray(),c=0,d=e.length;d>c;c++)delete e[c].__position;return e}return this.sort(a,b).toArray()},aggregate:function(a){var b,c,d={};if(a&&a.length)for(b=0,c=this.data.length;c>b;b++)lb(d,a,this.data[b],b,c);return d}},mb={sum:function(a,b,c){return(a||0)+c.get(b)},count:function(a){return(a||0)+1},average:function(a,b,c,d,e){return a=(a||0)+c.get(b),d==e-1&&(a/=e),a},max:function(a,b,c){var d=c.get(b);return a=a||0,d>a&&(a=d),a},min:function(a,b,c){var d=c.get(b);return a=a||d,a>d&&(a=d),a}},db.process=function(a,c){c=c||{};var g,d=new db(a),e=c.group,f=jb(e||[]).concat(eb(c.sort||[])),h=c.filter,i=c.skip,j=c.take;return h&&(d=d.filter(h),g=d.toArray().length),f&&(d=d.sort(f),e&&(a=d.toArray())),i!==b&&j!==b&&(d=d.range(i,j)),e&&(d=d.group(e,a)),{total:g,data:d.toArray()}},pb=p.extend({init:function(a){this.data=a.data},read:function(a){a.success(this.data)},update:function(a){a.success(a.data)},create:function(a){a.success(a.data)},destroy:function(a){a.success(a.data)}}),qb=p.extend({init:function(a){var d,b=this;a=b.options=c({},b.options,a),l(D,function(b,c){typeof a[c]===q&&(a[c]={url:a[c]})}),b.cache=a.cache?rb.create(a.cache):{find:m,add:m},d=a.parameterMap,b.parameterMap=e(d)?d:function(a){var b={};return l(a,function(a,c){a in d&&(a=d[a],f(a)&&(c=a.value(c),a=a.key)),b[a]=c}),b}},options:{parameterMap:E},create:function(a){return j(this.setup(a,s))},read:function(c){var e,f,g,d=this,h=d.cache;c=d.setup(c,t),e=c.success||m,f=c.error||m,g=h.find(c.data),g!==b?e(g):(c.success=function(a){h.add(c.data,a),e(a)},a.ajax(c))},update:function(a){return j(this.setup(a,u))},destroy:function(a){return j(this.setup(a,v))},setup:function(a,b){a=a||{};var f,d=this,g=d.options[b],h=e(g.data)?g.data(a.data):g.data;return a=c(!0,{},g,a),f=c(!0,{},h,a.data),a.data=d.parameterMap(f,b),e(a.url)&&(a.url=a.url(f)),a}}),rb=p.extend({init:function(){this._store={}},add:function(a,c){a!==b&&(this._store[G(a)]=c)},find:function(a){return this._store[G(a)]},clear:function(){this._store={}},remove:function(a){delete this._store[G(a)]}}),rb.create=function(a){var b={inmemory:function(){return new rb}};return f(a)&&e(a.find)?a:a===!0?new rb:b[a]()},vb=p.extend({init:function(a){var c,e,g,h,i,j,k,b=this;a=a||{};for(c in a)e=a[c],b[c]=typeof e===q?F(e):e;h=a.modelBase||_,f(b.model)&&(b.model=g=h.define(b.model)),b.model&&(i=d(b.data,b),j=d(b.groups,b),k={},g=b.model,g.fields&&l(g.fields,function(a,b){f(b)&&b.field?k[b.field]=F(b.field):k[a]=F(a)}),b.data=ub(i,g,sb,k),b.groups=ub(j,g,tb,k))},errors:function(a){return a?a.errors:null},parse:E,data:E,total:function(a){return a.length},groups:E,status:function(a){return a.status},aggregates:function(){return{}}}),Fb=o.extend({init:function(a){var e,f,d=this;a&&(f=a.data),a=d.options=c({},d.options,a),d._map={},d._prefetch={},d._data=[],d._ranges=[],d._view=[],d._pristine=[],d._destroyed=[],d._pageSize=a.pageSize,d._page=a.page||(a.pageSize?1:b),d._sort=eb(a.sort),d._filter=hb(a.filter),d._group=jb(a.group),d._aggregate=a.aggregate,d._total=a.total,o.fn.init.call(d),d.transport=Gb.create(a,f),d.reader=new n.data.readers[a.schema.type||"json"](a.schema),e=d.reader.model||{},d._data=d._observe(d._data),d.bind([z,w,A,x,C,B],a)},options:{data:[],schema:{modelBase:_},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var a=this.group()||[];return this.options.serverGrouping&&a.length},_flatData:function(a){return this._isServerGrouped()?xb(a):a},parent:m,get:function(a){var b,c,d=this._flatData(this._data);for(b=0,c=d.length;c>b;b++)if(d[b].id==a)return d[b]},getByUid:function(a){var b,c,d=this._flatData(this._data);if(d)for(b=0,c=d.length;c>b;b++)if(d[b].uid==a)return d[b]},indexOf:function(a){return Db(this._data,a)},at:function(a){return this._data[a]},data:function(a){var c=this;return a===b?c._data:(c._data=this._observe(a),c._ranges=[],c._addRange(c._data),c._total=c._data.length,c._process(c._data),void 0)},view:function(){return this._view},add:function(a){return this.insert(this._data.length,a)},insert:function(a,b){return b||(b=a,a=0),b instanceof _||(b=this.reader.model?new this.reader.model(b):new W(b)),this._isServerGrouped()?this._data.splice(a,0,Bb(this.group(),b)):this._data.splice(a,0,b),b},remove:function(a){var b,c=this,d=c._isServerGrouped();return this._eachItem(c._data,function(e){return b=Ab(e,a),b&&d?(b.isNew&&b.isNew()||c._destroyed.push(b),!0):void 0}),a},sync:function(){var c,d,i,b=this,e=[],f=[],g=b._destroyed,h=b._flatData(b._data);if(b.reader.model){for(c=0,d=h.length;d>c;c++)h[c].isNew()?e.push(h[c]):h[c].dirty&&f.push(h[c]);i=b._send("create",e),i.push.apply(i,b._send("update",f)),i.push.apply(i,b._send("destroy",g)),a.when.apply(null,i).then(function(){var a,c;for(a=0,c=arguments.length;c>a;a++)b._accept(arguments[a]);b._change({action:"sync"}),b.trigger(x)})}},cancelChanges:function(a){var b=this,c=b._readData(b._pristine);a instanceof n.data.Model?b._cancelModel(a):(b._destroyed=[],b._data=b._observe(c),b.options.serverPaging&&(b._total=b.reader.total(b._pristine)),b._change())},hasChanges:function(){var a,b,c=this._data;if(this._destroyed.length)return!0;for(a=0,b=c.length;b>a;a++)if(c[a].isNew()||c[a].dirty)return!0;return!1},_accept:function(b){var j,c=this,d=b.models,e=b.response,f=0,g=c._isServerGrouped(),h=c._readData(c._pristine),i=b.type;if(c.trigger(C,{response:e,type:i}),e){if(e=c.reader.parse(e),c._handleCustomErrors(e))return;e=c.reader.data(e),a.isArray(e)||(e=[e])}else e=a.map(d,function(a){return a.toJSON()});for("destroy"===i&&(c._destroyed=[]),f=0,j=d.length;j>f;f++)"destroy"!==i?(d[f].accept(e[f]),"create"===i?h.push(g?Bb(c.group(),d[f]):e[f]):"update"===i&&c._updatePristineForModel(d[f],e[f])):c._removePristineForModel(d[f])},_updatePristineForModel:function(a,b){this._executeOnPristineForModel(a,function(a,d){c(!0,d[a],b)})},_executeOnPristineForModel:function(a,b){this._eachPristineItem(function(c){var d=Cb(c,a);return d>-1?(b(d,c),!0):void 0})},_removePristineForModel:function(a){this._executeOnPristineForModel(a,function(a,b){b.splice(a,1)})},_readData:function(a){var b=this._isServerGrouped()?this.reader.groups:this.reader.data;return b(a)},_eachPristineItem:function(a){this._eachItem(this._readData(this._pristine),a)},_eachItem:function(a,b){a&&a.length&&(this._isServerGrouped()?zb(a,b):b(a))},_pristineForModel:function(a){var b,c,d=function(d){return c=Cb(d,a),c>-1?(b=d[c],!0):void 0};return this._eachPristineItem(d),b},_cancelModel:function(a){var c,b=this._pristineForModel(a);this._eachItem(this._data,function(d){c=Db(d,a),-1!=c&&(!a.isNew()&&b?d[c].accept(b):d.splice(c,1))})},_promise:function(b,d,e){var f=this,g=f.transport;return a.Deferred(function(a){g[e].call(g,c({success:function(b){a.resolve({response:b,models:d,type:e})},error:function(b,c,d){a.reject(b),f.error(b,c,d)}},b))}).promise()},_send:function(a,b){var d,e,c=this,f=[];if(c.options.batch)b.length&&f.push(c._promise({data:{models:nb(b)}},b,a));else for(d=0,e=b.length;e>d;d++)f.push(c._promise({data:b[d].toJSON()},[b[d]],a));return f},read:function(a){var b=this,c=b._params(a);b._queueRequest(c,function(){b.trigger(A)?b._dequeueRequest():(b.trigger(B),b._ranges=[],b.transport.read({data:c,success:d(b.success,b),error:d(b.error,b)}))})},success:function(b){var c=this,d=c.options;return c.trigger(C,{response:b,type:"read"}),b=c.reader.parse(b),c._handleCustomErrors(b)?(c._dequeueRequest(),void 0):(c._pristine=f(b)?a.extend(!0,{},b):b.slice?b.slice(0):b,c._total=c.reader.total(b),c._aggregate&&d.serverAggregates&&(c._aggregateResult=c.reader.aggregates(b)),b=c._readData(b),c._data=c._observe(b),c._addRange(c._data),c._dequeueRequest(),c._process(c._data),void 0)},_addRange:function(a){var b=this,c=b._skip||0,d=c+b._flatData(a).length;b._ranges.push({start:c,end:d,data:a}),b._ranges.sort(function(a,b){return a.start-b.start})},error:function(a,b,c){this._dequeueRequest(),this.trigger(C,{}),this.trigger(z,{xhr:a,status:b,errorThrown:c})},_params:function(a){var b=this,d=c({take:b.take(),skip:b.skip(),page:b.page(),pageSize:b.pageSize(),sort:b._sort,filter:b._filter,group:b._group,aggregate:b._aggregate},a);return b.options.serverPaging||(delete d.take,delete d.skip,delete d.page,delete d.pageSize),b.options.serverGrouping||delete d.group,b.options.serverFiltering||delete d.filter,b.options.serverSorting||delete d.sort,b.options.serverAggregates||delete d.aggregate,d},_queueRequest:function(a,c){var e=this;e._requestInProgress?e._pending={callback:d(c,e),options:a}:(e._requestInProgress=!0,e._pending=b,c())},_dequeueRequest:function(){var a=this;a._requestInProgress=!1,a._pending&&a._queueRequest(a._pending.options,a._pending.callback)},_handleCustomErrors:function(a){if(this.reader.errors){var b=this.reader.errors(a);if(b)return this.trigger(z,{xhr:null,status:"customerror",errorThrown:"custom error",errors:b}),!0}return!1},_observe:function(a){var b=this,c=b.reader.model,e=!1;return c&&a.length&&(e=!(a[0]instanceof c)),a instanceof U?e&&(a.type=b.reader.model,a.wrapAll(a,a)):(a=new U(a,b.reader.model),a.parent=function(){return b.parent()}),b._isServerGrouped()&&yb(a,c),a.bind(w,d(b._change,b))},_change:function(a){var c,d,f,b=this,e=a?a.action:"";if("remove"===e)for(c=0,d=a.items.length;d>c;c++)a.items[c].isNew&&a.items[c].isNew()||b._destroyed.push(a.items[c]);!b.options.autoSync||"add"!==e&&"remove"!==e&&"itemchange"!==e?(f=b._total||b.reader.total(b._pristine),"add"===e?f++:"remove"===e?f--:"itemchange"===e||"sync"===e||b.options.serverPaging||(f=b.reader.total(b._pristine)),b._total=f,b._process(b._data,a)):b.sync()},_process:function(a,c){var f,d=this,e={};d.options.serverPaging!==!0&&(e.skip=d._skip,e.take=d._take||d._pageSize,e.skip===b&&d._page!==b&&d._pageSize!==b&&(e.skip=(d._page-1)*d._pageSize)),d.options.serverSorting!==!0&&(e.sort=d._sort),d.options.serverFiltering!==!0&&(e.filter=d._filter),d.options.serverGrouping!==!0&&(e.group=d._group),d.options.serverAggregates!==!0&&(e.aggregate=d._aggregate,d._aggregateResult=ob(a,e)),f=db.process(a,e),d._view=f.data,f.total===b||d.options.serverFiltering||(d._total=f.total),c=c||{},c.items=c.items||d._view,d.trigger(w,c)},_mergeState:function(a){var c=this;return a!==b&&(c._pageSize=a.pageSize,c._page=a.page,c._sort=a.sort,c._filter=a.filter,c._group=a.group,c._aggregate=a.aggregate,c._skip=a.skip,c._take=a.take,c._skip===b&&(c._skip=c.skip(),a.skip=c.skip()),c._take===b&&c._pageSize!==b&&(c._take=c._pageSize,a.take=c._take),a.sort&&(c._sort=a.sort=eb(a.sort)),a.filter&&(c._filter=a.filter=hb(a.filter)),a.group&&(c._group=a.group=jb(a.group)),a.aggregate&&(c._aggregate=a.aggregate=ib(a.aggregate))),a},query:function(a){var d,c=this,e=c.options.serverSorting||c.options.serverPaging||c.options.serverFiltering||c.options.serverGrouping||c.options.serverAggregates;e||c._data===b||0===c._data.length?c.read(c._mergeState(a)):c.trigger(A)||(c.trigger(B),d=db.process(c._data,c._mergeState(a)),c.options.serverFiltering||(c._total=d.total!==b?d.total:c._data.length),c._view=d.data,c._aggregateResult=ob(c._data,a),c.trigger(C,{}),c.trigger(w,{items:d.data}))},fetch:function(a){var b=this;a&&e(a)&&b.one(w,a),b._query()},_query:function(a){var b=this;b.query(c({},{page:b.page(),pageSize:b.pageSize(),sort:b.sort(),filter:b.filter(),group:b.group(),aggregate:b.aggregate()},a))},next:function(a){var b=this,c=b.page(),d=b.total();return a=a||{},!c||d&&c+1>b.totalPages()?void 0:(b._skip=c*b.take(),c+=1,a.page=c,b._query(a),c)},prev:function(a){var b=this,c=b.page();return a=a||{},c&&1!==c?(b._skip=b._skip-b.take(),c-=1,a.page=c,b._query(a),c):void 0},page:function(a){var d,c=this;return a!==b?(a=H.max(H.min(H.max(a,1),c.totalPages()),1),c._query({page:a}),void 0):(d=c.skip(),d!==b?H.round((d||0)/(c.take()||1))+1:b)},pageSize:function(a){var c=this;return a!==b?(c._query({pageSize:a,page:1}),void 0):c.take()},sort:function(a){var c=this;return a!==b?(c._query({sort:a}),void 0):c._sort},filter:function(a){var c=this;return a===b?c._filter:(c._query({filter:a,page:1}),void 0)},group:function(a){var c=this;return a!==b?(c._query({group:a}),void 0):c._group},total:function(){return this._total||0},aggregate:function(a){var c=this;return a!==b?(c._query({aggregate:a}),void 0):c._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var a=this,b=a.pageSize()||a.total();return H.ceil((a.total()||0)/b)},inRange:function(a,b){var c=this,d=H.min(a+b,c.total());return!c.options.serverPaging&&c.data.length>0?!0:c._findRange(a,d).length>0},range:function(a,c){var g,d,e,f,h,i,j;if(a=H.min(a||0,this.total()),d=this,e=H.max(H.floor(a/c),0)*c,f=H.min(e+c,d.total()),g=d._findRange(a,H.min(a+c,d.total())),g.length){d._skip=a>d.skip()?H.min(f,(d.totalPages()-1)*d.take()):e,d._take=c,h=d.options.serverPaging,i=d.options.serverSorting,j=d.options.serverFiltering;try{d.options.serverPaging=!0,d.options.serverSorting=!0,d.options.serverFiltering=!0,h&&(d._data=g=d._observe(g)),d._process(g)}finally{d.options.serverPaging=h,d.options.serverSorting=i,d.options.serverFiltering=j}}else c!==b&&(d._rangeExists(e,f)?a>e&&d.prefetch(f,c,function(){d.range(a,c)}):d.prefetch(e,c,function(){a>e&&f<d.total()&&!d._rangeExists(f,H.min(f+c,d.total()))?d.prefetch(f,c,function(){d.range(a,c)}):d.range(a,c)}))},_findRange:function(a,c){var f,h,i,j,k,l,m,n,q,r,s,t,d=this,e=d._ranges,g=[],o=d.options,p=o.serverSorting||o.serverPaging||o.serverFiltering||o.serverGrouping||o.serverAggregates;for(h=0,s=e.length;s>h;h++)if(f=e[h],a>=f.start&&a<=f.end){for(r=0,i=h;s>i;i++)if(f=e[i],q=d._flatData(f.data),q.length&&a+r>=f.start&&(l=f.data,m=f.end,p||(t=jb(d.group()||[]).concat(eb(d.sort()||[])),n=db.process(f.data,{sort:t,filter:d.filter()}),q=l=n.data,n.total!==b&&(m=n.total)),j=0,a+r>f.start&&(j=a+r-f.start),k=q.length,m>c&&(k-=m-c),r+=k-j,g=d._mergeGroups(g,l,j,k),c<=f.end&&r==c-a))return g;break}return[]},_mergeGroups:function(a,b,c,d){if(this._isServerGrouped()){var f,e=b.toJSON();return a.length&&(f=a[a.length-1]),wb(f,e,c,d),a.concat(e)}return a.concat(b.slice(c,d))},skip:function(){var a=this;return a._skip===b?a._page!==b?(a._page-1)*(a.take()||1):b:a._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a,b,c){var d=this;return function(e){var h,i,f=!1,g={start:a,end:b,data:[]};for(d._dequeueRequest(),h=0,i=d._ranges.length;i>h;h++)if(d._ranges[h].start===a){f=!0,g=d._ranges[h];break}f||d._ranges.push(g),e=d.reader.parse(e),g.data=d._observe(d._readData(e)),g.end=g.start+d._flatData(g.data).length,d._ranges.sort(function(a,b){return a.start-b.start}),d._total=d.reader.total(e),c&&c()}},prefetch:function(a,b,c){var d=this,e=H.min(a+b,d.total()),f={take:b,skip:a,page:a/b+1,pageSize:b,sort:d._sort,filter:d._filter,group:d._group,aggregate:d._aggregate};d._rangeExists(a,e)?c&&c():(clearTimeout(d._timeout),d._timeout=setTimeout(function(){d._queueRequest(f,function(){d.transport.read({data:f,success:d._prefetchSuccessHandler(a,e,c)})})},100))},_rangeExists:function(a,b){var e,f,c=this,d=c._ranges;for(e=0,f=d.length;f>e;e++)if(d[e].start<=a&&d[e].end>=b)return!0;return!1}}),Gb={},Gb.create=function(a,b){var d,g=a.transport;return g?(g.read=typeof g.read===q?{url:g.read}:g.read,a.type&&(n.data.transports[a.type]&&!f(n.data.transports[a.type])?d=new n.data.transports[a.type](c(g,{data:b})):g=c(!0,{},n.data.transports[a.type],g),a.schema=c(!0,{},n.data.schemas[a.type],a.schema)),d||(d=e(g.read)?g:new qb(g))):d=new pb({data:a.data}),d},Fb.create=function(a){a=a&&a.push?{data:a}:a;var i,j,l,b=a||{},d=b.data,e=b.fields,f=b.table,h=b.select,k={};if(d||!e||b.transport||(f?d=Ib(f,e):h&&(d=Hb(h,e))),n.data.Model&&e&&(!b.schema||!b.schema.model)){for(i=0,j=e.length;j>i;i++)l=e[i],l.type&&(k[l.field]=l);g(k)||(b.schema=c(!0,b.schema,{model:{fields:k}}))}return b.data=d,b instanceof Fb?b:new Fb(b)},Jb=_.define({init:function(a){var b=this,d=b.hasChildren||a&&a.hasChildren,f="items",g={};n.data.Model.fn.init.call(b,a),typeof b.children===q&&(f=b.children),g={schema:{data:f,model:{hasChildren:d,id:b.idField}}},typeof b.children!==q&&c(g,b.children),g.data=a,d||(d=g.schema.data),typeof d===q&&(d=n.getter(d)),e(d)&&(b.hasChildren=!!d.call(b,b)),b._childrenOptions=g,b.hasChildren&&b._initChildren(),b._loaded=!(!a||!a[f])},_initChildren:function(){var a=this;a.children instanceof Kb||(a.children=new Kb(a._childrenOptions),a.children.parent=function(){return a},a.children.bind(w,function(b){b.node=b.node||a,a.trigger(w,b)}),a._updateChildrenField())},append:function(a){this._initChildren(),this.loaded(!0),this.children.add(a)},hasChildren:!1,level:function(){for(var a=this.parentNode(),b=0;a&&a.parentNode;)b++,a=a.parentNode?a.parentNode():null;return b},_updateChildrenField:function(){var a=this._childrenOptions.schema.data;this[a||"items"]=this.children.data()},load:function(){var a=this,c={};a.hasChildren&&(a._initChildren(),c[a.idField||"id"]=a.id,a._loaded||(a.children._data=b),a.children.one(w,function(){a._loaded=!0,a._updateChildrenField()})._query(c))},parentNode:function(){var a=this.parent();return a.parent()},loaded:function(a){return a===b?this._loaded:(this._loaded=a,void 0)},shouldSerialize:function(a){return _.fn.shouldSerialize.call(this,a)&&"children"!==a&&"_loaded"!==a&&"hasChildren"!==a&&"_childrenOptions"!==a}}),Kb=Fb.extend({init:function(a){var b=Jb.define({children:a});Fb.fn.init.call(this,c(!0,{},{schema:{modelBase:b,model:b}},a))},remove:function(a){var d,b=a.parentNode(),c=this;return b&&(c=b.children),d=Fb.fn.remove.call(c,a),b&&!c.data().length&&(b.hasChildren=!1),d},insert:function(a,b){var c=this.parent();return c&&(c.hasChildren=!0,c._initChildren()),Fb.fn.insert.call(this,a,b)},_find:function(a,b){var c,d,e,f,g;if(e=Fb.fn[a].call(this,b))return e;if(f=this._flatData(this.data()))for(c=0,d=f.length;d>c;c++)if(g=f[c].children,g instanceof Kb&&(e=g[a](b)))return e},get:function(a){return this._find("get",a)},getByUid:function(a){return this._find("getByUid",a)}}),Kb.create=function(a){a=a&&a.push?{data:a}:a;var b=a||{},c=b.data,d=b.fields,e=b.list;return c&&c._dataSource?c._dataSource:(c||!d||b.transport||e&&(c=Lb(e,d)),b.data=c,b instanceof Kb?b:new Kb(b))},c(!0,n.data,{readers:{json:vb},Query:db,DataSource:Fb,HierarchicalDataSource:Kb,Node:Jb,ObservableObject:W,ObservableArray:U,LocalTransport:pb,RemoteTransport:qb,Cache:rb,DataReader:vb,Model:_})}(window.kendo.jQuery),kendo_module({id:"binder",name:"MVVM",category:"framework",description:"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",depends:["core","data"]}),function(a,b){function w(a){var b,c,d=[];for(b=0,c=a.length;c>b;b++)d=a[b].hasSubgroups?d.concat(w(a[b].items)):d.concat(a[b].items);return d}function x(a,b,d){var e=d[a];return e?new v(c.initWidget(b,e.options,d)):void 0}function A(a){var c,d,e,f,g,h,i,b={};for(i=a.match(y),c=0,d=i.length;d>c;c++)e=i[c],f=e.indexOf(":"),g=e.substring(0,f),h=e.substring(f+1),"{"==h.charAt(0)&&(h=A(h)),b[g]=h;return b}function B(a,b,c){var d,e={};for(d in a)e[d]=new c(b,a[d]);return e}function C(a,b,d,e){var g,l,n,f=a.getAttribute("data-"+c.ns+"role"),h=a.getAttribute("data-"+c.ns+"bind"),i=a.children,j=[],k=!0,m={};if(e=e||[b],(f||h)&&E(a),f&&(n=x(f,a,d)),h&&(h=A(h.replace(z,"")),n||(m=c.parseOptions(a,{textField:"",valueField:"",template:"",valueUpdate:p}),m.roles=d,n=new u(a,m)),n.source=b,l=B(h,e,q),m.template&&(l.template=new s(e,"",m.template)),l.click&&(h.events=h.events||{},h.events.click=h.click,delete l.click),l.source&&(k=!1),h.attr&&(l.attr=B(h.attr,e,q)),h.style&&(l.style=B(h.style,e,q)),h.events&&(l.events=B(h.events,e,r)),n.bind(l)),n&&(a.kendoBindingTarget=n),k&&i){for(g=0;g<i.length;g++)j[g]=i[g];for(g=0;g<j.length;g++)C(j[g],b,d,e)}}function D(b,d){var e,f,g=c.rolesFromNamespaces([].slice.call(arguments,2));for(d=c.observable(d),b=a(b),e=0,f=b.length;f>e;e++)C(b[e],d,g)}function E(b){var c=b.kendoBindingTarget;c&&(c.destroy(),a.support.deleteExpando?delete b.kendoBindingTarget:b.removeAttribute?b.removeAttribute("kendoBindingTarget"):b.kendoBindingTarget=null)}function F(a){var b,c,d=a.children;if(E(a),d)for(b=0,c=d.length;c>b;b++)F(d[b])}function G(b){var c,d;for(b=a(b),c=0,d=b.length;d>c;c++)F(b[c])}function H(a,b){var c=a.element,d=c[0].kendoBindingTarget;d&&D(c,d.source,b)}var j,q,r,s,t,u,v,y,z,c=window.kendo,d=c.Observable,e=c.data.ObservableObject,f=c.data.ObservableArray,g={}.toString,h={},i=c.Class,k=a.proxy,l="value",m="source",n="events",o="checked",p="change";!function(){var a=document.createElement("a");a.innerText!==b?j="innerText":a.textContent!==b&&(j="textContent")}(),q=d.extend({init:function(a,b){var c=this;d.fn.init.call(c),c.source=a[0],c.parents=a,c.path=b,c.dependencies={},c.dependencies[b]=!0,c.observable=c.source instanceof d,c._access=function(a){c.dependencies[a.field]=!0},c.observable&&(c._change=function(a){c.change(a)},c.source.bind(p,c._change))},change:function(a){var b,c,d=a.field,e=this;if("this"===e.path)e.trigger(p,a);else for(b in e.dependencies)if(0===b.indexOf(d)&&(c=b.charAt(d.length),!c||"."===c||"["===c)){e.trigger(p,a);break}},start:function(a){a.bind("get",this._access)},stop:function(a){a.unbind("get",this._access)},get:function(){var a=this,c=a.source,d=0,f=a.path,g=c;if(!a.observable)return g;for(a.start(a.source),g=c.get(f);g===b&&c;)c=a.parents[++d],c instanceof e&&(g=c.get(f));return"function"==typeof g&&(d=f.lastIndexOf("."),d>0&&(c=c.get(f.substring(0,d))),a.start(c),g=g.call(c,a.source),a.stop(c)),c&&c!==a.source&&(a.currentSource=c,c.unbind(p,a._change).bind(p,a._change)),a.stop(a.source),g},set:function(a){var b=this,c=b.currentSource||b.source;c.set(b.path,a)},destroy:function(){this.observable&&this.source.unbind(p,this._change)}}),r=q.extend({get:function(){var d,a=this.source,b=this.path,c=0;
for(d=a.get(b);!d&&a;)a=this.parents[++c],a instanceof e&&(d=a.get(b));return k(d,a)}}),s=q.extend({init:function(a,b,c){var d=this;q.fn.init.call(d,a,b),d.template=c},render:function(a){var b;return this.start(this.source),b=c.render(this.template,a),this.stop(this.source),b}}),t=i.extend({init:function(a,b,c){this.element=a,this.bindings=b,this.options=c},bind:function(a,b){var c=this;a=b?a[b]:a,a.bind(p,function(a){c.refresh(b||a)}),c.refresh(b)},destroy:function(){}}),h.attr=t.extend({refresh:function(a){this.element.setAttribute(a,this.bindings.attr[a].get())}}),h.style=t.extend({refresh:function(a){this.element.style[a]=this.bindings.style[a].get()}}),h.enabled=t.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),h.readonly=t.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),h.disabled=t.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),h.events=t.extend({init:function(a,b,c){t.fn.init.call(this,a,b,c),this.handlers={}},refresh:function(b){var c=a(this.element),d=this.bindings.events[b],e=this.handlers[b];e&&c.off(b,e),e=this.handlers[b]=d.get(),c.on(b,d.source,e)},destroy:function(){var c,b=a(this.element);for(c in this.handlers)b.off(c,this.handlers[c])}}),h.text=t.extend({refresh:function(){var a=this.bindings.text.get();null==a&&(a=""),this.element[j]=a}}),h.visible=t.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),h.invisible=t.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),h.html=t.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),h.value=t.extend({init:function(b,c,d){t.fn.init.call(this,b,c,d),this._change=k(this.change,this),this.eventName=d.valueUpdate||p,a(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=p,this.bindings[l].set(this.element.value),this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.bindings[l].get();null==a&&(a=""),this.element.value=a}this._initChange=!1},destroy:function(){a(this.element).off(this.eventName,this._change)}}),h.source=t.extend({init:function(a,b,c){t.fn.init.call(this,a,b,c)},refresh:function(a){var b=this,c=b.bindings.source.get();c instanceof f?(a=a||{},"add"==a.action?b.add(a.index,a.items):"remove"==a.action?b.remove(a.index,a.items):"itemchange"!=a.action&&b.render()):b.render()},container:function(){var a=this.element;return"table"==a.nodeName.toLowerCase()&&(a.tBodies[0]||a.appendChild(document.createElement("tbody")),a=a.tBodies[0]),a},template:function(){var a=this.options,b=a.template,d=this.container().nodeName.toLowerCase();return b||(b="select"==d?a.valueField||a.textField?c.format('<option value="#:{0}#">#:{1}#</option>',a.valueField||a.textField,a.textField||a.valueField):"<option>#:data#</option>":"tbody"==d?"<tr><td>#:data#</td></tr>":"ul"==d||"ol"==d?"<li>#:data#</li>":"#:data#",b=c.template(b)),b},destroy:function(){var a=this.bindings.source.get();a.unbind(p,this._change)},add:function(b,d){var f,g,h,e=this.container(),i=e.cloneNode(!1),j=e.children[b];if(a(i).html(c.render(this.template(),d)),i.children.length)for(f=0,g=d.length;g>f;f++)h=i.children[0],e.insertBefore(h,j||null),C(h,d[f],this.options.roles,[d[f]].concat(this.bindings.source.parents))},remove:function(a,b){var c,d=this.container();for(c=0;c<b.length;c++)d.removeChild(d.children[a])},render:function(){var d,e,j,b=this.bindings.source.get(),h=this.container(),i=this.template();if(b instanceof f||"[object Array]"===g.call(b)||(b.parent&&(j=b.parent),b=new f([b]),b.parent&&(b.parent=j)),this.bindings.template){if(a(h).html(this.bindings.template.render(b)),h.children.length)for(d=0,e=b.length;e>d;d++)C(h.children[d],b[d],this.options.roles,[b[d]].concat(this.bindings.source.parents))}else a(h).html(c.render(i,b))}}),h.input={checked:t.extend({init:function(b,c,d){t.fn.init.call(this,b,c,d),this._change=k(this.change,this),a(this.element).change(this._change)},change:function(){var c,d,a=this.element,b=this.value();"radio"==a.type?this.bindings[o].set(b):"checkbox"==a.type&&(c=this.bindings[o].get(),c instanceof f?(b=this.element.value,"on"!==b&&"off"!==b&&(d=c.indexOf(b),d>-1?c.splice(d,1):c.push(b))):this.bindings[o].set(b))},refresh:function(){var a=this.bindings[o].get(),b=a,c=this.element;"checkbox"==c.type?(b instanceof f&&(a=this.element.value,b.indexOf(a)>=0&&(a=!0)),c.checked=a===!0):"radio"==c.type&&null!=a&&c.value===a.toString()&&(c.checked=!0)},value:function(){var a=this.element,b=a.value;return"checkbox"==a.type&&(b=a.checked),b},destroy:function(){a(this.element).off(p,this._change)}})},h.select={value:t.extend({init:function(b,c,d){t.fn.init.call(this,b,c,d),this._change=k(this.change,this),a(this.element).change(this._change)},change:function(){var c,g,h,i,j,k,a=[],b=this.element,d=this.options.valueField||this.options.textField;for(j=0,k=b.options.length;k>j;j++)g=b.options[j],g.selected&&(i=g.attributes.value,i=i&&i.specified?g.value:g.text,a.push(i));if(d)for(c=this.bindings.source.get(),h=0;h<a.length;h++)for(j=0,k=c.length;k>j;j++)if(c[j].get(d)==a[h]){a[h]=c[j];break}i=this.bindings[l].get(),i instanceof f?i.splice.apply(i,[0,i.length].concat(a)):i instanceof e||!d?this.bindings[l].set(a[0]):this.bindings[l].set(a[0].get(d))},refresh:function(){var a,j,k,b=this.element,c=b.options,d=this.bindings[l].get(),g=d,h=this.options.valueField||this.options.textField,i=!1;for(g instanceof f||(g=new f([d])),b.selectedIndex=-1,k=0;k<g.length;k++)for(d=g[k],h&&d instanceof e&&(d=d.get(h)),a=0;a<c.length;a++)j=c[a].value,""===j&&""!==d&&(j=c[a].text),j==d&&(c[a].selected=!0,i=!0)},destroy:function(){a(this.element).off(p,this._change)}})},h.widget={events:t.extend({init:function(a,b,c){t.fn.init.call(this,a.element[0],b,c),this.widget=a,this.handlers={}},refresh:function(a){var b=this.bindings.events[a],c=this.handlers[a];c&&this.widget.unbind(a,c),c=b.get(),this.handlers[a]=function(a){a.data=b.source,c(a),a.data===b.source&&delete a.data},this.widget.bind(a,this.handlers[a])},destroy:function(){var a;for(a in this.handlers)this.widget.unbind(a,this.handlers[a])}}),checked:t.extend({init:function(a,b,c){t.fn.init.call(this,a.element[0],b,c),this.widget=a,this._change=k(this.change,this),this.widget.bind(p,this._change)},change:function(){this.bindings[o].set(this.value())},refresh:function(){this.widget.check(this.bindings[o].get()===!0)},value:function(){var a=this.element,b=a.value;return("on"==b||"off"==b)&&(b=a.checked),b},destroy:function(){this.widget.unbind(p,this._change)}}),visible:t.extend({init:function(a,b,c){t.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.visible.get();this.widget.wrapper[0].style.display=a?"":"none"}}),invisible:t.extend({init:function(a,b,c){t.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.invisible.get();this.widget.wrapper[0].style.display=a?"none":""}}),enabled:t.extend({init:function(a,b,c){t.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:t.extend({init:function(a,b,c){t.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:t.extend({init:function(a,b,c){var d=this;t.fn.init.call(d,a.element[0],b,c),d.widget=a,d._dataBinding=k(d.dataBinding,d),d._dataBound=k(d.dataBound,d),d._itemChange=k(d.itemChange,d)},itemChange:function(a){C(a.item[0],a.data,this._ns(a.ns),[a.data].concat(this.bindings.source.parents))},dataBinding:function(){var a,b,c=this.widget,d=c.items();for(a=0,b=d.length;b>a;a++)F(d[a])},_ns:function(b){b=b||c.ui;var d=[c.ui,c.dataviz.ui,c.mobile.ui];return d.splice(a.inArray(b,d),1),d.unshift(b),c.rolesFromNamespaces(d)},dataBound:function(a){var b,c,d=this.widget,e=d.items(),f=d.dataSource,g=f.view(),h=f.group()||[];if(e.length)for(h.length&&(g=w(g)),b=0,c=g.length;c>b;b++)C(e[b],g[b],this._ns(a.ns),[g[b]].concat(this.bindings.source.parents))},refresh:function(a){var d,b=this,e=b.widget;a=a||{},a.action||(b.destroy(),e.bind("dataBinding",b._dataBinding),e.bind("dataBound",b._dataBound),e.bind("itemChange",b._itemChange),d=b.bindings.source.get(),e.dataSource instanceof c.data.DataSource&&e.dataSource!=d&&(d instanceof c.data.DataSource?e.setDataSource(d):d&&d._dataSource?e.setDataSource(d._dataSource):e.dataSource.data(d)))},destroy:function(){var a=this.widget;a.unbind("dataBinding",this._dataBinding),a.unbind("dataBound",this._dataBound),a.unbind("itemChange",this._itemChange)}}),value:t.extend({init:function(b,c,d){t.fn.init.call(this,b.element[0],c,d),this.widget=b,this._change=a.proxy(this.change,this),this.widget.first(p,this._change);var g=this.bindings.value.get();this._valueIsObservableObject=null==g||g instanceof e,this._valueIsObservableArray=g instanceof f,this._initChange=!1},change:function(){var f,h,j,k,l,m,n,a=this.widget.value(),b=this.options.dataValueField||this.options.dataTextField,d="[object Array]"===g.call(a),e=this._valueIsObservableObject,i=[];if(this._initChange=!0,b)if(this.bindings.source&&(n=this.bindings.source.get()),""===a&&e)a=null;else{for((!n||n instanceof c.data.DataSource)&&(n=this.widget.dataSource.view()),d&&(h=a.length,i=a.slice(0)),l=0,m=n.length;m>l;l++)if(j=n[l],k=j.get(b),d){for(f=0;h>f;f++)if(k==i[f]){i[f]=j;break}}else if(k==a){a=e?j:k;break}i[0]&&(a=this._valueIsObservableArray?i:e||!b?i[0]:i[0].get(b))}this.bindings.value.set(a),this._initChange=!1},refresh:function(){if(!this._initChange){var d,a=this.options.dataValueField||this.options.dataTextField,b=this.bindings.value.get(),c=0,g=[];if(a)if(b instanceof f){for(d=b.length;d>c;c++)g[c]=b[c].get(a);b=g}else b instanceof e&&(b=b.get(a));this.widget.value(b)}this._initChange=!1},destroy:function(){this.widget.unbind(p,this._change)}})},u=i.extend({init:function(a,b){this.target=a,this.options=b,this.toDestroy=[]},bind:function(a){var c,d,e,f,b=this.target.nodeName.toLowerCase(),g=h[b]||{};for(c in a)c==l?d=!0:c==m?e=!0:c==n?f=!0:this.applyBinding(c,a,g);e&&this.applyBinding(m,a,g),d&&this.applyBinding(l,a,g),f&&this.applyBinding(n,a,g)},applyBinding:function(a,b,c){var f,d=c[a]||h[a],e=this.toDestroy,g=b[a];if(d)if(d=new d(this.target,b,this.options),e.push(d),g instanceof q)d.bind(g),e.push(g);else for(f in g)d.bind(g,f),e.push(g[f]);else if("template"!==a)throw new Error("The "+a+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var a,b,c=this.toDestroy;for(a=0,b=c.length;b>a;a++)c[a].destroy()}}),v=u.extend({bind:function(a){var c,b=this,d=!1,e=!1;for(c in a)c==l?d=!0:c==m?e=!0:b.applyBinding(c,a);e&&b.applyBinding(m,a),d&&b.applyBinding(l,a)},applyBinding:function(a,b){var e,c=h.widget[a],d=this.toDestroy,f=b[a];if(!c)throw new Error("The "+a+" binding is not supported by the "+this.target.options.name+" widget");if(c=new c(this.target,b,this.target.options),d.push(c),f instanceof q)c.bind(f),d.push(f);else for(e in f)c.bind(f,e),d.push(f[e])}}),y=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,z=/\s/g,c.unbind=G,c.bind=D,c.data.binders=h,c.data.Binder=t,c.notify=H,c.observable=function(a){return a instanceof e||(a=new e(a)),a},c.observableHierarchy=function(a){function d(a){var b,c;for(b=0;b<a.length;b++)a[b]._initChildren(),c=a[b].children,c.fetch(),a[b].items=c.data(),d(a[b].items)}var b=c.data.HierarchicalDataSource.create(a);return b.fetch(),d(b.data()),b._data._dataSource=b,b._data}}(window.kendo.jQuery),function($,undefined){function resolveRules(a){var d,b=kendo.ui.validator.ruleResolvers||{},c={};for(d in b)$.extend(!0,c,b[d].resolve(a));return c}function decode(a){return a.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function numberOfDecimalDigits(a){return a=(a+"").split("."),a.length>1?a[1].length:0}var Validator,kendo=window.kendo,Widget=kendo.ui.Widget,NS=".kendoValidator",INVALIDMSG="k-invalid-msg",INVALIDINPUT="k-invalid",emailRegExp=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,urlRegExp=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,INPUTSELECTOR=":input:not(:button,[type=submit],[type=reset],[disabled])",CHECKBOXSELECTOR=":checkbox:not([disabled],[readonly])",NUMBERINPUTSELECTOR="[type=number],[type=range]",BLUR="blur",NAME="name",FORM="form",NOVALIDATE="novalidate",proxy=$.proxy,patternMatcher=function(a,b,c){return"string"==typeof b&&(b=c?new RegExp("^(?:"+b+")$",c):new RegExp("^(?:"+b+")$")),b.test(a)},matcher=function(a,b,c,d){var e=a.val();return a.filter(b).length&&""!==e?patternMatcher(e,c,d):!0},hasAttribute=function(a,b){return a.length?$(a[0]).attr(b)!==undefined:!1},nameSpecialCharRegExp=/("|'|\[|\]|\$|\.|\:|\+)/g;kendo.ui.validator||(kendo.ui.validator={rules:{},messages:{}}),Validator=Widget.extend({init:function(a,b){var c=this,d=resolveRules(a);b=b||{},b.rules=$.extend({},kendo.ui.validator.rules,d.rules,b.rules),b.messages=$.extend({},kendo.ui.validator.messages,d.messages,b.messages),Widget.fn.init.call(c,a,b),c._errorTemplate=kendo.template(c.options.errorTemplate),c.element.is(FORM)&&c.element.attr(NOVALIDATE,NOVALIDATE),c._errors={},c._attachEvents()},options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(a){var b=a.filter("[type=checkbox]").length;return hasAttribute(a,"required")?b?!0&&a.prop("checked"):!0&&a.val():!0},pattern:function(a){return a.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==a.val()?patternMatcher(a.val(),a.attr("pattern"),a.attr("pattern-mode")):!0},min:function(a){if(a.filter(NUMBERINPUTSELECTOR+",["+kendo.attr("type")+"=number]").filter("[min]").length&&""!==a.val()){var b=parseFloat(a.attr("min"))||0,c=parseFloat(a.val());return c>=b}return!0},max:function(a){if(a.filter(NUMBERINPUTSELECTOR+",["+kendo.attr("type")+"=number]").filter("[max]").length&&""!==a.val()){var b=parseFloat(a.attr("max"))||0,c=parseFloat(a.val());return b>=c}return!0},step:function(a){if(a.filter(NUMBERINPUTSELECTOR+",["+kendo.attr("type")+"=number]").filter("[step]").length&&""!==a.val()){var f,b=parseFloat(a.attr("min"))||0,c=parseFloat(a.attr("step"))||1,d=parseFloat(a.val()),e=numberOfDecimalDigits(c);return e?(f=Math.pow(10,e),0===(d-b)*f%(c*f)/Math.pow(100,e)):0===(d-b)%c}return!0},email:function(a){return matcher(a,"[type=email],["+kendo.attr("type")+"=email],[email]",emailRegExp,undefined)},url:function(a){return matcher(a,"[type=url],["+kendo.attr("type")+"=url]",urlRegExp,undefined)},date:function(a){return a.filter("[type^=date],["+kendo.attr("type")+"=date]").length&&""!==a.val()?null!==kendo.parseDate(a.val(),a.attr(kendo.attr("format"))):!0}},validateOnBlur:!0,validateOnChange:!0,errorMsgShow:!0,stopOnFirstInvalid:!1,fixBarHeight:40,defaultErrorMsgPosition:"right",errorMsgPosition:["right","bottom"],needRuleAttrbute:!0,errorLabelPadding:6},destroy:function(){Widget.fn.destroy.call(this),this.element.off(NS)},_submit:function(a){return this.validate()?!0:(a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),!1)},_attachEvents:function(){var a=this;a.element.is(FORM)&&a.element.on("submit"+NS,proxy(a._submit,a)),a.options.validateOnChange&&a.element.on("change"+NS,INPUTSELECTOR,function(){a.validateInput($(this))}),a.options.validateOnBlur&&(a.element.is(INPUTSELECTOR)?(a.element.on(BLUR+NS,function(){a.validateInput(a.element)}),a.element.is(CHECKBOXSELECTOR)&&a.element.on("click"+NS,function(){a.validateInput(a.element)})):(a.element.on(BLUR+NS,INPUTSELECTOR,function(){a.validateInput($(this))}),a.element.on("click"+NS,CHECKBOXSELECTOR,function(){a.validateInput($(this))})))},validate:function(){var b,c,g,i,j,k,l,m,n,a=this,d=-1,e=!1;if(a._errors={},!a.element.is(INPUTSELECTOR)){for(b=a.element.find(INPUTSELECTOR),c=0,g=b.length;g>c&&(a.validateInput(b.eq(c))||(-1==d&&(d=c),e=!0,!a.options.stopOnFirstInvalid));c++);return e&&b.length&&(b[d]=b[d].jquery?b[d]:$(b[d]),invis=b[d].is(":hidden"),i=$("<s/>"),invis?(b[d].before(i),j=i.offset(),i.remove()):j=b[d].offset(),k=$(document).scrollTop(),l=$(window).height(),m=$(document).scrollLeft(),n=$(window).width(),j.top>k+l&&$("html,body").scrollTop(j.top-a.options.fixBarHeight>=0?j.top-a.options.fixBarHeight:0),j.left>m+n&&$("html,body").scrollLef(j.left),b[d].focus()),!e}return a.validateInput(a.element)},validateInput:function(input){var that,template,result,valid,className,fieldName,lbl,messageText,inputOffset,messageLabel,p,pcss,p_default,pcssObj,key,validVal,a,invis,shadow,labelSetting,checkPer,remove_css;if(input=$(input),that=this,template=that._errorTemplate,result=that._checkValidity(input),valid=result.valid,className="."+INVALIDMSG,fieldName=input.attr(NAME)||"",lbl=that._findMessageContainer(fieldName).add(input.next(className)).hide(),input.removeAttr("aria-invalid"),!valid){messageText=that._extractMessage(input,result.key),that._errors[fieldName]=messageText,messageLabel=$(template({message:decode(messageText)})),p=input.attr("k-msg-position")||input.attr("data-k-msg-position"),pcss=input.attr("k-msg-css")||input.attr("data-k-msg-css"),p_default={icon_css:{right:"arrow_west",left:"arrow_east",bottom:"arrow_north",top:"arrow_south"},position_css:{def:"relative",right:"absolute",bottom:"absolute"}};try{pcssObj=pcss!=undefined?eval("("+pcss+")"):{top:0,left:0,equalInput:!1}}catch(err){pcssObj={top:0,left:0,equalInput:!1}}if(pcssObj.icon_css)for(key in pcssObj.icon_css)p_default.icon_css[key]=pcssObj.icon_css[key];if(pcssObj.position_css)for(key in pcssObj.position_css)p_default.position_css[key]=pcssObj.position_css[key];if(pcssObj.equalInput||(pcssObj.equalInput=!1),pcssObj.left||(pcssObj.left=0),pcssObj.top||(pcssObj.top=0),p){validVal=!1;for(a in that.options.errorMsgPosition)if(p==that.options.errorMsgPosition[a]){validVal=!0;break}p=validVal?p:that.options.defaultErrorMsgPosition}that._decorateMessageContainer(messageLabel,fieldName),that.options.errorMsgShow&&(invis=input.is(":hidden"),shadow=$("<s/>"),invis?(input.before(shadow),inputOffset=shadow.position(),shadow.remove()):inputOffset=input.position(),labelSetting={},checkPer=/%/,$(".message_ct > .arrow",messageLabel).addClass(p_default.icon_css.right),"right"!=p&&"bottom"!=p&&(labelSetting.position=p_default.position_css.def,labelSetting.top=pcssObj.top,labelSetting.left=pcssObj.left,pcssObj.equalInput&&(labelSetting.width=input.width()-that.options.errorLabelPadding)),"right"==p&&(labelSetting.position=p_default.position_css.right,labelSetting.top=checkPer.test(pcssObj.top)?pcssObj.top:inputOffset.top+parseInt(pcssObj.top),labelSetting.left=checkPer.test(pcssObj.left)?pcssObj.left:inputOffset.left+parseInt(pcssObj.left)+input.outerWidth()),"bottom"==p&&(remove_css=p_default.icon_css.left+" "+p_default.icon_css.right+" "+p_default.icon_css.top,$(".message_ct > .arrow",messageLabel).removeClass(remove_css).addClass(p_default.icon_css.bottom),pcssObj.equalInput&&(labelSetting.width=input.width()-that.options.errorLabelPadding),labelSetting.position=p_default.position_css.bottom,labelSetting.top=checkPer.test(pcssObj.top)?pcssObj.top:inputOffset.top+parseInt(pcssObj.top)+input.outerHeight(),labelSetting.left=checkPer.test(pcssObj.left)?pcssObj.left:inputOffset.left+parseInt(pcssObj.left)),pcssObj.width&&(labelSetting.width=pcssObj.width),pcssObj.zIndex&&(labelSetting.zIndex=pcssObj.zIndex),messageLabel.css(labelSetting),lbl.replaceWith(messageLabel).length||messageLabel.insertAfter(input),messageLabel.show()),input.attr("aria-invalid",!0)}return input.toggleClass(INVALIDINPUT,!valid),valid},hideMessages:function(){var a=this,b="."+INVALIDMSG,c=a.element;c.is(INPUTSELECTOR)?c.next(b).hide():c.find(b).hide()},_findMessageContainer:function(a){var c,b=kendo.ui.validator.messageLocators,d=this.element.find("."+INVALIDMSG+"["+kendo.attr("for")+"="+a.replace(nameSpecialCharRegExp,"\\$1")+"]");for(c in b)d=d.add(b[c].locate(this.element,a));return d},_decorateMessageContainer:function(a,b){var d,c=kendo.ui.validator.messageLocators;a.addClass(INVALIDMSG).attr(kendo.attr("for"),b||"");for(d in c)c[d].decorate(a,b);a.attr("role","alert")},_extractMessage:function(a,b){var c=this,d=c.options.messages[b],e=a.attr(NAME);return d=$.isFunction(d)?d(a,c):d,kendo.format(a.attr(kendo.attr(b+"-msg"))||a.attr("validationMessage")||a.attr("title")||d||"",e,a.attr(b))},_checkValidity:function(a){var d,b=this.options.rules,c=this;kendo.support.browser.msie&&kendo.support.browser.version<=9&&a.val()==a.attr("placholder")&&a.val("");for(d in b)if(c.options.needRuleAttrbute){if(hasAttribute(a,d)&&!b[d](a))return{valid:!1,key:d}}else if(!b[d](a))return{valid:!1,key:d};return{valid:!0}},errors:function(){var c,a=[],b=this._errors;for(c in b)a.push(b[c]);return a}}),kendo.ui.plugin(Validator)}(window.kendo.jQuery),function(a){function y(a,b){var c=a.x.location,d=a.y.location,e=b.x.location,f=b.y.location,g=c-e,h=d-f;return{center:{x:(c+e)/2,y:(d+f)/2},distance:Math.sqrt(g*g+h*h)}}function z(a){var g,h,i,b=[],c=a.originalEvent,e=a.currentTarget,f=0;if(a.api)b.push({id:2,event:a,target:a.target,currentTarget:a.target,location:a});else if(a.type.match(/touch/))for(h=c?c.changedTouches:[],g=h.length;g>f;f++)i=h[f],b.push({location:i,event:a,target:i.target,currentTarget:e,id:i.identifier});else d.pointers?b.push({location:c,event:a,target:a.target,currentTarget:e,id:c.pointerId}):b.push({id:1,event:a,target:a.target,currentTarget:e,location:a});return b}function C(b){b.preventDefault();var c=a(b.data.root),d=c.closest(".k-widget").parent();d[0]||(d=c.parent()),d.trigger(a.Event(b.type,{target:c[0]}))}var c=window.kendo,d=c.support,e=d.pointers,f=window.document,g=a(f.documentElement),h=c.Class,i=c.Observable,j=a.now,k=a.extend,l=d.mobileOS,m=l&&l.android,n="press",o="select",p="start",q="move",r="end",s="cancel",t="tap",u="gesturestart",v="gesturechange",w="gestureend",x="gesturetap",A=h.extend({init:function(a,b){var c=this;c.axis=a,c._updateLocationData(b),c.startLocation=c.location,c.velocity=c.delta=0,c.timeStamp=j()},move:function(a){var b=this,c=a["page"+b.axis],d=j(),e=d-b.timeStamp||1;(c||!m)&&(b.delta=c-b.location,b._updateLocationData(a),b.initialDelta=c-b.startLocation,b.velocity=b.delta/e,b.timeStamp=d)},_updateLocationData:function(a){var b=this,c=b.axis;b.location=a["page"+c],b.client=a["client"+c],b.screen=a["screen"+c]}}),B=h.extend({init:function(a,b,c){var d=this;k(d,{x:new A("X",c.location),y:new A("Y",c.location),userEvents:a,target:b,currentTarget:c.currentTarget,initialTouch:c.target,id:c.id,_moved:!1,_finished:!1}),d.notifyInit=function(){d._trigger(n,c)}},move:function(a){var b=this;if(!b._finished){if(b.x.move(a.location),b.y.move(a.location),!b._moved){if(b._withinIgnoreThreshold())return;if(D.current&&D.current!==b.userEvents)return b.dispose();b._start(a)}b._finished||b._trigger(q,a)}},end:function(a){var b=this;b.endTime=j(),b._finished||(b._moved?b._trigger(r,a):b._trigger(t,a),b.dispose())},dispose:function(){var b=this,c=b.userEvents,d=c.touches;b._finished=!0,d.splice(a.inArray(b,d),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(a){this.startTime=j(),this._moved=!0,this._trigger(p,a)},_trigger:function(a,b){var c=this,d=b.event,e={touch:c,x:c.x,y:c.y,target:c.target,event:d};c.userEvents.notify(a,e)&&d.preventDefault()},_withinIgnoreThreshold:function(){var a=this.x.initialDelta,b=this.y.initialDelta;return Math.sqrt(a*a+b*b)<=this.userEvents.threshold}}),D=i.extend({init:function(b,f){var j,m,y,z,A,B,h=this,l=c.guid();if(f=f||{},j=h.filter=f.filter,h.threshold=f.threshold||0,h.touches=[],h._maxTouches=f.multiTouch?2:1,h.allowSelection=f.allowSelection,h.eventNS=l,b=a(b).handler(h),i.fn.init.call(h),k(h,{element:b,surface:f.global?g:f.surface||b,stopPropagation:f.stopPropagation,pressed:!1}),h.surface.handler(h).on(c.applyEventMap("move",l),"_move").on(c.applyEventMap("up cancel",l),"_end"),b.on(c.applyEventMap("down",l),j,"_start"),e&&b.css("-ms-touch-action","pinch-zoom double-tap-zoom"),f.preventDragEvent&&b.on(c.applyEventMap("dragstart",l),c.preventDefault),b.on(c.applyEventMap("mousedown selectstart",l),j,{root:b},"_select"),d.eventCapture)for(m=c.eventMap.up.split(" "),y=0,z=m.length,A=h.surface[0],B=function(a){h._isMoved()&&a.preventDefault()};z>y;y++)A.addEventListener(m[y],B,!0);h.bind([n,t,p,q,r,s,u,v,w,x,o],f)},destroy:function(){var a=this;a.element.kendoDestroy(a.eventNS),a.surface.kendoDestroy(a.eventNS),a._disposeAll(),a.unbind()},capture:function(){D.current=this},cancel:function(){this._disposeAll(),this.trigger(s)},notify:function(a,b){var c=this,d=c.touches;if(this._isMultiTouch()){switch(a){case q:a=v;break;case r:a=w;break;case t:a=x}k(b,{touches:d},y(d[0],d[1]))}return this.trigger(a,b)},press:function(a,b,c){this._apiCall("_start",a,b,c)},move:function(a,b){this._apiCall("_move",a,b)},end:function(a,b){this._apiCall("_end",a,b)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){a.each(this.touches,function(){this.dispose()})},_isMoved:function(){return a.grep(this.touches,function(a){return a.isMoved()}).length},_select:function(a){(!this.allowSelection||this.trigger(o,{event:a}))&&C(a)},_start:function(b){var f,i,c=this,d=0,e=c.filter,g=z(b),h=g.length;if(!c._maxTouchesReached())for(D.current=null,c.currentTarget=b.currentTarget,c.stopPropagation&&b.stopPropagation();h>d&&!c._maxTouchesReached();d++)i=g[d],f=e?a(i.currentTarget):c.element,f.length&&(i=new B(c,f,i),c.touches.push(i),i.notifyInit(),c._isMultiTouch()&&c.notify("gesturestart",{}))},_move:function(a){this._eachTouch("move",a)},_end:function(a){this._eachTouch("end",a)},_eachTouch:function(a,b){var g,h,i,j,c=this,d={},e=z(b),f=c.touches;for(g=0;g<f.length;g++)h=f[g],d[h.id]=h;for(g=0;g<e.length;g++)i=e[g],j=d[i.id],j&&j[a](i)},_apiCall:function(b,c,d,e){this[b]({api:!0,pageX:c,pageY:d,target:e||this.element,stopPropagation:a.noop,preventDefault:a.noop})}});c.getTouches=z,c.touchDelta=y,c.UserEvents=D}(window.kendo.jQuery),function(a,b){function C(b,c){try{return a.contains(b,c)||b==c}catch(d){return!1}}function D(a){return s?e.elementFromPoint(a.x.screen,a.y.screen):e.elementFromPoint(a.x.client,a.y.client)}function E(a,b){return parseInt(a.css(b),10)||0}function F(a,b){return Math.min(Math.max(a,b.min),b.max)}function G(a,b){var c=l(a),d=c.left+E(a,"borderLeftWidth")+E(a,"paddingLeft"),e=c.top+E(a,"borderTopWidth")+E(a,"paddingTop"),f=d+a.width()-b.outerWidth(!0),g=e+a.height()-b.outerHeight(!0);return{x:{min:d,max:f},y:{min:e,max:g}}}function H(a,c,e){for(var f,g,h=0,i=c&&c.length,j=e&&e.length;a&&a.parentNode;){for(h=0;i>h;h++)if(f=c[h],f.element[0]===a)return{target:f,targetElement:a};for(h=0;j>h;h++)if(g=e[h],d.matchesSelector.call(a,g.options.filter))return{target:g,targetElement:a};a=a.parentNode}return b}var p,P,Q,R,S,T,c=window.kendo,d=c.support,e=window.document,f=c.Class,g=c.ui.Widget,h=c.Observable,i=c.UserEvents,j=a.proxy,k=a.extend,l=c.getOffset,m={},n={},o={},q=d.mobileOS,r=q&&q.android,s=r&&"chrome"==q.browser,t="keyup",u="change",v="dragstart",w="drag",x="dragend",y="dragcancel",z="dragenter",A="dragleave",B="drop",I=h.extend({init:function(b,d){var e=this,f=b[0];e.capture=!1,a.each(c.eventMap.down.split(" "),function(){f.addEventListener(this,j(e._press,e),!0)}),a.each(c.eventMap.up.split(" "),function(){f.addEventListener(this,j(e._release,e),!0)}),h.fn.init.call(e),e.bind(["press","release"],d||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(a){var b=this;b.trigger("press"),b.capture&&a.preventDefault()},_release:function(a){var b=this;b.trigger("release"),b.capture&&(a.preventDefault(),b.cancelCapture())}}),J=h.extend({init:function(b){var c=this;h.fn.init.call(c),c.forcedEnabled=!1,a.extend(c,b),c.scale=1,c.max=0,c.horizontal?(c.measure="width",c.scrollSize="scrollWidth",c.axis="x"):(c.measure="height",c.scrollSize="scrollHeight",c.axis="y")},outOfBounds:function(a){return a>this.max||a<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[this.measure]()},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(a){this.scale=a},update:function(a){var b=this,c=b.getTotal(),d=c*b.scale,e=b.getSize();b.size=e,b.total=d,b.min=Math.min(b.max,b.size-d),b.minScale=b.size/c,b.enabled=b.forcedEnabled||d>e,a||b.trigger(u,b)}}),K=h.extend({init:function(a){var b=this,d=j(b.refresh,b);h.fn.init.call(b),b.x=new J(k({horizontal:!0},a)),b.y=new J(k({horizontal:!1},a)),b.forcedMinScale=a.minScale,b.bind(u,a),c.onResize(d)},rescale:function(a){this.x.rescale(a),this.y.rescale(a),this.refresh()},refresh:function(){var a=this;a.x.update(),a.y.update(),a.enabled=a.x.enabled||a.y.enabled,a.minScale=a.forcedMinScale||Math.max(a.x.minScale,a.y.minScale),a.trigger(u)}}),L=h.extend({init:function(a){var b=this;k(b,a),h.fn.init.call(b)},dragMove:function(a){var b=this,c=b.dimension,d=b.axis,e=b.movable,f=e[d]+a;c.enabled&&((f<c.min&&0>a||f>c.max&&a>0)&&(a*=b.resistance),e.translateAxis(d,a),b.trigger(u,b))}}),M=f.extend({init:function(a){var c,d,e,f,b=this;k(b,{elastic:!0},a),e=b.elastic?.5:0,f=b.movable,b.x=c=new L({axis:"x",dimension:b.dimensions.x,resistance:e,movable:f}),b.y=d=new L({axis:"y",dimension:b.dimensions.y,resistance:e,movable:f}),b.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(a){b.gesture=a
},gesturechange:function(a){var k,e=b.gesture,g=e.center,h=a.center,i=a.distance/e.distance,j=b.dimensions.minScale;f.scale<=j&&1>i&&(i+=.8*(1-i)),k={x:(f.x-g.x)*i+h.x-f.x,y:(f.y-g.y)*i+h.y-f.y},f.scaleWith(i),c.dragMove(k.x),d.dragMove(k.y),b.dimensions.rescale(f.scale),b.gesture=a},move:function(a){c.dimension.enabled||d.dimension.enabled?(c.dragMove(a.x.delta),d.dragMove(a.y.delta),a.preventDefault()):a.touch.skip()},end:function(a){a.preventDefault()}})}}),N=d.transitions.prefix+"Transform",O=Math.round;P=d.hasHW3D?function(a,b,c){return"translate3d("+O(a)+"px,"+O(b)+"px,0) scale("+c+")"}:function(a,b,c){return"translate("+O(a)+"px,"+O(b)+"px) scale("+c+")"},Q=h.extend({init:function(b){var c=this;h.fn.init.call(c),c.element=a(b),c.element[0].style.webkitTransformOrigin="left top",c.x=0,c.y=0,c.scale=1,c._saveCoordinates(P(c.x,c.y,c.scale))},translateAxis:function(a,b){this[a]+=b,this.refresh()},scaleTo:function(a){this.scale=a,this.refresh()},scaleWith:function(a){this.scale*=a,this.refresh()},translate:function(a){this.x+=a.x,this.y+=a.y,this.refresh()},moveAxis:function(a,b){this[a]=b,this.refresh()},moveTo:function(a){k(this,a),this.refresh()},refresh:function(){var a=this,b=P(a.x,a.y,a.scale);b!=a.coordinates&&(a.element[0].style[N]=b,a._saveCoordinates(b),a.trigger(u))},_saveCoordinates:function(a){this.coordinates=a}}),R=g.extend({init:function(a,b){var d,c=this;g.fn.init.call(c,a,b),d=c.options.group,d in n?n[d].push(c):n[d]=[c]},events:[z,A,B],options:{name:"DropTarget",group:"default"},destroy:function(){var c,a=this.options.group,b=n[a]||o[a];if(b.length>1){for(g.fn.destroy.call(this),c=0;c<b.length;c++)if(b[c]==this){b.splice(c,1);break}}else R.destroyGroup(a)},_trigger:function(a,b){var c=this,d=m[c.options.group];return d?c.trigger(a,k({},b.event,{draggable:d,dropTarget:b.dropTarget})):void 0},_over:function(a){this._trigger(z,a)},_out:function(a){this._trigger(A,a)},_drop:function(a){var b=this,c=m[b.options.group];c&&(c.dropped=!b._trigger(B,a))}}),R.destroyGroup=function(a){var c,b=n[a]||o[a];if(b){for(c=0;c<b.length;c++)g.fn.destroy.call(b[c]);b.length=0,delete n[a],delete o[a]}},R._cache=n,S=R.extend({init:function(a,b){var d,c=this;g.fn.init.call(c,a,b),d=c.options.group,d in o?o[d].push(c):o[d]=[c]},options:{name:"DropTargetArea",group:"default",filter:null}}),T=g.extend({init:function(a,b){var d=this;g.fn.init.call(d,a,b),d.userEvents=new i(d.element,{global:!0,stopPropagation:!0,filter:d.options.filter,threshold:d.options.distance,start:j(d._start,d),move:j(d._drag,d),end:j(d._end,d),cancel:j(d._cancel,d)}),d._afterEndHandler=j(d._afterEnd,d),d.captureEscape=function(a){a.keyCode===c.keys.ESC&&(d._trigger(y,{event:a}),d.userEvents.cancel())}},events:[v,w,x,y],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(b){var d,c=this,e=c.options,f=c.boundaries,g=e.axis,h=c.options.cursorOffset;h?d={left:b.x.location+h.left,top:b.y.location+h.top}:(c.hintOffset.left+=b.x.delta,c.hintOffset.top+=b.y.delta,d=a.extend({},c.hintOffset)),f&&(d.top=F(d.top,f.y),d.left=F(d.left,f.x)),"x"===g?delete d.top:"y"===g&&delete d.left,c.hint.css(d)},_start:function(b){var h,c=this,d=c.options,f=d.container,g=d.hint;c.currentTarget=b.target,c.currentTargetOffset=l(c.currentTarget),g&&(c.hint&&c.hint.stop(!0,!0).remove(),c.hint=a.isFunction(g)?a(g.call(c,c.currentTarget)):g,h=l(c.currentTarget),c.hintOffset=h,c.hint.css({position:"absolute",zIndex:2e4,left:h.left,top:h.top}).appendTo(e.body)),m[d.group]=c,c.dropped=!1,f&&(c.boundaries=G(f,c.hint)),c._trigger(v,b)&&(c.userEvents.cancel(),c._afterEnd()),a(e).on(t,c.captureEscape)},_drag:function(b){var c=this;b.preventDefault(),c._withDropTarget(b,function(c,d){if(!c)return p&&(p._trigger(A,k(b,{dropTarget:a(p.targetElement)})),p=null),void 0;if(p){if(d===p.targetElement)return;p._trigger(A,k(b,{dropTarget:a(p.targetElement)}))}c._trigger(z,k(b,{dropTarget:a(d)})),p=k(c,{targetElement:d})}),c._trigger(w,b),c.hint&&c._updateHint(b)},_end:function(b){var c=this;c._withDropTarget(b,function(c,d){c&&(c._drop(k({},b,{dropTarget:a(d)})),p=null)}),c._trigger(x,b),c._cancel(b.event)},_cancel:function(){var a=this;a.hint&&!a.dropped?setTimeout(function(){a.hint.stop(!0,!0).animate(a.currentTargetOffset,"fast",a._afterEndHandler)},0):a._afterEnd()},_trigger:function(a,b){var c=this;return c.trigger(a,k({},b.event,{x:b.x,y:b.y,currentTarget:c.currentTarget,dropTarget:b.dropTarget}))},_withDropTarget:function(a,b){var d,e,c=this,f=c.options,g=n[f.group],h=o[f.group];(g&&g.length||h&&h.length)&&(d=D(a),c.hint&&C(c.hint[0],d)&&(c.hint.hide(),d=D(a),d||(d=D(a)),c.hint.show()),e=H(d,g,h),e?b(e.target,e.targetElement):b())},destroy:function(){var a=this;g.fn.destroy.call(a),a._afterEnd(),a.userEvents.destroy()},_afterEnd:function(){var b=this;b.hint&&b.hint.remove(),delete m[b.options.group],b.trigger("destroy"),a(e).off(t,b.captureEscape)}}),c.ui.plugin(R),c.ui.plugin(S),c.ui.plugin(T),c.TapCapture=I,c.containerBoundaries=G,k(c.ui,{Pane:M,PaneDimensions:K,Movable:Q})}(window.kendo.jQuery),function(a){function k(a){return a.position().top+3}var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=".kendoGroupable",g=c.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),h=function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(c.attr("title"))||b.attr(c.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},i=a('<div class="k-grouping-dropclue"/>'),j=/("|'|\[|\]|\$|\.|\:|\+)/g,l=d.extend({init:function(b,g){var l,o,j=this,m=c.guid(),n=e(j._intializePositions,j),p=j._dropCuePositions=[];d.fn.init.call(j,b,g),j.draggable=o=j.options.draggable||new c.ui.Draggable(j.element,{filter:j.options.draggableElements,hint:h,group:m}),l=j.groupContainer=a(j.options.groupContainer,j.element).kendoDropTarget({group:o.options.group,dragenter:function(a){j._canDrag(a.draggable.currentTarget)&&(a.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),i.css({top:k(l),left:0}).appendTo(l))},dragleave:function(a){a.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),i.remove()},drop:function(b){var l,d=b.draggable.currentTarget,e=d.attr(c.attr("field")),f=d.attr(c.attr("title")),g=j.indicator(e),h=j._dropCuePositions,k=h[h.length-1];(d.hasClass("k-group-indicator")||j._canDrag(d))&&(k?(l=j._dropCuePosition(c.getOffset(i).left+parseInt(k.element.css("marginLeft"),10)+parseInt(k.element.css("marginRight"),10)),l&&j._canDrop(a(g),l.element,l.left)&&(l.before?l.element.before(g||j.buildIndicator(e,f)):l.element.after(g||j.buildIndicator(e,f)),j._change())):(j.groupContainer.append(j.buildIndicator(e,f)),j._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:h,group:o.options.group,dragcancel:e(j._dragCancel,j),dragstart:function(a){var b=a.currentTarget,c=parseInt(b.css("marginLeft"),10),d=b.position().left-c;n(),i.css({top:k(l),left:d}).appendTo(l),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){j._dragEnd(this)},drag:e(j._drag,j)}).on("click"+f,".k-button",function(b){b.preventDefault(),j._removeIndicator(a(this).parent())}).on("click"+f,".k-link",function(b){var d=a(this).parent(),e=j.buildIndicator(d.attr(c.attr("field")),d.attr(c.attr("title")),"asc"==d.attr(c.attr("dir"))?"desc":"asc");d.before(e).remove(),j._change(),b.preventDefault()}),o.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){j._dragEnd(this)},dragcancel:e(j._dragCancel,j),dragstart:function(a){var b,c,d;return j.options.allowDrag||j._canDrag(a.currentTarget)?(n(),p.length?(b=p[p.length-1].element,c=parseInt(b.css("marginRight"),10),d=b.position().left+b.outerWidth()+c):d=0,void 0):(a.preventDefault(),void 0)},drag:e(j._drag,j)}),j.dataSource=j.options.dataSource,j.dataSource&&(j._refreshHandler=e(j.refresh,j),j.dataSource.bind("change",j._refreshHandler))},refresh:function(){var b=this,d=b.dataSource;b.groupContainer.empty().append(a.map(d.group()||[],function(a){var d=a.field.replace(j,"\\$1"),e=b.element.find(b.options.filter).filter("["+c.attr("field")+"="+d+"]");return b.buildIndicator(a.field,e.attr(c.attr("title")),a.dir)}).join("")),b._invalidateGroupContainer()},destroy:function(){var a=this;d.fn.destroy.call(a),a.groupContainer.off(f).kendoDropTarget("destroy").kendoDraggable("destroy"),a.options.draggable||a.draggable.destroy(),a.dataSource&&a._refreshHandler&&a.dataSource.unbind("change",a._refreshHandler)},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(b){var d=a(".k-group-indicator",this.groupContainer);return a.grep(d,function(d){return a(d).attr(c.attr("field"))===b})[0]},buildIndicator:function(a,b,d){return g({field:a.replace(/"/g,"'"),dir:d,title:b,ns:c.ns})},descriptors:function(){var e,f,g,h,i,b=this,d=a(".k-group-indicator",b.groupContainer);return e=b.element.find(b.options.filter).map(function(){var b=a(this),d=b.attr(c.attr("aggregates")),e=b.attr(c.attr("field"));if(d&&""!==d)for(f=d.split(","),d=[],h=0,i=f.length;i>h;h++)d.push({field:e,aggregate:f[h]});return d}).toArray(),a.map(d,function(b){return b=a(b),g=b.attr(c.attr("field")),{field:g,dir:b.attr(c.attr("dir")),aggregates:e||[]}})},_removeIndicator:function(a){var b=this;a.remove(),b._invalidateGroupContainer(),b._change()},_change:function(){var a=this;a.dataSource&&a.dataSource.group(a.descriptors())},_dropCuePosition:function(b){var d,e,f,g,c=this._dropCuePositions;if(i.is(":visible")&&0!==c.length)return b=Math.ceil(b),d=c[c.length-1],e=d.right,f=parseInt(d.element.css("marginLeft"),10),g=parseInt(d.element.css("marginRight"),10),b>=e?b={left:d.element.position().left+d.element.outerWidth()+g,element:d.element,before:!1}:(b=a.grep(c,function(a){return a.left<=b&&b<=a.right})[0],b&&(b={left:b.element.position().left-f,element:b.element,before:!0})),b},_drag:function(a){var b=this._dropCuePosition(a.x.location);b&&i.css({left:b.left})},_canDrag:function(a){var b=a.attr(c.attr("field"));return"false"!=a.attr(c.attr("groupable"))&&b&&(a.hasClass("k-group-indicator")||!this.indicator(b))},_canDrop:function(a,b,c){var d=a.next();return a[0]!==b[0]&&(!d[0]||b[0]!==d[0]||c>d.position().left)},_dragEnd:function(b){var d=this,e=b.currentTarget.attr(c.attr("field")),f=d.indicator(e);b!==d.options.draggable&&!b.dropped&&f&&d._removeIndicator(a(f)),d._dragCancel()},_dragCancel:function(){i.remove(),this._dropCuePositions=[]},_intializePositions:function(){var e,b=this,d=a(".k-group-indicator",b.groupContainer);b._dropCuePositions=a.map(d,function(b){return b=a(b),e=c.getOffset(b).left,{left:parseInt(e,10),right:parseInt(e+b.outerWidth(),10),element:b}})},_invalidateGroupContainer:function(){var a=this.groupContainer;a.is(":empty")&&a.html(this.options.messages.empty)}});c.ui.plugin(l)}(window.kendo.jQuery),function(a){function g(b,c){b=a(b),c?b.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):b.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var c=window.kendo,d=c.ui.Widget,e="change",f="k-reorderable",h=d.extend({init:function(b,h){var j,i=this,k=c.guid()+"-reorderable";d.fn.init.call(i,b,h),b=i.element.addClass(f),h=i.options,i.draggable=j=h.draggable||new c.ui.Draggable(b,{group:k,filter:h.filter,hint:h.hint}),i.reorderDropCue=a('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),b.find(j.options.filter).kendoDropTarget({group:j.options.group,dragenter:function(a){if(i._draggable){var d,b=this.element,e=b[0]===i._draggable[0];g(a.draggable.hint,e),e||(d=c.getOffset(b),i.reorderDropCue.css({height:b.outerHeight(),top:d.top,left:d.left+(b.index()>i._draggable.index()?b.outerWidth():0)}).appendTo(document.body))}},dragleave:function(a){g(a.draggable.hint,!0),i.reorderDropCue.remove()},drop:function(){if(i._draggable){var d,a=i._draggable[0],c=this.element[0];a!==c&&(d=b.find(j.options.filter),i.trigger(e,{element:i._draggable,oldIndex:d.index(a),newIndex:d.index(c)}))}}}),j.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){i.reorderDropCue.remove(),i._draggable=null},dragend:function(){i.reorderDropCue.remove(),i._draggable=null},dragstart:function(a){i._draggable=a.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[e],destroy:function(){var a=this;d.fn.destroy.call(a),a.draggable&&a.draggable.destroy(),c.destroy(a.element)}});c.ui.plugin(h)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=a.isFunction,h=a.extend,i="horizontal",j="vertical",k="start",l="resize",m="resizeend",n=e.extend({init:function(a,b){var c=this;e.fn.init.call(c,a,b),c.orientation=c.options.orientation.toLowerCase()!=j?i:j,c._positionMouse=c.orientation==i?"x":"y",c._position=c.orientation==i?"left":"top",c._sizingDom=c.orientation==i?"outerWidth":"outerHeight",c.draggable=new d.Draggable(a,{distance:0,filter:b.handle,drag:f(c._resize,c),dragcancel:f(c._cancel,c),dragstart:f(c._start,c),dragend:f(c._stop,c)}),c.userEvents=c.draggable.userEvents},events:[l,m,k],options:{name:"Resizable",orientation:i},_max:function(a){var c=this,d=c.hint?c.hint[c._sizingDom]():0,e=c.options.max;return g(e)?e(a):e!==b?c._initialElementPosition+e-d:e},_min:function(a){var c=this,d=c.options.min;return g(d)?d(a):d!==b?c._initialElementPosition+d:d},_start:function(b){var c=this,d=c.options.hint,e=a(b.currentTarget);c._initialElementPosition=e.position()[c._position],c._initialMousePosition=b[c._positionMouse].startLocation,d&&(c.hint=g(d)?a(d(e)):d,c.hint.css({position:"absolute"}).css(c._position,c._initialElementPosition).appendTo(c.element)),c.trigger(k,b),c._maxPosition=c._max(b),c._minPosition=c._min(b),a(document.body).css("cursor",e.css("cursor"))},_resize:function(c){var j,d=this,f=(a(c.currentTarget),d._maxPosition),g=d._minPosition,i=d._initialElementPosition+(c[d._positionMouse].location-d._initialMousePosition);j=g!==b?Math.max(g,i):i,d.position=j=f!==b?Math.min(f,j):j,d.hint&&d.hint.toggleClass(d.options.invalidClass||"",j==f||j==g).css(d._position,j),d.resizing=!0,d.trigger(l,h(c,{position:j}))},_stop:function(b){var c=this;c.hint&&c.hint.remove(),c.resizing=!1,c.trigger(m,h(b,{position:c.position})),a(document.body).css("cursor","")},_cancel:function(a){var c=this;c.hint&&(c.position=b,c.hint.css(c._position,c._initialElementPosition),c._stop(a))},destroy:function(){var a=this;e.fn.destroy.call(a),a.draggable&&a.draggable.destroy()},press:function(a){if(a){var b=a.position(),c=this;c.userEvents.press(b.left,b.top,a[0]),c.targetPosition=b,c.target=a}},move:function(a){var c=this,d=c._position,e=c.targetPosition,f=c.position;f===b&&(f=e[d]),e[d]=f+a,c.userEvents.move(e.left,e.top)},end:function(){this.userEvents.end(),this.target=this.position=b}});c.ui.plugin(n)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=a.proxy,e="dir",f="asc",g="single",h="field",i="desc",j=".kendoSortable",k=".k-link",l="aria-sort",m=c.ui.Widget,n=m.extend({init:function(a,b){var e,c=this;m.fn.init.call(c,a,b),c._refreshHandler=d(c.refresh,c),c.dataSource=c.options.dataSource.bind("change",c._refreshHandler),e=c.element.find(k),e[0]||(e=c.element.wrapInner('<a class="k-link" href="#"/>').find(k)),c.link=e,c.element.on("click"+j,d(c._click,c))},options:{name:"Sortable",mode:g,allowUnsort:!0},destroy:function(){var a=this;m.fn.destroy.call(a),a.element.off(j),a.dataSource.unbind("change",a._refreshHandler)},refresh:function(){var g,j,k,m,b=this,d=b.dataSource.sort()||[],n=b.element,o=n.attr(c.attr(h));for(n.removeAttr(c.attr(e)),n.removeAttr(l),g=0,j=d.length;j>g;g++)k=d[g],o==k.field&&n.attr(c.attr(e),k.dir);m=n.attr(c.attr(e)),n.find(".k-i-arrow-n,.k-i-arrow-s").remove(),m===f?(a('<span class="k-icon k-i-arrow-n" />').appendTo(b.link),n.attr(l,"ascending")):m===i&&(a('<span class="k-icon k-i-arrow-s" />').appendTo(b.link),n.attr(l,"descending"))},_click:function(a){var o,p,d=this,j=d.element,k=j.attr(c.attr(h)),l=j.attr(c.attr(e)),m=d.options,n=d.dataSource.sort()||[];if(l=l===f?i:l===i&&m.allowUnsort?b:f,m.mode===g)n=[{field:k,dir:l}];else if("multiple"===m.mode){for(o=0,p=n.length;p>o;o++)if(n[o].field===k){n.splice(o,1);break}n.push({field:k,dir:l})}a.preventDefault(),d.dataSource.sort(n)}});c.ui.plugin(n)}(window.kendo.jQuery),function(a){function p(a,b){var d=c.getOffset(a),e=b.left+b.width,f=b.top+b.height;return d.right=d.left+a.outerWidth(),d.bottom=d.top+a.outerHeight(),!(d.left>e||d.right<b.left||d.top>f||d.bottom<b.top)}function q(a,b,c,d){var e,f,g;for(e=0,f=a.length;f>e;e++)g=a.eq(e),p(g,c)?g.hasClass(h)?d&&b!==g[0]&&g.removeClass(h).addClass(m):g.hasClass(i)||g.hasClass(m)||g.addClass(i):g.hasClass(i)?g.removeClass(i):d&&g.hasClass(m)&&g.removeClass(m).addClass(h)}var o,c=window.kendo,d=c.ui.Widget,e=a.proxy,f=Math.abs,g="aria-selected",h="k-state-selected",i="k-state-selecting",j="k-selectable",k="change",l=".kendoSelectable",m="k-state-unselecting",n=!1;!function(a){!function(){a('<div class="parent"><span /></div>').on("click",">*",function(){n=!0}).find("span").click().end().off()}()}(a),o=d.extend({init:function(b,f){var h,g=this;d.fn.init.call(g,b,f),g._marquee=a("<div class='k-marquee'></div>"),g._lastActive=null,g.element.addClass(j),h=g.options.multiple,g.userEvents=new c.UserEvents(g.element,{global:!0,allowSelection:!0,filter:(n?"":"."+j+" ")+g.options.filter,tap:e(g._tap,g)}),h&&g.userEvents.bind("start",e(g._start,g)).bind("move",e(g._move,g)).bind("end",e(g._end,g)).bind("select",e(g._select,g))},events:[k],options:{name:"Selectable",filter:">*",multiple:!1},_tap:function(b){var i,c=a(b.target),d=this,e=b.event.ctrlKey,f=d.options.multiple,g=f&&b.event.shiftKey,l=b.event.which,m=b.event.button;c.closest("."+j)[0]!==d.element[0]||l&&3==l||m&&2==m||(i=c.hasClass(h),f&&e||d.clear(),g?d.selectRange(d._firstSelectee(),c):(i&&e?(d._unselect(c),d._notify(k)):d.value(c),d._lastActive=d._downTarget=c))},_start:function(b){var c=this,d=a(b.target),e=d.hasClass(h),f=b.event.ctrlKey;return c._downTarget=d,d.closest("."+j)[0]!==c.element[0]?(c.userEvents.cancel(),c._downTarget=null,void 0):(c._marquee.appendTo(document.body).css({left:b.x.client+1,top:b.y.client+1,width:0,height:0}),f||c.clear(),e&&(c._selectElement(d,!0),f&&d.addClass(m)),void 0)},_move:function(a){var b=this,c={left:a.x.startLocation>a.x.location?a.x.location:a.x.startLocation,top:a.y.startLocation>a.y.location?a.y.location:a.y.startLocation,width:f(a.x.initialDelta),height:f(a.y.initialDelta)},d=b.element.find(b.options.filter);b._marquee.css(c),q(d,b._downTarget[0],c,a.event.ctrlKey),a.preventDefault()},_end:function(){var a=this;a._marquee.remove(),a._unselect(a.element.find(a.options.filter+"."+m)).removeClass(m),a.value(a.element.find(a.options.filter+"."+i)),a._lastActive=a._downTarget},value:function(a){var b=this,c=e(b._selectElement,b);return a?(a.each(function(){c(this)}),b._notify(k),void 0):b.element.find(b.options.filter+"."+h)},_firstSelectee:function(){var b,a=this;return null!==a._lastActive?a._lastActive:(b=a.value(),b.length>0?b[0]:a.element.find(a.options.filter))},_selectElement:function(b,c){var d=a(b),e=!c&&this._notify("select",{element:b});d.removeClass(i),e||(d.addClass(h),this.options.aria&&d.attr(g,!0))},_notify:function(a,b){return b=b||{},this.trigger(a,b)},_unselect:function(a){return a.removeClass(h),this.options.aria&&a.attr(g,!1),a},_select:function(b){a(b.event.target).is("input,a,textarea")?(this.userEvents.cancel(),this._downTarget=null):b.preventDefault()},clear:function(){var a=this.element.find(this.options.filter+"."+h);this._unselect(a)},selectRange:function(b,c){var g,i,j,l,d=this,f=!1,m=d.element.find(d.options.filter),n=e(d._selectElement,d);for(b=a(b)[0],c=a(c)[0],g=0,i=m.length;i>g;g++)l=m[g],f?(n(l),f=l!==c):l===b?(f=b!==c,n(l)):l===c?(j=b,b=c,c=j,f=!0,n(l)):a(l).removeClass(h);d._notify(k)},destroy:function(){var a=this;d.fn.destroy.call(a),a.element.off(l),a.userEvents.destroy()}}),c.ui.plugin(o)}(window.kendo.jQuery),function(a,b){function q(a,b,d,e){return a({idx:b,text:d,ns:c.ns,numeric:e})}function r(a,b){return p({className:a.substring(1),text:b})}function s(a,b,d,e){a.find(b).parent().attr(c.attr("page"),d).attr("tabindex",-1).toggleClass("k-state-disabled",e)}function t(a,b){s(a,g,1,1>=b)}function u(a,b){s(a,i,Math.max(1,b-1),1>=b)}function v(a,b,c){s(a,j,Math.min(c,b+1),b>=c)}function w(a,b,c){s(a,h,c,b>=c)}var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=".k-i-seek-w",h=".k-i-seek-e",i=".k-i-arrow-w",j=".k-i-arrow-e",k="change",l=".kendoPager",m="click",n="keydown",o="disabled",p=c.template('<a href="javascript:;" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),x=e.extend({init:function(b,d){var p,q,o=this;e.fn.init.call(o,b,d),d=o.options,o.dataSource=c.data.DataSource.create(d.dataSource),o.linkTemplate=c.template(o.options.linkTemplate),o.selectTemplate=c.template(o.options.selectTemplate),p=o.page(),q=o.totalPages(),o._refreshHandler=f(o.refresh,o),o.dataSource.bind(k,o._refreshHandler),o.element.append('<div class="k-pager-wrap-zzz"></div>'),o.elementzzz=a(".k-pager-wrap-zzz",o.element),d.previousNext&&(o.elementzzz.find(g).length||(o.elementzzz.append(r(g,d.messages.first)),t(o.elementzzz,p,q)),o.elementzzz.find(i).length||(o.elementzzz.append(r(i,d.messages.previous)),u(o.elementzzz,p,q))),d.numeric&&(o.list=o.elementzzz.find(".k-pager-numbers"),o.list.length||(o.list=a('<ul class="k-pager-numbers k-reset" />').appendTo(o.elementzzz))),d.input&&(o.element.find(".k-pager-input").length||o.element.append('<span class="k-pager-input k-label">'+d.messages.page+'<input class="k-textbox">'+c.format(d.messages.of,q)+"</span>"),o.element.on(n+l,".k-pager-input input",f(o._keydown,o))),d.previousNext&&(o.elementzzz.find(j).length||(o.elementzzz.append(r(j,d.messages.next)),v(o.elementzzz,p,q)),o.elementzzz.find(h).length||(o.elementzzz.append(r(h,d.messages.last)),w(o.elementzzz,p,q))),d.pageSizes&&(o.element.find(".k-pager-sizes").length||a('<span class="k-pager-sizes k-label"><select/>'+d.messages.itemsPerPage+"</span>").appendTo(o.element).find("select").html(a.map(a.isArray(d.pageSizes)?d.pageSizes:[5,10,20],function(a){return"<option>"+a+"</option>"}).join("")).end().appendTo(o.element),o.element.find(".k-pager-sizes select").val(o.pageSize()),c.ui.DropDownList&&o.element.find(".k-pager-sizes select").show().kendoDropDownList(),o.element.on(k+l,".k-pager-sizes select",f(o._change,o))),d.refresh&&(o.element.find(".k-pager-refresh").length||o.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+d.messages.refresh+'"><span class="k-icon k-i-refresh">'+d.messages.refresh+"</span></a>"),o.element.on(m+l,".k-pager-refresh",f(o._refreshClick,o))),d.info&&(o.element.find(".k-pager-info").length||o.element.append('<span class="k-pager-info k-label" />')),o.element.on(m+l,"a",f(o._click,o)).addClass("k-pager-wrap k-widget"),d.autoBind&&o.refresh(),c.notify(o)},destroy:function(){var a=this;e.fn.destroy.call(a),a.element.off(l),a.dataSource.unbind(k,a._refreshHandler)},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(a){var b=this;b.dataSource.unbind(k,b._refreshHandler),b.dataSource=b.options.dataSource=a,a.bind(k,b._refreshHandler),b.options.autoBind&&a.fetch()},refresh:function(){var b,d,g,a=this,e=1,f="",h=a.page(),i=a.options,j=a.pageSize(),k=a.dataSource.total(),l=a.totalPages(),m=a.linkTemplate,n=i.buttonCount;if(i.numeric){for(h>n&&(g=h%n,e=0===g?h-n+1:h-g+1),d=Math.min(e+n-1,l),e>1&&(f+=q(m,e-1,"...",!1)),b=e;d>=b;b++)f+=q(b==h?a.selectTemplate:m,b,b,!0);l>d&&(f+=q(m,b,"...",!1)),""===f&&(f=a.selectTemplate({text:0})),a.list.html(f)}i.info&&(f=k>0?c.format(i.messages.display,(h-1)*j+1,Math.min(h*j,k),k):i.messages.empty,a.element.find(".k-pager-info").html(f)),i.input&&a.element.find(".k-pager-input").html(a.options.messages.page+'<input class="k-textbox">'+c.format(i.messages.of,l)).find("input").val(h).attr(o,1>k).toggleClass("k-state-disabled",1>k),i.previousNext&&(t(a.element,h,l),u(a.element,h,l),v(a.element,h,l),w(a.element,h,l)),i.pageSizes&&a.element.find(".k-pager-sizes select").val(j).filter("["+c.attr("role")+"=dropdownlist]").kendoDropDownList("value",j).kendoDropDownList("text",j)},_keydown:function(a){if(a.keyCode===c.keys.ENTER){var b=this.element.find(".k-pager-input").find("input"),d=parseInt(b.val(),10);(isNaN(d)||1>d||d>this.totalPages())&&(d=this.page()),b.val(d),this.page(d)}},_refreshClick:function(a){a.preventDefault(),this.dataSource.read()},_change:function(a){var b=parseInt(a.currentTarget.value,10);isNaN(b)||this.dataSource.pageSize(b)},_click:function(b){var d=a(b.currentTarget);b.preventDefault(),d.is(".k-state-disabled")||this.page(d.attr(c.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(a){return a===b?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(a),this.trigger(k,{index:a}),void 0)}});d.plugin(x)}(window.kendo.jQuery),function(a){function K(b,c){return b===c||a.contains(b,c)}var c=window.kendo,d=c.ui,e=d.Widget,f=c.support,g=c.getOffset,h=c._activeElement,i="open",j="close",k="deactivate",l="activate",m="center",n="left",o="right",p="top",q="bottom",r="absolute",s="hidden",t="body",u="location",v="position",w="visible",x="effects",y="k-state-active",z="k-state-border",A=".k-picker-wrap, .k-dropdown-wrap, .k-link",B="down",C=a(window),D=a(document.documentElement),E="resize scroll",F=f.transitions.css,G=F+"transform",H=a.extend,I=".kendoPopup",J=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],L=e.extend({init:function(b,d){var g,f=this;d=d||{},d.isRtl&&(d.origin=d.origin||q+" "+o,d.position=d.position||p+" "+o),e.fn.init.call(f,b,d),b=f.element,d=f.options,f.collisions=d.collision?d.collision.split(" "):[],1===f.collisions.length&&f.collisions.push(f.collisions[0]),g=a(f.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),d.appendTo=a(a(d.appendTo)[0]||g[0]||t),f.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!d.isRtl).css({position:r}).appendTo(d.appendTo).on("mouseenter"+I,function(){f._hovered=!0}).on("mouseleave"+I,function(){f._hovered=!1}),f.wrapper=a(),d.animation===!1&&(d.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),H(d.animation.open,{complete:function(){f.wrapper.css({overflow:w}),f.trigger(l)}}),H(d.animation.close,{complete:function(){f.wrapper.hide();var h,i,e=f.wrapper.data(u),g=a(d.anchor);e&&f.wrapper.css(e),d.anchor!=t&&(h=g.hasClass(z+"-down")?"down":"up",i=z+"-"+h,g.removeClass(i).children(A).removeClass(y).removeClass(i),b.removeClass(z+"-"+c.directions[h].reverse)),f._closing=!1,f.trigger(k)}}),f._mousedownProxy=function(a){f._mousedown(a)},f._resizeProxy=function(a){f._resize(a)},d.toggleTarget&&a(d.toggleTarget).on(d.toggleEvent+I,a.proxy(f.toggle,f))},events:[i,l,j,k],options:{name:"Popup",toggleEvent:"click",origin:q+" "+n,position:p+" "+n,anchor:t,collision:"flip fit",viewport:window,copyAnchorStyles:!0,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var g,b=this,d=b.options,f=b.element.off(I);e.fn.destroy.call(b),d.toggleTarget&&a(d.toggleTarget).off(I),D.unbind(B,b._mousedownProxy),C.unbind(E,b._resizeProxy),d.appendTo[0]===document.body&&(g=f.parent(".k-animation-container"),g[0]?g.remove():f.remove()),c.destroy(b.element.children())},open:function(b,d){var l,m,o,e=this,g={isFixed:!isNaN(parseInt(d,10)),x:b,y:d},h=e.element,j=e.options,k="down",n=a(j.anchor);if(!e.visible()){if(j.copyAnchorStyles&&h.css(c.getComputedStyles(n[0],J)),h.data("animating")||e.trigger(i))return;D.unbind(B,e._mousedownProxy).bind(B,e._mousedownProxy),f.mobileOS.ios||f.mobileOS.android||C.unbind(E,e._resizeProxy).bind(E,e._resizeProxy),e.wrapper=m=c.wrap(h).css({overflow:s,display:"block",position:r}),f.mobileOS.android&&m.add(n).css(G,"translatez(0)"),m.css(v),a(j.appendTo)[0]==document.body&&m.css(p,"-10000px"),l=H(!0,{},j.animation.open),e.flipped=e._position(g),l.effects=c.parseEffects(l.effects,e.flipped),k=l.effects.slideIn?l.effects.slideIn.direction:k,j.anchor!=t&&(o=z+"-"+k,h.addClass(z+"-"+c.directions[k].reverse),n.addClass(o).children(A).addClass(y).addClass(o)),h.data(x,l.effects).kendoStop(!0).kendoAnimate(l)}},toggle:function(){var a=this;a[a.visible()?j:i]()},visible:function(){return this.element.is(":"+w)},close:function(){var e,f,g,h,b=this,d=b.options;if(b.visible()){if(e=b.wrapper[0]?b.wrapper:c.wrap(b.element).hide(),b._closing||b.trigger(j))return;b.element.find(".k-popup").each(function(){var b=a(this),c=b.data("kendoPopup");c&&c.close()}),D.unbind(B,b._mousedownProxy),C.unbind(E,b._resizeProxy),f=H(!0,{},d.animation.close),g=b.element.data(x),h=f.effects,!h&&!c.size(h)&&g&&c.size(g)&&(f.effects=g,f.reverse=!0),b._closing=!0,b.element.kendoStop(!0),e.css({overflow:s}),b.element.kendoAnimate(f)}},_resize:function(a){var b=this;"resize"===a.type?(clearTimeout(b._resizeTimeout),b._resizeTimeout=setTimeout(function(){b._position(),b._resizeTimeout=null},50)):b._hovered||K(b.element[0],h())||b.close()},_mousedown:function(b){var d=this,e=d.element[0],f=d.options,g=a(f.anchor)[0],h=f.toggleTarget,i=c.eventTarget(b),j=a(i).closest(".k-popup")[0];j&&j!==d.element[0]||K(e,i)||K(g,i)||h&&K(a(h)[0],i)||d.close()},_fit:function(a,b,c){var d=0;return a+b>c&&(d=c-(a+b)),0>a&&(d=-a),d},_flip:function(a,b,c,d,e,f,g){var h=0;return g=g||b,f!==e&&f!==m&&e!==m&&(a+g>d&&(h+=-(c+b)),0>a+h&&(h+=c+b)),h},_position:function(b){var q,s,x,y,z,A,B,C,D,c=this,d=c.element.css(v,""),e=c.wrapper,h=c.options,i=a(h.viewport),j=a(i).offset(),k=a(h.anchor),l=h.origin.toLowerCase().split(" "),m=h.position.toLowerCase().split(" "),n=c.collisions,o=f.zoomLevel(),t=10002,w=0,p=k.parents().filter(e.siblings());if(p[0])if(s=Number(a(p).css("zIndex")))t=s+1;else for(q=k.parentsUntil(p),x=q.length;x>w;w++)s=Number(a(q[w]).css("zIndex")),s&&s>t&&(t=s+1);return e.css("zIndex",t),b&&b.isFixed?e.css({left:b.x,top:b.y}):e.css(c._align(l,m)),y=g(e,v,k[0]===e.offsetParent()[0]),z=g(e),A=k.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),A.length&&(y=g(e,v,!0),z=g(e)),i[0]===window?(z.top-=window.pageYOffset||document.documentElement.scrollTop||0,z.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(z.top-=j.top,z.left-=j.left),c.wrapper.data(u)||e.data(u,H({},y)),B=H({},z),C=H({},y),"fit"===n[0]&&(C.top+=c._fit(B.top,e.outerHeight(),i.height()/o)),"fit"===n[1]&&(C.left+=c._fit(B.left,e.outerWidth(),i.width()/o)),D=H({},C),"flip"===n[0]&&(C.top+=c._flip(B.top,d.outerHeight(),k.outerHeight(),i.height()/o,l[0],m[0],e.outerHeight())),"flip"===n[1]&&(C.left+=c._flip(B.left,d.outerWidth(),k.outerWidth(),i.width()/o,l[1],m[1],e.outerWidth())),d.css(v,r),e.css(C),C.left!=D.left||C.top!=D.top
},_align:function(b,c){var p,d=this,e=d.wrapper,f=a(d.options.anchor),h=b[0],i=b[1],j=c[0],k=c[1],l=g(f),n=a(d.options.appendTo),r=e.outerWidth(),s=e.outerHeight(),t=f.outerWidth(),u=f.outerHeight(),v=l.top,w=l.left,x=Math.round;return n[0]!=document.body&&(p=g(n),v-=p.top,w-=p.left),d.options.offsetX=d.options.offsetX?d.options.offsetX:0,d.options.offsetY=d.options.offsetY?d.options.offsetY:0,h===q&&(v+=u+d.options.offsetY),h===m&&(v+=x(u/2)+d.options.offsetY),j===q&&(v-=s-d.options.offsetY),j===m&&(v-=x(s/2)-d.options.offsetY),i===o&&(w+=t+d.options.offsetX),i===m&&(w+=x(t/2)+d.options.offsetX),k===o&&(w-=r-d.options.offsetX),k===m&&(w-=x(r/2)-d.options.offsetX),{top:v,left:w}}});d.plugin(L)}(window.kendo.jQuery),function(a){function B(a){for(;a.length;)C(a),a=a.parent()}function C(a){var b=a.data(c.ns+"title");b&&(a.attr("title",b),a.removeData(c.ns+"title"))}function D(a){var b=a.attr("title");b&&(a.data(c.ns+"title",b),a.attr("title",""))}function E(a){for(;a.length;)D(a),a=a.parent()}var c=window.kendo,d=c.ui.Widget,e=c.ui.Popup,f=a.isFunction,g=a.isPlainObject,h=a.extend,i=a.proxy,j=a(document),k=c.isLocalUrl,l="_tt_active",m="aria-describedby",n="show",o="hide",p="error",q="contentLoad",r="requestStart",s="k-content-frame",t='<div role="tooltip" class="k-widget k-tooltip-dir-#=dir# k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',u=c.template("<iframe frameborder='0' class='"+s+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),v=".kendoTooltip",w={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},x={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},y={bottom:"n",top:"s",left:"e",right:"w",center:"n"},z={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},A=function(a){return a.target.data(c.ns+"title")},F=d.extend({init:function(a,b){var e,c=this;d.fn.init.call(c,a,b),e=c.options.position.match(/left|right/)?"horizontal":"vertical",c.dimensions=z[e],c._documentKeyDownHandler=i(c._documentKeyDown,c),c.element.on(c.options.showOn+v,c.options.filter,i(c._showOn,c)).on("mouseenter"+v,c.options.filter,i(c._mouseenter,c)),this.options.autoHide&&c.element.on("mouseleave"+v,c.options.filter,i(c._mouseleave,c))},options:{name:"Tooltip",filter:"",content:A,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,wrapperClass:"",offsetX:0,offsetY:0,arrowOffsetX:-1,arrowOffsetY:-1,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[n,o,q,p,r],_mouseenter:function(b){""!==this.options.filter&&E(a(b.currentTarget))},_showOn:function(b){var c=this;c.options.showOn&&c.options.showOn.match(/click|focus/)?c._show(a(b.currentTarget)):(clearTimeout(c.timeout),c.timeout=setTimeout(function(){c._show(a(b.currentTarget))},c.options.showAfter))},_appendContent:function(a){var i,b=this,d=b.options.content,e=b.content,h=b.options.iframe;g(d)&&d.url?("iframe"in b.options||(h=!k(d.url)),b.trigger(r,{options:d,target:a}),h?(e.hide(),i=e.find("."+s)[0],i?i.src=d.url||i.src:e.html(u({content:d})),e.find("."+s).off("load"+v).on("load"+v,function(){b.trigger(q),e.show()})):(e.empty(),c.ui.progress(e,!0),b._ajaxRequest(d))):d&&f(d)?(d=d({target:a}),b.content.html(d)):b.content.html(d)},_ajaxRequest:function(a){var b=this;jQuery.ajax(h({type:"GET",dataType:"html",cache:!1,error:function(a,d){c.ui.progress(b.content,!1),b.trigger(p,{status:d,xhr:a})},success:i(function(a){c.ui.progress(b.content,!1),b.content.html(a),b.trigger(q)},b)},a))},_documentKeyDown:function(a){a.keyCode===c.keys.ESC&&this.hide()},hide:function(){this.popup&&this.popup.close()},show:function(a){E(a),this._show(a)},_show:function(a){var b=this,c=b.target();b.popup||b._initPopup(),c&&c[0]!=a[0]&&(b.popup.close(),b.popup.element.kendoStop(!0,!0)),c&&c[0]==a[0]||(b._appendContent(a),b.popup.options.anchor=a),b.popup.one("deactivate",function(){B(a),a.removeAttr(m),this.element.removeAttr("id").attr("aria-hidden",!0),j.off("keydown"+v,b._documentKeyDownHandler)}),b.popup.open()},_initPopup:function(){var b=this,d=b.options,f=a(c.template(t)({callout:d.callout&&"center"!==d.position,dir:y[d.position],autoHide:d.autoHide}));d.wrapperClass&&f.addClass(d.wrapperClass),b.popup=new e(f,h({activate:function(){var a=this.options.anchor,c=a[0].id||b.element[0].id;c&&(a.attr(m,c+l),this.element.attr("id",c+l)),b._positionCallout(),this.element.removeAttr("aria-hidden"),j.on("keydown"+v,b._documentKeyDownHandler),b.trigger(n)},close:function(){b.trigger(o)},copyAnchorStyles:!1,animation:d.animation},w[d.position],{offsetX:b.options.offsetX,offsetY:b.options.offsetY})),f.css({width:d.width,height:d.height}),b.content=f.find(".k-tooltip-content"),b.content.css({"min-height":d["min-height"]?d["min-height"]:40}),b.arrow=f.find(".k-callout"),d.autoHide?f.on("mouseleave"+v,i(b._mouseleave,b)):f.on("click"+v,".k-tooltip-button",i(b._closeButtonClick,b))},_closeButtonClick:function(a){a.preventDefault(),this.hide()},_mouseleave:function(b){if(this.popup){var c=a(b.currentTarget),d=c.offset(),e=b.pageX,f=b.pageY;if(d.right=d.left+c.outerWidth(),d.bottom=d.top+c.outerHeight(),e>d.left&&e<d.right&&f>d.top&&f<d.bottom)return;this.popup.close()}else B(a(b.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var b=this,c=b.options.position,d=b.dimensions,e=d.offset,f=b.popup,g=f.options.anchor,i=(a(g).offset(),parseInt(b.arrow.css("borderWidth"),10)),k=(a(f.element).offset(),y[f.flipped?x[c]:c]),l="left"==e?b.options.arrowOffsetX:b.options.arrowOffsetY+a(g)[d.size]()/2-i;b.popup.element.removeClass("k-tooltip-dir-n k-tooltip-dir-s k-tooltip-dir-w k-tooltip-dir-e").addClass("k-tooltip-dir-"+k),b.options.callout&&(b.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+k),(-1!=b.options.arrowOffsetX||-1!=b.options.arrowOffsetY)&&b.arrow.css(e,l))},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var a=this.popup;a&&(a.element.off(v),a.destroy()),this.element.off(v),j.off("keydown"+v,this._documentKeyDownHandler),d.fn.destroy.call(this)}});c.ui.plugin(F)}(window.kendo.jQuery),function(a,b){function D(b,c){b.filters&&(b.filters=a.grep(b.filters,function(a){return D(a,c),a.filters?a.filters.length:a.field!=c}))}var c=window.kendo,d=c.ui,e=d.Widget,f=c.keys,g=c.support,h=c.htmlEncode,i=c._activeElement,j="id",k="li",l="change",m="character",n="k-state-focused",o="k-state-hover",p="k-loading",q="open",r="close",s="select",t="progress",u="requestEnd",v="width",w=a.extend,x=a.proxy,y=g.browser,z=y.msie&&y.version<9,A=/"/g,B={ComboBox:"DropDownList",DropDownList:"ComboBox"},C=e.extend({init:function(b,c){var h,d=this,f=d.ns;e.fn.init.call(d,b,c),b=d.element,d._isSelect=b.is(s),d._template(),d.ul=a('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:g.kineticScrollNeeded?"":"auto"}).on("mouseenter"+f,k,function(){a(this).addClass(o)}).on("mouseleave"+f,k,function(){a(this).removeClass(o)}).on("click"+f,k,x(d._click,d)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),d.list=a("<div class='k-list-container'/>").append(d.ul).on("mousedown"+f,function(a){a.preventDefault()}),h=b.attr(j),h&&(d.list.attr(j,h+"-list"),d.ul.attr(j,h+"_listbox"),d._optionID=h+"_option_selected"),d._initValue()},setOptions:function(a){e.fn.setOptions.call(this,a),a&&a.enable!==b&&(a.enabled=a.enable)},focus:function(){this._focused.focus()},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},_filterSource:function(a){var b=this,c=b.options,d=b.dataSource,e=d.filter()||{};D(e,c.dataTextField),a&&(e=e.filters||[],e.push(a)),d.filter(e)},_initValue:function(){var a=this,b=a.options.value;b?a.element.val(b):b=a.element.val(),a._old=b},_ignoreCase:function(){var c,a=this,b=a.dataSource.reader.model;b&&b.fields&&(c=b.fields[a.options.dataTextField],c&&c.type&&"string"!==c.type&&(a.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(a){var c=this,d=c._optionID;return a===b?c._current:(c._current&&(c._current.removeClass(n).removeAttr("aria-selected").removeAttr(j),c._focused.removeAttr("aria-activedescendant")),a&&(a.addClass(n),c._scroll(a),d&&(a.attr("id",d),c._focused.attr("aria-activedescendant",d))),c._current=a,void 0)},destroy:function(){var a=this,b=a.ns;e.fn.destroy.call(a),a._unbindDataSource(),a.ul.off(b),a.list.off(b),a.popup.destroy(),a._form&&a._form.off("reset",a._resetHandler)},dataItem:function(a){var c=this;return a===b&&(a=c.selectedIndex),c._data()[a]},_accessors:function(){var a=this,b=a.element,d=a.options,e=c.getter,f=b.attr(c.attr("text-field")),g=b.attr(c.attr("value-field"));f&&(d.dataTextField=f),g&&(d.dataValueField=g),a._text=e(d.dataTextField),a._value=e(d.dataValueField)},_aria:function(a){var c=this,d=c.options,e=c._focused;d.suggest!==b&&e.attr("aria-autocomplete",d.suggest?"both":"list"),a=a?a+" "+c.ul[0].id:c.ul[0].id,e.attr("aria-owns",a),c.ul.attr("aria-live",d.filter&&"none"!==d.filter?"polite":"off")},_blur:function(){var a=this;a._change(),a.close()},_change:function(){var f,a=this,c=a.selectedIndex,d=a.options.value,e=a.value();a._isSelect&&!a._bound&&d&&(e=d),e!==a._old?f=!0:c!==b&&c!==a._oldIndex&&(f=!0),f&&(a._old=e,a._oldIndex=c,a.trigger(l),a.element.trigger(l))},_click:function(b){b.isDefaultPrevented()||this._accept(a(b.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var a=this,c=a.options,d=a.element.is("[disabled]");c.enable!==b&&(c.enabled=c.enable),!c.enabled||d?a.enable(!1):a.readonly(a.element.is("[readonly]"))},_focus:function(a){var b=this;return b.popup.visible()&&a&&b.trigger(s,{item:a})?(b.close(),void 0):(b._select(a),b._triggerCascade(),b._blur(),void 0)},_index:function(a){var c,d,b=this,e=b._data();for(c=0,d=e.length;d>c;c++)if(b._dataValue(e[c])==a)return c;return-1},_dataValue:function(a){var c=this._value(a);return c===b&&(c=this._text(a)),c},_height:function(a){if(a){var b=this,c=b.list,d=b.popup.visible(),e=b.options.height;c=c.add(c.parent(".k-animation-container")).show().height(b.ul[0].scrollHeight>e?e:"auto"),d||c.hide()}},_adjustListWidth:function(){var d,e,a=this.list,b=a[0].style.width,c=this.wrapper;if(a.data(v)||!b)return d=window.getComputedStyle?window.getComputedStyle(c[0],null):0,e=d?parseFloat(d.width):c.outerWidth(),d&&(y.mozilla||y.msie)&&(e+=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)+parseFloat(d.borderLeftWidth)+parseFloat(d.borderRightWidth)),b=e-(a.outerWidth()-a.width()),a.css({fontFamily:c.css("font-family"),width:b}).data(v,b),!0},_popup:function(){var a=this,b=a.list,e=a._focused,f=a.options,h=a.wrapper;a.popup=new d.Popup(b,w({},f.popup,{anchor:h,open:function(b){a._adjustListWidth(),a.trigger(q)?b.preventDefault():(e.attr("aria-expanded",!0),a.ul.attr("aria-hidden",!1))},close:function(b){a.trigger(r)?b.preventDefault():(e.attr("aria-expanded",!1),a.ul.attr("aria-hidden",!0))},animation:f.animation,isRtl:g.isRtl(h)})),a.popup.one(q,function(){a._height(a._data().length)}),a._touchScroller=c.touchScroller(a.popup.element)},_makeUnselectable:function(){z&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(b){a(b.currentTarget).toggleClass(o,"mouseenter"===b.type)},_toggle:function(a){var c=this;a=a!==b?a:!c.popup.visible(),g.touch||c._focused[0]===i()||c._focused.focus(),c[a?q:r]()},_scroll:function(a){if(a){a[0]&&(a=a[0]);var b=this.ul[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d;b.scrollTop=e>c?c:g>e+f?g-f:e}},_template:function(){var a=this,b=a.options,d=b.template,e=b.dataSource;a._isSelect&&a.element[0].length&&(e||(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value")),d?(d=c.template(d),a.template=function(a){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+d(a)+"</li>"}):a.template=c.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+c.expr(b.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(){var a=this,b=a.value();(!a._bound&&b||a._old!==b)&&a.trigger("cascade")},_unbindDataSource:function(){var a=this;a.dataSource.unbind(l,a._refreshHandler).unbind(t,a._progressHandler).unbind(u,a._requestEndHandler)}});w(C,{caret:function(a){var b,c=a.ownerDocument.selection;return b=c?Math.abs(c.createRange().moveStart(m,-a.value.length)):a.selectionStart},selectText:function(a,b,c){try{if(a.createTextRange){a.focus();var d=a.createTextRange();d.collapse(!0),d.moveStart(m,b),d.moveEnd(m,c-b),d.select()}else a.setSelectionRange(b,c)}catch(e){}},inArray:function(a,b){var c,d,e=b.children;if(!a||a.parentNode!==b)return-1;for(c=0,d=e.length;d>c;c++)if(a===e[c])return c;return-1}}),c.ui.List=C,d.Select=C.extend({init:function(a,b){C.fn.init.call(this,a,b),this._initial=this.element.val()},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(a){var c=this;return a===b?c.selectedIndex:(c._select(a),c._triggerCascade(),c._old=c._accessor(),c._oldIndex=c.selectedIndex,void 0)},_accessor:function(a,c){var f,g,d=this.element,e=this._isSelect;return d=d[0],a===b?(e?(g=d.selectedIndex,g>-1&&(f=d.options[g],f&&(a=f.value))):a=d.value,a):(e?d.selectedIndex=c:d.value=a,void 0)},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._arrow.removeClass(p),a._focused.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._request=!0,a._busy||(a._busy=setTimeout(function(){a._focused.attr("aria-busy",!0),a._arrow.addClass(p)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var g,b=this,d=b.element,e=b.options,f=e.dataSource||{};f=a.isArray(f)?{data:f}:f,b._isSelect&&(g=d[0].selectedIndex,g>-1&&(e.index=g),f.select=d,f.fields=[{field:e.dataTextField},{field:e.dataValueField}]),b.dataSource&&b._refreshHandler?b._unbindDataSource():(b._refreshHandler=x(b.refresh,b),b._progressHandler=x(b._showBusy,b),b._requestEndHandler=x(b._requestEnd,b)),b.dataSource=c.data.DataSource.create(f).bind(l,b._refreshHandler).bind(t,b._progressHandler).bind(u,b._requestEndHandler)},_get:function(b){var e,f,c=this,d=c._data();if("function"==typeof b)for(e=0,f=d.length;f>e;e++)if(b(d[e])){b=e;break}if("number"==typeof b){if(0>b)return a();b=a(c.ul[0].children[b])}return b&&b.nodeType&&(b=a(b)),b},_move:function(a){var i,b=this,c=a.keyCode,d=b.ul[0],e=b.popup.visible()?"_select":"_accept",g=b._current,h=c===f.DOWN;return c===f.UP||h?(a.altKey?b.toggle(h):h?(g=!g||-1===b.selectedIndex&&!b.value()&&g[0]===d.firstChild?d.firstChild:g[0].nextSibling,b[e](g)):b[e](g?g[0].previousSibling:d.lastChild),a.preventDefault(),i=!0):c===f.ENTER||c===f.TAB?(b.popup.visible()&&a.preventDefault(),b._accept(g),i=!0):c===f.ESC&&(b.popup.visible()&&a.preventDefault(),b.close(),i=!0),i},_selectItem:function(a){var b=this,c=b.options;a=b._selectedValue||c.value||b._accessor(),a?b.value(a):b._bound||b.select(c.index)},_fetchItems:function(a){var b=this,c=b.ul[0].firstChild;return b._request?!0:b._fetch||c?void 0:b.options.cascadeFrom?!c:(b.dataSource.one(l,function(){b.value(a),b._fetch=!1}),b._fetch=!0,b.dataSource.fetch(),!0)},_options:function(a,c){var j,k,l,m,d=this,e=d.element,f=e[0].selectedIndex,g=a.length,i="",n=0;for(c&&(i=c,f+=1,n=1);g>n;n++)j="<option",k=a[n],l=d._text(k),m=d._value(k),m!==b&&(m+="",-1!==m.indexOf('"')&&(m=m.replace(A,"&quot;")),j+=' value="'+m+'"'),j+=">",l!==b&&(j+=h(l)),j+="</option>",i+=j;e.html(i),e[0].selectedIndex=f},_reset:function(){var a=this,b=a.element,c=b.closest("form");c[0]&&(a._resetHandler=function(){setTimeout(function(){a.value(a._initial)})},a._form=c.on("reset",a._resetHandler))},_cascade:function(){var e,f,g,h,i,b=this,c=b.options,d=c.cascadeFrom;if(d){if(b._selectedValue=c.value||b._accessor(),f=a("#"+d),e=f.data("kendo"+c.name),e||(e=f.data("kendo"+B[c.name])),!e)return;h=e.options.dataValueField,i=function(){var a=b._selectedValue||b.value();a?(b.value(a),b.dataSource.view()[0]&&-1!==b.selectedIndex||b._clearSelection(e,!0)):b.select(c.index),b.enable()},g=function(){var d,f,a=e.dataItem(),c=a?e._value(a):null;c?(d=b.dataSource.filter()||{},D(d,h),f=d.filters||[],f.push({field:h,operator:"eq",value:c}),b.dataSource.one(l,i).filter(f)):(b.enable(!1),b._clearSelection(e)),b._triggerCascade()},e.bind("cascade",function(){g()}),e._bound?g():e.value()||b.enable(!1)}}})}(window.kendo.jQuery),function(a,b){function bb(a,b,c,d){var h,e=a.getFullYear(),f=b.getFullYear(),g=c.getFullYear();return e-=e%d,h=e+(d-1),f>e&&(e=f),h>g&&(h=g),e+"-"+h}function cb(a){for(var c,b=0,d=a.min,e=a.max,f=a.start,g=a.setter,h=a.build,i=a.cells||12,j=a.perRow||4,k=a.content||o,l=a.empty||p,m=a.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';i>b;b++)b>0&&0===b%j&&(m+='</tr><tr role="row">'),c=h(f,b),m+=fb(f,d,e)?k(c):l(c),g(f,1);return m+"</tr></tbody></table>"}function db(a,b,c){var d=a.getFullYear(),e=b.getFullYear(),f=e,g=0;return c&&(e-=e%c,f=e-e%c+c-1),d>f?g=1:e>d&&(g=-1),g}function eb(a,b,c){var d=new Z;return d=new Z(d.getFullYear(),d.getMonth(),d.getDate()),a&&(d=new Z(+a)),b>d?d=new Z(+b):d>c&&(d=new Z(+c)),d}function fb(a,b,c){return+a>=+b&&+c>=+a}function gb(a,b){return a.slice(b).concat(a.slice(0,b))}function hb(a,b,c){b=b instanceof Z?b.getFullYear():a.getFullYear()+c*b,a.setFullYear(b)}function ib(b){a(this).toggleClass(E,O.indexOf(b.type)>-1||b.type==M)}function jb(a){a.preventDefault()}function kb(a){return l(a).calendars.standard}function lb(a){var c=$[a.start],d=$[a.depth],e=l(a.culture);a.format=j(a.format||e.calendars.standard.patterns.d),isNaN(c)&&(c=0,a.start=z),(d===b||d>c)&&(a.depth=z),a.dates||(a.dates=[])}function mb(a){r&&a.find("*").attr("unselectable","on")}function nb(a,b){for(var c=0,d=b.length;d>c;c++)if(a===+b[c])return!0;return!1}function ob(a,b){return a?a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate():!1}var ab,c=window.kendo,d=c.support,e=c.ui,f=e.Widget,g=c.parseDate,h=c._adjustDate,i=c.keys,j=c._extractFormat,k=c.template,l=c.getCulture,m=c.support.transitions,n=m?m.css+"transform-origin":"",o=k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),p=k('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),q=c.support.browser,r=q.msie&&q.version<9,s=".kendoCalendar",t="click"+s,u="keydown"+s,v="id",w="min",x="left",y="slideIn",z="month",A="century",B="change",C="navigate",D="value",E="k-state-hover",F="k-state-disabled",G="k-state-focused",H="k-other-month",I=' class="'+H+'"',J="k-nav-today",K="td:has(.k-link)",L="blur"+s,M="focus",N=M+s,O=d.touch?"touchstart":"mouseenter",P=d.touch?"touchstart"+s:"mouseenter"+s,Q=d.touch?"touchend"+s+" touchmove"+s:"mouseleave"+s,R=6e4,S=864e5,T="_prevArrow",U="_nextArrow",V="aria-disabled",W="aria-selected",X=a.proxy,Y=a.extend,Z=Date,$={month:0,year:1,decade:2,century:3},_=f.extend({init:function(b,d){var g,h,e=this;f.fn.init.call(e,b,d),b=e.wrapper=e.element,d=e.options,d.url=window.unescape(d.url),e._templates(),e._header(),e._footer(e.footer),h=b.addClass("k-widget k-calendar").on(P+" "+Q,K,ib).on(u,"table.k-content",X(e._move,e)).on(t,K,function(b){var c=b.currentTarget.firstChild;-1!=c.href.indexOf("#")&&b.preventDefault(),e._click(a(c))}).on("mouseup"+s,function(){e._focusView(e.options.focusOnNav!==!1)}).attr(v),h&&(e._cellID=h+"_cell_selected"),g=d.value,lb(d),e._index=$[d.start],e._current=new Z(+eb(g,d.min,d.max)),e._addClassProxy=function(){e._active=!0,e._cell.addClass(G)},e._removeClassProxy=function(){e._active=!1,e._cell.removeClass(G)},e.value(g),c.notify(e)},options:{name:"Calendar",value:null,min:new Z(1900,0,1),max:new Z(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:z,depth:z,animation:{horizontal:{effects:y,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[B,C],setOptions:function(a){lb(a),f.fn.setOptions.call(this,a)},destroy:function(){var a=this,b=a._today;a.element.off(s),a._title.off(s),a[T].off(s),a[U].off(s),c.destroy(a._view),b&&c.destroy(b.off(s)),f.fn.destroy.call(a)},current:function(){return this._current},view:function(){return this._view},focus:function(a){a=a||this._table,this._bindTable(a),a.focus()},min:function(a){return this._option(w,a)},max:function(a){return this._option("max",a)},navigateToPast:function(){this._navigate(T,-1)},navigateToFuture:function(){this._navigate(U,1)},navigateUp:function(){var a=this,b=a._index;a._title.hasClass(F)||a.navigate(a._current,++b)},navigateDown:function(a){var b=this,c=b._index,d=b.options.depth;if(a)return c===$[d]?(+b._value!=+a&&(b.value(a),b.trigger(B)),void 0):(b.navigate(a,--c),void 0)},navigate:function(c,d){d=isNaN(d)?$[d]:d;var q,r,s,t,e=this,f=e.options,g=f.culture,h=f.min,i=f.max,j=e._title,k=e._table,l=e._oldTable,m=e._value,n=e._current,o=c&&+c>+n,p=d!==b&&d!==e._index;c?e._current=c=new Z(+eb(c,h,i)):c=n,d===b?d=e._index:e._index=d,e._view=r=ab.views[d],s=r.compare,t=d===$[A],j.toggleClass(F,t).attr(V,t),t=s(c,h)<1,e[T].toggleClass(F,t).attr(V,t),t=s(c,i)>-1,e[U].toggleClass(F,t).attr(V,t),k&&l&&l.data("animating")&&(l.kendoStop(!0,!0),k.kendoStop(!0,!0)),e._oldTable=k,(!k||e._changeView)&&(j.html(r.title(c,h,i,g)),e._table=q=a(r.content(Y({min:h,max:i,date:c,url:f.url,dates:f.dates,format:f.format,culture:g},e[r.name]))),mb(q),e._animate({from:k,to:q,vertical:p,future:o}),e._focus(c),e.trigger(C)),d===$[f.depth]&&m&&e._class("k-state-selected",r.toDateString(m)),e._class(G,r.toDateString(c)),!k&&e._cell&&e._cell.removeClass(G),e._changeView=!0},value:function(a){var c=this,d=c._view,e=c.options,f=c._view,h=e.min,i=e.max;return a===b?c._value:(a=g(a,e.format,e.culture),null!==a&&(a=new Z(+a),fb(a,h,i)||(a=null)),c._value=a,f&&null===a&&c._cell?c._cell.removeClass("k-state-selected"):(c._changeView=!a||d&&0!==d.compare(a,c._current),c.navigate(a)),void 0)},_move:function(b){var l,m,n,o,d=this,e=d.options,f=b.keyCode,g=d._view,h=d._index,j=new Z(+d._current),k=c.support.isRtl(d.wrapper);return b.target===d._table[0]&&(d._active=!0),b.ctrlKey?f==i.RIGHT&&!k||f==i.LEFT&&k?(d.navigateToFuture(),m=!0):f==i.LEFT&&!k||f==i.RIGHT&&k?(d.navigateToPast(),m=!0):f==i.UP?(d.navigateUp(),m=!0):f==i.DOWN&&(d._click(a(d._cell[0].firstChild)),m=!0):(f==i.RIGHT&&!k||f==i.LEFT&&k?(l=1,m=!0):f==i.LEFT&&!k||f==i.RIGHT&&k?(l=-1,m=!0):f==i.UP?(l=0===h?-7:-4,m=!0):f==i.DOWN?(l=0===h?7:4,m=!0):f==i.ENTER?(d._click(a(d._cell[0].firstChild)),m=!0):f==i.HOME||f==i.END?(n=f==i.HOME?"first":"last",o=g[n](j),j=new Z(o.getFullYear(),o.getMonth(),o.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds()),m=!0):f==i.PAGEUP?(m=!0,d.navigateToPast()):f==i.PAGEDOWN&&(m=!0,d.navigateToFuture()),(l||n)&&(n||g.setDate(j,l),d._focus(eb(j,e.min,e.max)))),m&&b.preventDefault(),d._current},_animate:function(a){var b=this,c=a.from,d=a.to,e=b._active;c?c.parent().data("animating")?(c.parent().kendoStop(!0,!0).remove(),c.remove(),d.insertAfter(b.element[0].firstChild),b._focusView(e)):c.is(":visible")&&b.options.animation!==!1?b[a.vertical?"_vertical":"_horizontal"](c,d,a.future):(d.insertAfter(c),c.remove(),b._focusView(e)):(d.insertAfter(b.element[0].firstChild),b._bindTable(d))},_horizontal:function(a,c,d){var e=this,f=e._active,g=e.options.animation.horizontal,h=g.effects,i=a.outerWidth();h&&-1!=h.indexOf(y)&&(a.add(c).css({width:i}),a.wrap("<div/>"),e._focusView(f,a),a.parent().css({position:"relative",width:2*i,"float":x,"margin-left":d?0:-i}),c[d?"insertAfter":"insertBefore"](a),Y(g,{effects:y+":"+(d?"right":x),complete:function(){a.remove(),c.unwrap(),e._focusView(f),e._oldTable=b}}),a.parent().kendoStop(!0,!0).kendoAnimate(g))},_vertical:function(a,c){var h,i,d=this,e=d.options.animation.vertical,f=e.effects,g=d._active;f&&-1!=f.indexOf("zoom")&&(c.css({position:"absolute",top:a.prev().outerHeight(),left:0}).insertBefore(a),n&&(h=d._cellByDate(d._view.toDateString(d._current)),i=h.position(),i=i.left+parseInt(h.width()/2,10)+"px"+" "+(i.top+parseInt(h.height()/2,10)+"px"),c.css(n,i)),a.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){a.remove(),c.css({position:"static",top:0,left:0}),d._focusView(g),d._oldTable=b}}),c.kendoStop(!0,!0).kendoAnimate(e))},_cellByDate:function(b){return this._table.find("td:not(."+H+")").filter(function(){return a(this.firstChild).attr(c.attr(D))===b})},_class:function(b,d){var e=this,f=e._cellID,g=e._cell;g&&g.removeAttr(W).removeAttr(v),g=e._table.find("td:not(."+H+")").removeClass(b).filter(function(){return a(this.firstChild).attr(c.attr(D))===d}).attr(W,!0),b!==G||e._active||e.options.focusOnNav===!1||(b=""),g.addClass(b),g[0]&&(e._cell=g),f&&(g.attr(v,f),e._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",f))},_bindTable:function(a){a.on(N,this._addClassProxy).on(L,this._removeClassProxy)},_click:function(a){var b=this,d=b.options,e=new Date(+b._current),f=a.attr(c.attr(D)).split("/");f=new Z(f[0],f[1],f[2]),h(f),b._view.setDate(e,f),b.navigateDown(eb(e,d.min,d.max))},_focus:function(a){var b=this,c=b._view;0!==c.compare(a,b._current)?b.navigate(a):(b._current=a,b._class(G,c.toDateString(a)))},_focusView:function(a,b){a&&this.focus(b)},_footer:function(b){var d=this,e=d.element,f=new Z,g=e.find(".k-footer");return b?(g[0]||(g=a('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(e)),d._today=g.show().find(".k-link").html(b(f)).attr("title",c.toString(f,"D",d.options.culture)),d._toggle(),void 0):(d._toggle(!1),g.hide(),void 0)},_header:function(){var d,a=this,b=a.element,c=a.options.focusOnNav!==!1;b.find(".k-header")[0]||b.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),d=b.find(".k-link").on(P+" "+Q+" "+N+" "+L,ib).click(!1),a._title=d.eq(1).on(t,function(){a._focusView(c),a.navigateUp()}),a[T]=d.eq(0).on(t,function(){a._focusView(c),a.navigateToPast()}),a[U]=d.eq(2).on(t,function(){a._focusView(c),a.navigateToFuture()})},_navigate:function(a,b){var c=this,d=c._index+1,e=new Z(+c._current);a=c[a],a.hasClass(F)||(d>3?e.setFullYear(e.getFullYear()+100*b):ab.views[d].setDate(e,b),c.navigate(e))},_option:function(a,c){var h,i,d=this,e=d.options,f=+d._value,j=U;return c===b?e[a]:(c=g(c,e.format,e.culture),c&&(e[a]=new Z(+c),i=d._view.compare(c,d._current),a===w?(h=+c>f,i=i>-1,j=T):(h=f>+c,i=1>i),h?d.value(null):i?d.navigate():d[j].toggleClass(F,!1).attr(V,!1),d._toggle()),void 0)},_toggle:function(a){var c=this,d=c.options,e=c._today;a===b&&(a=fb(new Z,d.min,d.max)),e&&(e.off(t),a?e.addClass(J).removeClass(F).on(t,X(c._todayClick,c)):e.removeClass(J).addClass(F).on(t,jb))},_todayClick:function(a){var b=this,c=$[b.options.depth],d=new Z;a.preventDefault(),0===b._view.compare(b._current,d)&&b._index==c&&(b._changeView=!1),b._value=d,b.navigate(d,c),b.trigger(B)},_templates:function(){var a=this,b=a.options,d=b.footer,e=b.month,f=e.content,g=e.empty;a.month={content:k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+c.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"</a></td>",{useWithBlock:!!f}),empty:k('<td role="gridcell">'+(g||"&nbsp;")+"</td>",{useWithBlock:!!g})},d!==!1&&(a.footer=k(d||'#= kendo.toString(data,"D","'+b.culture+'") #',{useWithBlock:!1}))}});e.plugin(_),ab={firstDayOfMonth:function(a){return new Z(a.getFullYear(),a.getMonth(),1)},firstVisibleDay:function(a,b){b=b||c.culture().calendar;for(var d=b.firstDay,e=new Z(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());e.getDay()!=d;)ab.setTime(e,-1*S);return e},setTime:function(a,b){var c=a.getTimezoneOffset(),d=new Z(a.getTime()+b),e=d.getTimezoneOffset()-c;a.setTime(d.getTime()+e*R)},views:[{name:z,title:function(a,b,c,d){return kb(d).months.names[a.getMonth()]+" "+a.getFullYear()},content:function(a){for(var b=this,d=0,e=a.min,f=a.max,g=a.date,i=a.dates,j=a.format,k=a.culture,l=a.url,m=l&&i[0],n=kb(k),o=n.firstDay,p=n.days,q=gb(p.names,o),r=gb(p.namesShort,o),s=ab.firstVisibleDay(g,n),t=b.first(g),u=b.last(g),v=b.toDateString,w=new Z,x='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>d;d++)x+='<th scope="col" title="'+q[d]+'">'+r[d]+"</th>";return w=new Z(w.getFullYear(),w.getMonth(),w.getDate()),h(w),w=+w,cb({cells:42,perRow:7,html:x+='</tr></thead><tbody><tr role="row">',start:new Z(s.getFullYear(),s.getMonth(),s.getDate()),min:new Z(e.getFullYear(),e.getMonth(),e.getDate()),max:new Z(f.getFullYear(),f.getMonth(),f.getDate()),content:a.content,empty:a.empty,setter:b.setDate,build:function(a){var b=[],d=a.getDay(),e="",f="#";return(t>a||a>u)&&b.push(H),+a===w&&b.push("k-today"),(0===d||6===d)&&b.push("k-weekend"),m&&nb(+a,i)&&(f=l.replace("{0}",c.toString(a,j,k)),e=" k-action-link"),{date:a,dates:i,ns:c.ns,title:c.toString(a,"D",k),value:a.getDate(),dateString:v(a),cssClass:b[0]?' class="'+b.join(" ")+'"':"",linkClass:e,url:f}}})},first:function(a){return ab.firstDayOfMonth(a)},last:function(a){var b=new Z(a.getFullYear(),a.getMonth()+1,0),c=ab.firstDayOfMonth(a),d=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return d&&b.setHours(c.getHours()+d/60),b},compare:function(a,b){var c,d=a.getMonth(),e=a.getFullYear(),f=b.getMonth(),g=b.getFullYear();return c=e>g?1:g>e?-1:d==f?0:d>f?1:-1},setDate:function(a,b){var c=a.getHours();b instanceof Z?a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()):ab.setTime(a,b*S),h(a,c)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate()}},{name:"year",title:function(a){return a.getFullYear()},content:function(a){var b=kb(a.culture).months.namesAbbr,d=this.toDateString,e=a.min,f=a.max;return cb({min:new Z(e.getFullYear(),e.getMonth(),1),max:new Z(f.getFullYear(),f.getMonth(),1),start:new Z(a.date.getFullYear(),0,1),setter:this.setDate,build:function(a){return{value:b[a.getMonth()],ns:c.ns,dateString:d(a),cssClass:""}}})},first:function(a){return new Z(a.getFullYear(),0,a.getDate())},last:function(a){return new Z(a.getFullYear(),11,a.getDate())},compare:function(a,b){return db(a,b)},setDate:function(a,b){var c,d=a.getHours();b instanceof Z?(c=b.getMonth(),a.setFullYear(b.getFullYear(),c,a.getDate()),c!==a.getMonth()&&a.setDate(0)):(c=a.getMonth()+b,a.setMonth(c),c>11&&(c-=12),c>0&&a.getMonth()!=c&&a.setDate(0)),h(a,d)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/1"}},{name:"decade",title:function(a,b,c){return bb(a,b,c,10)},content:function(a){var b=a.date.getFullYear(),d=this.toDateString;return cb({start:new Z(b-b%10-1,0,1),min:new Z(a.min.getFullYear(),0,1),max:new Z(a.max.getFullYear(),0,1),setter:this.setDate,build:function(a,b){return{value:a.getFullYear(),ns:c.ns,dateString:d(a),cssClass:0===b||11==b?I:""}}})},first:function(a){var b=a.getFullYear();return new Z(b-b%10,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new Z(b-b%10+9,a.getMonth(),a.getDate())},compare:function(a,b){return db(a,b,10)},setDate:function(a,b){hb(a,b,1)},toDateString:function(a){return a.getFullYear()+"/0/1"}},{name:A,title:function(a,b,c){return bb(a,b,c,100)
},content:function(a){var b=a.date.getFullYear(),d=a.min.getFullYear(),e=a.max.getFullYear(),f=this.toDateString,g=d,h=e;return g-=g%10,h-=h%10,10>h-g&&(h=g+9),cb({start:new Z(b-b%100-10,0,1),min:new Z(g,0,1),max:new Z(h,0,1),setter:this.setDate,build:function(a,b){var g=a.getFullYear(),h=g+9;return d>g&&(g=d),h>e&&(h=e),{ns:c.ns,value:g+" - "+h,dateString:f(a),cssClass:0===b||11==b?I:""}}})},first:function(a){var b=a.getFullYear();return new Z(b-b%100,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new Z(b-b%100+99,a.getMonth(),a.getDate())},compare:function(a,b){return db(a,b,100)},setDate:function(a,b){hb(a,b,10)},toDateString:function(a){var b=a.getFullYear();return b-b%10+"/0/1"}}]},ab.isEqualDatePart=ob,ab.makeUnselectable=mb,ab.restrictValue=eb,ab.isInRange=fb,ab.normalize=lb,ab.viewsEnum=$,c.calendar=ab}(window.kendo.jQuery),function(a,b){function Q(b){var c=b.parseFormats,d=b.format;J.normalize(b),c=a.isArray(c)?c:[c],-1===a.inArray(d,c)&&c.splice(0,0,b.format),b.parseFormats=c}function R(a){a.preventDefault()}var T,c=window.kendo,d=c.ui,e=d.Widget,f=c.parseDate,g=c.keys,h=c.template,i=c._activeElement,j="<div />",k="<span />",l=".kendoDatePicker",m="click"+l,n="open",o="close",p="change",q="dateView",r="disabled",s="readonly",t="k-state-default",u="k-state-focused",v="k-state-selected",w="k-state-disabled",x="k-state-hover",y="keydown"+l,z="mouseenter"+l+" mouseleave"+l,A="mousedown"+l,B="id",C="min",D="max",E="month",F="aria-disabled",G="aria-expanded",H="aria-hidden",I="aria-readonly",J=c.calendar,K=J.isInRange,L=J.restrictValue,M=J.isEqualDatePart,N=a.extend,O=a.proxy,P=Date,S=function(b){var f,e=this,g=document.body,h=T.sharedCalendar,i=a(j).attr(H,"true").addClass("k-calendar-container").appendTo(g);h||(h=T.sharedCalendar=new d.Calendar(a(j).attr(B,c.guid()).hide().appendTo(g),{focusOnNav:!1}),J.makeUnselectable(h.element)),e.calendar=h,e.options=b=b||{},f=b.id,f&&(f+="_dateview",i.attr(B,f),e._dateViewID=f),e.popup=new d.Popup(i,N(b.popup,b,{name:"Popup",isRtl:c.support.isRtl(b.anchor)})),e.div=i,e._templates(),e.value(b.value)};S.prototype={_calendar:function(){var a=this,b=a.popup,c=a.options,d=a.calendar,e=d.element;e.data(q)!==a&&(e.appendTo(b.element).data(q,a).off(m+" "+y).on(m,"td:has(.k-link)",O(a._click,a)).on(A,R).show(),d.unbind(p).bind(p,c),d.month=a.month,d.options.dates=c.dates,d.options.depth=c.depth,d.options.culture=c.culture,d._footer(a.footer),d.min(c.min),d.max(c.max),d.navigate(a._value||a._current,c.start),a.value(a._value))},destroy:function(){var g,c=this,d=c.calendar,e=d.element,f=e.data(q);(f===b||f===c)&&(g=a(".k-calendar-container"),g.length>1?e.hide().appendTo(document.body):(e.off(l),d.destroy(),d.element.remove(),T.sharedCalendar=null)),c.popup.destroy()},open:function(){var a=this;a._calendar(),a.popup.open()},close:function(){this.popup.close()},min:function(a){this._option(C,a)},max:function(a){this._option(D,a)},toggle:function(){var a=this;a[a.popup.visible()?o:n]()},move:function(a){var b=this,c=a.keyCode,d=b.calendar,e=a.ctrlKey&&c==g.DOWN||c==g.ENTER;if(c==g.ESC)return b.close(),void 0;if(a.altKey)return c==g.DOWN?(b.open(),a.preventDefault()):c==g.UP&&(b.close(),a.preventDefault()),void 0;if(b.popup.visible())return e&&d._cell.hasClass(v)?(b.close(),a.preventDefault(),void 0):(b._current=d._move(a),void 0)},value:function(a){var b=this,c=b.calendar,d=b.options;b._value=a,b._current=new P(+L(a,d.min,d.max)),c.element.data(q)===b&&c.value(a)},_click:function(a){-1!==a.currentTarget.className.indexOf(v)&&this.close()},_option:function(a,b){var c=this,d=c.options,e=c.calendar;d[a]=b,e.element.data(q)===c&&e[a](b)},_templates:function(){var a=this,b=a.options,d=b.footer,e=b.month||{},f=e.content,g=e.empty;a.month={content:h('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+c.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"</a></td>",{useWithBlock:!!f}),empty:h("<td>"+(g||"&nbsp;")+"</td>",{useWithBlock:!!g})},d!==!1&&(a.footer=h(d||'#= kendo.toString(data,"D","'+b.culture+'") #',{useWithBlock:!1}))}},S.normalize=Q,c.DateView=S,T=e.extend({init:function(a,b){var g,h,d=this;e.fn.init.call(d,a,b),a=d.element,b=d.options,Q(b),d._wrapper(),d.dateView=new S(N({},b,{id:a.attr(B),anchor:d.wrapper,change:function(){d._change(this.value()),d.close()},close:function(b){d.trigger(o)?b.preventDefault():(a.attr(G,!1),h.attr(H,!0))},open:function(b){var e,c=d.options;d.trigger(n)?b.preventDefault():(d.element.val()!==d._oldText&&(e=f(a.val(),c.parseFormats,c.culture),e?(d.dateView._current=e,d.dateView.calendar._focus(e)):d.dateView.value(e)),a.attr(G,!0),h.attr(H,!1))}})),h=d.dateView.div,d._icon(),a[0].type="text",a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":d.dateView._dateViewID}),d._reset(),d._template(),g=a.is("[disabled]"),g?d.enable(!1):d.readonly(a.is("[readonly]")),d.value(b.value||d.element.val()),c.notify(d)},events:[n,o,p],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:E,depth:E,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(a){var b=this,c=b.dateView,d=c.options;e.fn.setOptions.call(b,a),Q(b.options),c.options=N(d,b.options,{change:d.change,close:d.close,open:d.open})},_editable:function(a){var b=this,c=b._dateIcon.off(l),d=b.element.off(l),e=b._inputWrapper.off(l),f=a.readonly,g=a.disable;f||g?(e.addClass(g?w:t).removeClass(g?t:w),d.attr(r,g).attr(s,f).attr(F,g).attr(I,f)):(e.addClass(t).removeClass(w).on(z,b._toggleHover),d.removeAttr(r).removeAttr(s).attr(F,!1).attr(I,!1).on("keydown"+l,O(b._keydown,b)).on("blur"+l,O(b._blur,b)).on("focus"+l,function(){b._inputWrapper.addClass(u)}),c.on(m,O(b._click,b)).on(A,R))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;e.fn.destroy.call(a),a.dateView.destroy(),a.element.off(l),a._dateIcon.off(l),a._inputWrapper.off(l),a._form&&a._form.off("reset",a._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(a){return this._option(C,a)},max:function(a){return this._option(D,a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),c._oldText=c.element.val(),void 0)},_toggleHover:function(b){a(b.currentTarget).toggleClass(x,"mouseenter"===b.type)},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(u)},_click:function(){var a=this,b=a.element;a.dateView.toggle(),c.support.touch||b[0]===i()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(p),b.element.trigger(p))},_keydown:function(a){var b=this,c=b.dateView,d=b.element.val();c.popup.visible()||a.keyCode!=g.ENTER||d===b._oldText?(c.move(a),b._updateARIA(c._current)):b._change(d)},_icon:function(){var d,b=this,c=b.element;d=c.next("span.k-select"),d[0]||(d=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(c)),b._dateIcon=d.attr({role:"button","aria-controls":b.dateView._dateViewID})},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=f(c,e.parseFormats,e.culture),c&&(e[a]=new P(+c),d.dateView[a](c)),void 0)},_update:function(a){var i,b=this,d=b.options,e=d.min,g=d.max,h=f(a,d.parseFormats,d.culture);return+h===+b._value?(i=c.toString(h,d.format,d.culture),i!==a&&b.element.val(null===h?a:i),h):(null!==h&&M(h,e)?h=L(h,e,g):K(h,e,g)||(h=null),b._value=h,b.dateView.value(h),b.element.val(h?c.toString(h,d.format,d.culture):a),b._updateARIA(h),h)},_wrapper:function(){var d,b=this,c=b.element;d=c.parents(".k-datepicker"),d[0]||(d=c.wrap(k).parent().addClass("k-picker-wrap k-state-default"),d=d.wrap(k).parent()),d[0].style.cssText=c[0].style.cssText,c.css({width:"100%",height:c[0].style.height}),b.wrapper=d.addClass("k-widget k-datepicker k-header").addClass(c[0].className),b._inputWrapper=a(d[0].firstChild)},_reset:function(){var a=this,b=a.element,c=b.closest("form");c[0]&&(a._resetHandler=function(){a.value(b[0].defaultValue)},a._form=c.on("reset",a._resetHandler))},_template:function(){this._ariaTemplate=h(this.options.ARIATemplate)},_updateARIA:function(a){this.element.attr("aria-label",this._ariaTemplate({current:a}))}}),d.plugin(T)}(window.kendo.jQuery),function(a,b){function y(a,b,c){return c?b.substring(0,a).split(c).length-1:0}function z(a,b,c){return b.split(c)[y(a,b,c)]}function A(a,b,c,d){var e=b.split(d);return e.splice(y(a,b,d),1,c),d&&""!==e[e.length-1]&&e.push(""),e.join(d)}function B(a){var b=a.value.length;w(a,b,b)}var c=window.kendo,d=c.support,e=c._activeElement,f=d.placeholder,g=c.ui,h=c.keys,i=c.data.DataSource,j=g.List,k="aria-disabled",l="aria-readonly",m="k-state-default",n="disabled",o="readonly",p="k-state-focused",q="k-state-selected",r="k-state-disabled",s="k-state-hover",t=".kendoAutoComplete",u="mouseenter"+t+" mouseleave"+t,v=j.caret,w=j.selectText,x=a.proxy,C=j.extend({init:function(b,d){var g,e=this;e.ns=t,d=a.isArray(d)?{dataSource:d}:d,j.fn.init.call(e,b,d),b=e.element,d=e.options,d.placeholder=d.placeholder||b.attr("placeholder"),f&&b.attr("placeholder",d.placeholder),e._wrapper(),e._loader(),e._accessors(),e._dataSource(),e._ignoreCase(),b[0].type="text",g=e.wrapper,e._popup(),b.addClass("k-input").on("keydown"+t,x(e._keydown,e)).on("paste"+t,x(e._search,e)).on("focus"+t,function(){e._prev=e._accessor(),g.addClass(p)}).on("blur"+t,function(){e._change(),g.removeClass(p)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),a.support.input&&b.on("input.autocomplete"+t,function(){e._search()}),!f&&d.placeholder&&a(function(){b.placeholderEle=a('<span class="k-placeholder">'+d.placeholder+"</span>").insertAfter(b),b.placeholderEle.on("focus",function(){b.focus()}),""===b[0].value&&b.placeholderEle.show(),b.on("change",function(){""!==b[0].value?b.placeholderEle.hide():b.placeholderEle.show()})}),e._enable(),e._old=e._accessor(),b[0].id&&b.attr("aria-owns",e.ul[0].id),e._aria(),c.notify(e)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{}},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=x(a.refresh,a),a._progressHandler=x(a._showBusy,a)),a.dataSource=i.create(a.options.dataSource).bind("change",a._refreshHandler).bind("progress",a._progressHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(a){j.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},_editable:function(a){var b=this,c=b.element,d=b.wrapper.off(t),e=a.readonly,f=a.disable;e||f?(d.addClass(f?r:m).removeClass(f?m:r),c.attr(n,f).attr(o,e).attr(k,f).attr(l,e)):(d.addClass(m).removeClass(r).on(u,b._toggleHover),c.removeAttr(n).removeAttr(o).attr(k,!1).attr(l,!1))},close:function(){var a=this,b=a._current;b&&b.removeClass(q),a.current(null),a.popup.close()},destroy:function(){var a=this;a.element.off(t),a.wrapper.off(t),j.fn.destroy.call(a)},refresh:function(){var k,d=this,f=d.ul[0],g=d.popup,h=d.options,i=d._data(),j=i.length;d.trigger("dataBinding"),f.innerHTML=c.render(d.template,i),d._height(j),g.visible()&&g._position(),j&&(h.highlightFirst&&d.current(a(f.firstChild)),h.suggest&&d.suggest(a(f.firstChild))),d._open&&(d._open=!1,k=j?"open":"close",d._typing&&d.element[0]!==e()&&(k="close"),g[k](),d._typing=b),d._touchScroller&&d._touchScroller.reset(),d._makeUnselectable(),d._hideBusy(),d.trigger("dataBound")},select:function(a){this._select(a)},search:function(a){var f,g,b=this,c=b.options,d=c.ignoreCase,e=c.separator;a=a||b._accessor(),b._current=null,clearTimeout(b._typing),e&&(a=z(v(b.element[0]),a,e)),f=a.length,f?f>=b.options.minLength&&(b._open=!0,"string"==typeof c.filter&&b._filterSource({value:d?a.toLowerCase():a,operator:c.filter,field:c.dataTextField,ignoreCase:d}),jQuery.isFunction(c.filter)&&(g=c.filter(a,b),b.dataSource.filter(g))):b.popup.close()},suggest:function(a){var n,c=this,d=c._last,e=c._accessor(),f=c.element[0],g=v(f),i=c.options.separator,k=e.split(i),l=y(g,e,i),m=g;return d==h.BACKSPACE||d==h.DELETE?(c._last=b,void 0):(a=a||"","string"!=typeof a&&(n=j.inArray(a[0],c.ul[0]),a=n>-1?c._text(c._data()[n]):""),0>=g&&(g=e.toLowerCase().indexOf(a.toLowerCase())+1),n=e.substring(0,g).lastIndexOf(i),n=n>-1?g-(n+i.length):g,e=k[l].substring(0,n),a&&(n=a.toLowerCase().indexOf(e.toLowerCase()),n>-1&&(a=a.substring(n+e.length),m=g+a.length,e+=a),i&&""!==k[k.length-1]&&k.push("")),k[l]=e,c._accessor(k.join(i||"")),w(f,g,m),void 0)},value:function(a){return a===b?this._accessor():(this._accessor(a),this._old=a,void 0)},_accessor:function(a){var c=this,d=c.element[0];return a===b?(a=d.value,d.className.indexOf("k-readonly")>-1?a===c.options.placeholder?"":a:a):(d.value=null===a?"":a,c._placeholder(),void 0)},_accept:function(a){var b=this;b._focus(a),B(b.element[0])},_keydown:function(b){var c=this,d=c.ul[0],e=b.keyCode,g=c._current,i=c.popup.visible();c._last=e,!f&&c.options.placeholder&&setTimeout(function(){var a=b.target.value;""===a?c.element.placeholderEle.show():c.element.placeholderEle.hide()},0),e===h.DOWN?(i&&c._move(g?g.next():a(d.firstChild)),b.preventDefault()):e===h.UP?(i&&c._move(g?g.prev():a(d.lastChild)),b.preventDefault()):e===h.ENTER||e===h.TAB?(e===h.ENTER&&c.popup.visible()&&b.preventDefault(),c._accept(g)):e===h.ESC?(c.popup.visible()&&b.preventDefault(),c.close()):c._search()},_move:function(a){var b=this;a=a[0]?a:null,b.current(a),b.options.suggest&&b.suggest(a)},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._loading.hide(),a.element.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.element.attr("aria-busy",!0),a._loading.show()},100))},_placeholder:function(a){if(!f){var g,c=this,d=c.element,e=c.options.placeholder;if(e){if(g=d.val(),a===b&&(a=!g),a||(e=g!==e?g:""),g===c._old&&!a)return;d.toggleClass("k-readonly",a).val(e)}}},_search:function(){var a=this;clearTimeout(a._typing),a._typing=setTimeout(function(){a._prev!==a._accessor()&&(a._prev=a._accessor(),a.search())},a.options.delay)},_select:function(b){var f,g,c=this,d=c.options.separator,e=c._data();b=a(b),b[0]&&!b.hasClass(q)&&(g=j.inArray(b[0],c.ul[0]),g>-1&&(e=e[g],c.selectedDataItem=e,f=c._text(e),d&&(f=A(v(c.element[0]),c._accessor(),f,d)),c._accessor(f),c.current(b.addClass(q))))},_loader:function(){this._loading=a('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(b){a(b.currentTarget).toggleClass(s,"mouseenter"===b.type)},_wrapper:function(){var d,a=this,b=a.element,c=b[0];d=b.parent(),d.is("span.k-widget")||(d=b.wrap("<span />").parent()),d.attr("tabindex",-1),d.attr("role","presentation"),d.is("span.k-widget")||(d[0].style.cssText=c.style.cssText,b.css({width:"100%",height:c.style.height}),d.addClass(c.className)),a._focused=a.element,a.wrapper=d.addClass("k-widget k-autocomplete k-header")}});g.plugin(C)}(window.kendo.jQuery),function(a,b){function v(a,b,c){for(var f,d=0,e=b.length-1;e>d;++d)f=b[d],f in a||(a[f]={}),a=a[f];a[b[e]]=c}var c=window.kendo,d=c.ui,e=d.Select,f=c.support.mobileOS,g=".kendoDropDownList",h="disabled",i="readonly",j="change",k="select",l="k-state-focused",m="k-state-default",n="k-state-disabled",o="aria-disabled",p="aria-readonly",q="k-state-selected",r="mouseenter"+g+" mouseleave"+g,s="tabindex",t=a.proxy,u=e.extend({init:function(d,f){var j,l,m,h=this,i=f&&f.index;h.ns=g,f=a.isArray(f)?{dataSource:f}:f,e.fn.init.call(h,d,f),h._focusHandler=function(){h.wrapper.focus()},f=h.options,d=h.element.on("focus"+g,h._focusHandler),h._reset(),h._word="",h._wrapper(),h._tabindex(),h.wrapper.data(s,h.wrapper.attr(s)),h._aria(),h._span(),h._popup(),h._mobile(),h._accessors(),h._dataSource(),h._ignoreCase(),h._enable(),h._cascade(),h._oldIndex=h.selectedIndex=-1,i!==b&&(f.index=i),f.autoBind?h.dataSource.fetch():(m=f.text||"",m||(j=h._optionLabelText(f.optionLabel),l=j&&0===f.index,d.is(k)?m=l?j:d.children(":selected").text():!d[0].value&&l&&(m=j)),h.text(m)),c.notify(h)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:!0,animation:{}},events:["open","close",j,"select","dataBinding","dataBound","cascade"],setOptions:function(a){e.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},destroy:function(){var a=this;a.wrapper.off(g),a.element.off(g),a._inputWrapper.off(g),e.fn.destroy.call(a)},open:function(){var a=this;a.ul[0].firstChild?(a.popup.open(),a._scroll(a._current)):(a._open=!0,a._request||a.dataSource.fetch())},toggle:function(a){this._toggle(a)},refresh:function(){var a=this,b=a._data(),d=b.length,e=a.options.optionLabel;a.trigger("dataBinding"),a._current&&a.current(null),a.ul[0].innerHTML=c.render(a.template,b),a._height(d),a.popup.visible()&&a.popup._position(),a.element.is(k)&&(e&&d&&(e=a._optionLabelText(e),e='<option value="">'+e+"</option>"),a._options(b,e)),a._open&&(a._open=!1,a.toggle(!!d)),a._hideBusy(),a._makeUnselectable(),!a._fetch&&d&&a._selectItem(),a._bound=!0,a.trigger("dataBound")},search:function(a){if(a){var c=this,d=c.options.ignoreCase;d&&(a=a.toLowerCase()),c._select(function(e){var f=c._text(e);return f!==b?(f+="",d&&(f=f.toLowerCase()),0===f.indexOf(a)):void 0})}},text:function(a){var c=this.span;return a===b?c.text():(c.text(a),void 0)},value:function(a){var d,e,c=this;return a===b?c._accessor():(null!==a&&(a=a.toString()),c._selectedValue=a,e=a||c.options.optionLabel&&!c.element[0].disabled&&""===a,e&&c._fetchItems(a)||(d=c._index(a),c.select(d>-1?d:0)),void 0)},_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly,f=b.wrapper.off(g),j=b._inputWrapper.off(r);e||d?(d?(f.removeAttr(s),j.addClass(n).removeClass(m)):j.addClass(m).removeClass(n),c.attr(h,d).attr(i,e),f.attr(o,d).attr(p,e)):(c.removeAttr(h).removeAttr(i),j.addClass(m).removeClass(n).on(r,b._toggleHover),f.attr(s,f.data(s)).attr(o,!1).attr(p,!1).on("click"+g,function(a){b._blured=!1,a.preventDefault(),b.toggle()}).on("keydown"+g,t(b._keydown,b)).on("keypress"+g,t(b._keypress,b)).on("focusin"+g,function(){j.addClass(l),b._blured=!1}).on("focusout"+g,function(){b._blured||(b._triggerCascade(),b._blur(),j.removeClass(l),b._blured=!0,c.blur())}))},_accept:function(a){this._focus(a)},_optionLabelText:function(){var a=this.options,b=a.dataTextField,c=a.optionLabel;return c&&b&&"object"==typeof c?this._text(c):c},_data:function(){var a=this,b=a.options,d=b.optionLabel,e=b.dataTextField,f=b.dataValueField,g=a.dataSource.view(),h=g.length,i=d,j=0;if(d&&h){for("object"==typeof d?i=d:e&&(i={},e=e.split("."),f=f.split("."),v(i,f,""),v(i,e,d)),i=new c.data.ObservableArray([i]);h>j;j++)i.push(g[j]);g=i}return g},_keydown:function(a){var b=this,d=a.keyCode,e=c.keys,f=b.ul[0];d===e.LEFT?d=e.UP:d===e.RIGHT&&(d=e.DOWN),a.keyCode=d,b._move(a),d===e.HOME?(a.preventDefault(),b._select(f.firstChild)):d===e.END&&(a.preventDefault(),b._select(f.lastChild))},_selectNext:function(a,b){for(var g,c=this,d=c.options.ignoreCase,e=c._data(),f=e.length;f>b;b++)if(g=c._text(e[b]),g&&(g+="",d&&(g=g.toLowerCase()),0===g.indexOf(a)))return c._select(b),c._triggerEvents(),!0;return!1},_keypress:function(a){var b=this;setTimeout(function(){var c=String.fromCharCode(a.keyCode||a.charCode),d=b.selectedIndex;if(b.options.ignoreCase&&(c=c.toLowerCase()),c===b._last&&d>-1){if(b._word=c,b._selectNext(c,d+1))return}else b._word+=c;b._last=c,b._search()})},_popup:function(){e.fn._popup.call(this),this.popup.one("open",function(){this.wrapper=c.wrap(this.element).addClass("km-popup")})},_search:function(){var a=this,b=a.dataSource,c=a._word;return clearTimeout(a._typing),a._typing=setTimeout(function(){a._word=""},a.options.delay),a.ul[0].firstChild?(a.search(c),a._triggerEvents(),void 0):(b.one(j,function(){b.data()[0]&&a.search(c)}).fetch(),void 0)},_select:function(a){var g,h,i,c=this,e=c._current,f=c._data();a=c._get(a),a&&a[0]&&!a.hasClass(q)&&(e&&e.removeClass(q),i=d.List.inArray(a[0],c.ul[0]),i>-1&&(f=f[i],h=c._text(f),g=c._value(f),c.selectedIndex=i,c.text(h),c._accessor(g!==b?g:h,i),c._selectedValue=c._accessor(),c.current(a.addClass(q)),c._optionID&&c._current.attr("aria-selected",!0)))},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var a=this,b=a.popup,c=b.element.parents(".km-root").eq(0);c.length&&f&&(b.options.animation.open.effects=f.android||f.meego?"fadeIn":f.ios||f.wp?"slideIn:up":b.options.animation.open.effects)},_span:function(){var e,b=this,c=b.wrapper,d="span.k-input";e=c.find(d),e[0]||(c.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(b.element),e=c.find(d)),b.span=e,b._inputWrapper=a(c[0].firstChild),b._arrow=c.find(".k-icon").mousedown(function(a){a.preventDefault()})},_wrapper:function(){var d,a=this,b=a.element,c=b[0];d=b.parent(),d.is("span.k-widget")||(d=b.wrap("<span />").parent(),d[0].style.cssText=c.style.cssText),b.hide(),a._focused=a.wrapper=d.addClass("k-widget k-dropdown k-header").addClass(c.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var a=this,b=a.options.optionLabel;return a.dataSource.view()[0]&&b?(a.select(0),void 0):(a.text(b),a.element.val(""),a.selectedIndex=-1,void 0)}});d.plugin(u)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.List,f=d.Select,g=c.support,h=g.placeholder,i=c._activeElement,j=c.keys,k=".kendoComboBox",l="click"+k,m="mousedown"+k,n="disabled",o="readonly",p="change",q="k-state-default",r="k-state-focused",s="k-state-disabled",t="aria-disabled",u="aria-readonly",v="k-state-selected",w="filter",x="accept",y="rebind",z="mouseenter"+k+" mouseleave"+k,A=null,B=a.proxy,C=f.extend({init:function(b,d){var g,e=this;e.ns=k,d=a.isArray(d)?{dataSource:d}:d,f.fn.init.call(e,b,d),e._focusHandler=function(){e.input.focus()},d=e.options,b=e.element.on("focus"+k,e._focusHandler),d.placeholder=d.placeholder||b.attr("placeholder"),e._reset(),e._wrapper(),e._input(),e._tabindex(e.input),e._popup(),e._accessors(),e._dataSource(),e._ignoreCase(),e._enable(),e._cascade(),e._aria(),e._oldIndex=e.selectedIndex=-1,d.autoBind?e._filterSource():(g=d.text,!g&&e._isSelect&&(g=b.children(":selected").text()),g&&e.input.val(g)),g||e._placeholder(),c.notify(e)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,ignoreCase:!0,animation:{}},events:["open","close",p,"select","dataBinding","dataBound","cascade"],setOptions:function(a){f.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},current:function(a){var c=this,d=c._current;return a===b?d:(d&&d.removeClass(v),f.fn.current.call(c,a),void 0)},destroy:function(){var a=this;a.input.off(k),a.element.off(k),a._inputWrapper.off(k),f.fn.destroy.call(a)},_editable:function(b){var c=this,d=b.disable,e=b.readonly,f=c._inputWrapper.off(k),g=c.element.add(c.input.off(k)),h=c._arrow.parent().off(l+" "+m);e||d?(f.addClass(d?s:q).removeClass(d?q:s),g.attr(n,d).attr(o,e).attr(t,d).attr(u,e)):(f.addClass(q).removeClass(s).on(z,c._toggleHover),g.removeAttr(n).removeAttr(o).attr(t,!1).attr(u,!1),h.on(l,function(){c.toggle()}).on(m,function(a){a.preventDefault()}),c.input.on("keydown"+k,B(c._keydown,c)).on("focus"+k,function(){f.addClass(r),c._placeholder(!1)}).on("blur"+k,function(){f.removeClass(r),clearTimeout(c._typing),c.options.text!==c.input.val()&&c.text(c.text()),c._placeholder(),c._blur(),c.element.blur()}),a.support.input&&c.input.on("input.combobox"+k,function(){c._search()}))},open:function(){var a=this,b=a.dataSource.options.serverFiltering;a.popup.visible()||(!a.ul[0].firstChild||a._state===x&&!b?(a._open=!0,a._state=y,a._filterSource()):(a.popup.open(),a._scroll(a._current)))},refresh:function(){var k,l,m,d=this,e=d.ul[0],f=d.options,g=d._state,h=d._data(),j=h.length;d.trigger("dataBinding"),e.innerHTML=c.render(d.template,h),d._height(j),d.popup.visible()&&d.popup._position(),d._isSelect&&(g===y&&(d._state="",k=d.value()),m=d._option,d._option=b,d._options(h),m&&m[0].selected&&d._custom(m.val())),j&&(f.highlightFirst&&d.current(a(e.firstChild)),f.suggest&&d.input.val()&&d._request!==b&&d.suggest(a(e.firstChild))),g===w||d._fetch||d._selectItem(),d._open&&(d._open=!1,l=!!j,d._typing&&d.input[0]!==i()&&(l=!1),d.toggle(l),d._typing=b),d._touchScroller&&d._touchScroller.reset(),d._makeUnselectable(),d._hideBusy(),d._bound=!0,d.trigger("dataBound")},search:function(a){a="string"==typeof a?a:this.text();var b=this,c=a.length,d=b.options,e=d.ignoreCase,f=d.filter,g=d.dataTextField;clearTimeout(b._typing),c>=d.minLength&&(b._state=w,"none"===f?b._filter(a):(b._open=!0,b._filterSource({value:e?a.toLowerCase():a,field:g,operator:f,ignoreCase:e})))},suggest:function(a){var i,c=this,d=c.input[0],f=c.text(),g=e.caret(d),h=c._last;return h==j.BACKSPACE||h==j.DELETE?(c._last=b,void 0):(a=a||"","string"!=typeof a&&(i=e.inArray(a[0],c.ul[0]),a=i>-1?c._text(c.dataSource.view()[i]):""),0>=g&&(g=f.toLowerCase().indexOf(a.toLowerCase())+1),a?(i=a.toLowerCase().indexOf(f.toLowerCase()),i>-1&&(f+=a.substring(i+f.length))):f=f.substring(0,g),f.length===g&&a||(d.value=f,e.selectText(d,g,f.length)),void 0)},text:function(a){a=null===a?"":a;var h,c=this,d=c._text,e=c.input[0],f=c.options.ignoreCase,g=a;return a===b?e.value:(h=c.dataItem(),h&&d(h)===a?(c._triggerCascade(),void 0):(f&&(g=g.toLowerCase()),c._select(function(a){return a=d(a),f&&(a=(a+"").toLowerCase()),a===g}),c.selectedIndex<0&&(c._custom(a),e.value=a),c._triggerCascade(),void 0))},toggle:function(a){var b=this;b._toggle(a)},value:function(a){var d,c=this;return a===b?c._accessor():(null!==a&&(a=a.toString()),c._selectedValue=a,!c._open&&a&&c._fetchItems(a)||(d=c._index(a),d>-1?c.select(d):(c.current(A),c._custom(a),c.text(a),c._placeholder()),c._prev=c._old=c._accessor(),c._oldIndex=c.selectedIndex),void 0)},_accept:function(a){var b=this;a?b._focus(a):(b.text(b.text()),b._change())},_custom:function(b){var c=this,d=c.element,e=c._option;c._state===w&&(c._state=x),c._isSelect?(e||(e=c._option=a("<option/>"),d.append(e)),e.text(b),e[0].selected=!0):d.val(b),c._selectedValue=b},_filter:function(a){var c=this,d=c.options,e=c.dataSource,f=d.ignoreCase,g=function(d){var e=c._text(d);return e!==b?(e+="",""!==e&&""===a?!1:(f&&(e=e.toLowerCase()),0===e.indexOf(a))):void 0};return f&&(a=a.toLowerCase()),c.ul[0].firstChild?(-1!==c._highlight(g)&&(d.suggest&&c._current&&c.suggest(c._current),c.open()),c._hideBusy(),void 0):(e.one(p,function(){e.data()[0]&&c.search(a)}).fetch(),void 0)},_highlight:function(c){var f,d=this;return c===b||null===c?-1:(c=d._get(c),f=e.inArray(c[0],d.ul[0]),-1==f&&(c=d.options.highlightFirst&&!d.text()?a(d.ul[0].firstChild):A),d.current(c),f)},_input:function(){var i,b=this,c=b.element.removeClass("k-input")[0],d=c.accessKey,e=b.wrapper,f="input.k-input",g=c.name||"";g&&(g='name="'+g+'_input" '),i=e.find(f),i[0]||(e.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+g+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(b.element),i=e.find(f)),i[0].style.cssText=c.style.cssText,c.maxLength>-1&&(i[0].maxLength=c.maxLength),i.addClass(c.className).val(c.value).css({width:"100%",height:c.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),h&&i.attr("placeholder",b.options.placeholder),d&&(c.accessKey="",i[0].accessKey=d),b._focused=b.input=i,b._inputWrapper=a(e[0].firstChild),b._arrow=e.find(".k-icon").attr({role:"button",tabIndex:-1}),c.id&&b._arrow.attr("aria-controls",b.ul[0].id)},_keydown:function(a){var b=this,c=a.keyCode;b._last=c,clearTimeout(b._typing),c==j.TAB||b._move(a)||b._search()},_placeholder:function(a){if(!h){var f,c=this,d=c.input,e=c.options.placeholder;if(e){if(f=c.value(),a===b&&(a=!f),d.toggleClass("k-readonly",a),!a){if(f)return;e=""}d.val(e)}}},_search:function(){var a=this;a._typing=setTimeout(function(){var b=a.text();a._prev!==b&&(a._prev=b,a.search(b))},a.options.delay)},_select:function(a){var d,e,c=this,f=c._data(),g=c._highlight(a);c.selectedIndex=g,-1!==g&&(c._state===w&&(c._state=x),c._current.addClass(v),f=f[g],d=c._text(f),e=c._value(f),c._prev=c.input[0].value=d,c._accessor(e!==b?e:d,g),c._selectedValue=c._accessor(),c._placeholder(),c._optionID&&c._current.attr("aria-selected",!0))},_wrapper:function(){var a=this,b=a.element,c=b.parent();c.is("span.k-widget")||(c=b.hide().wrap("<span />").parent(),c[0].style.cssText=b[0].style.cssText),a.wrapper=c.addClass("k-widget k-combobox k-header").addClass(b[0].className).css("display","")},_clearSelection:function(a,b){var c=this,d=a._selectedValue||a.value(),e=d&&-1===a.selectedIndex;(b||!d||e)&&c.value("")}});d.plugin(C)}(window.kendo.jQuery),function(a,b){function M(a,b){var c;if(null===a&&null!==b||null!==a&&null===b)return!1;if(c=a.length,c!==b.length)return!1;for(;c--;)if(a[c]!==b[c])return!1;return!0}function N(a){var b=a.firstChild;return b&&"none"===b.style.display&&(b=P(b,s)),b}function O(a){var b=a.lastChild;return b&&"none"===b.style.display&&(b=P(b,t)),b}function P(a,b){return a=a[b],a&&"none"===a.style.display&&(a=P(a,b)),a}var c=window.kendo,d=c.ui,e=d.List,f=c.keys,g=c._activeElement,h=c.data.ObservableArray,i=a.proxy,j="id",k="li",l="accept",m="filter",n="open",o="close",p="change",q="progress",r="select",s="nextSibling",t="previousSibling",u=' style="display:none"',v="aria-disabled",w="aria-readonly",x="k-state-focused",y="k-loading-hidden",z="k-state-hover",A="k-state-disabled",B="disabled",C="readonly",D=".kendoMultiSelect",E="click"+D,F="keydown"+D,G="mouseenter"+D,H="mouseleave"+D,I=G+" "+H,J=/"/g,K=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],L=e.extend({init:function(a,b){var f,d=this;d.ns=D,e.fn.init.call(d,a,b),d._wrapper(),d._tagList(),d._input(),d._textContainer(),d._loader(),d._tabindex(d.input),b=d.options,a=d.element.attr("multiple","multiple").hide(),b.placeholder||(b.placeholder=a.data("placeholder")),f=a.attr(j),f&&(d._tagID=f+"_tag_active",f+="_taglist",d.tagList.attr(j,f)),d._aria(f),d._dataSource(),d._ignoreCase(),d._accessors(),d._popup(),d._values=[],d._dataItems=[],d._reset(),d._enable(),d._placeholder(),b.autoBind&&d.dataSource.fetch(),c.notify(d)},options:{name:"MultiSelect",enabled:!0,autoBind:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,animation:{}},events:[n,o,p,r,"dataBinding","dataBound"],setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(a){e.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria(this.tagList.attr(j))},current:function(a){return this.currentTag(null),e.fn.current.call(this,a)},currentTag:function(a){var c=this;return a===b?c._currentTag:(c._currentTag&&(c._currentTag.removeClass(x).removeAttr(j),c.input.removeAttr("aria-activedescendant")),a&&(a.addClass(x).attr(j,c._tagID),c.input.attr("aria-activedescendant",c._tagID)),c._currentTag=a,void 0)
},dataItems:function(){return this._dataItems},destroy:function(){var a=this,b=a.ns;a.wrapper.off(b),a.tagList.off(b),a.input.off(b),e.fn.destroy.call(a)},_editable:function(b){var c=this,d=b.disable,e=b.readonly,f=c.wrapper.off(D),h=c.tagList.off(D),j=c.element.add(c.input.off(D));e||d?(d?f.addClass(A):f.removeClass(A),j.attr(B,d).attr(C,e).attr(v,d).attr(w,e)):(f.removeClass(A).on(I,c._toggleHover).on("mousedown"+D,function(a){a.preventDefault(),-1==a.target.className.indexOf("k-delete")&&c.open(),c.input[0]!==g()&&c.input.focus()}),c.input.on(F,i(c._keydown,c)).on("paste"+D,i(c._search,c)).on("focus"+D,function(){c._placeholder(!1)}).on("blur"+D,function(){clearTimeout(c._typing),c._placeholder(),c.close(),c._state===m&&(c._state=l)}),j.removeAttr(B).removeAttr(C).attr(v,!1).attr(w,!1),h.on(G,k,function(){a(this).addClass(z)}).on(H,k,function(){a(this).removeClass(z)}).on(E,".k-delete",function(b){c._unselect(a(b.target).closest(k)),c._change(),c.close()}))},close:function(){this.popup.close(),this.current(null)},open:function(){var b=this;b.ul[0].firstChild&&b._state!==l?b._visibleItems&&b._allowSelection()&&(b.popup.open(),b.current(b.options.highlightFirst?a(N(b.ul[0])):null)):(b._state="",b._open=!0,b._filterSource())},toggle:function(a){this[a?n:o]()},refresh:function(){var d,b=this,c=null;b.trigger("dataBinding"),d=b._render(b.dataSource.view()),b._height(d),b._setInitialValues&&(b._setInitialValues=!1,b.value(b._initialValues)),b._open&&(b._open=!1,b.toggle(d)),b.popup.visible()&&(b.popup._position(),b.options.highlightFirst&&(c=a(N(b.ul[0])))),b.current(c),b._touchScroller&&b._touchScroller.reset(),b._makeUnselectable(),b._hideBusy(),b.trigger("dataBound")},search:function(a){var b=this,c=b.options,d=c.ignoreCase,e=c.filter,f=c.dataTextField;clearTimeout(b._typing),a="string"==typeof a?a:b.input.val(),a.length>=c.minLength&&(b._state=m,b._open=!0,b._filterSource({value:d?a.toLowerCase():a,field:f,operator:e,ignoreCase:d}))},value:function(c){var g,d=this,e=a(d.tagList[0].children),f=e.length,i=0;if(c===b)return d._values;if(!d._fetchItems(c)){for(;f>i;i++)d._unselect(e.eq(i));if(null!==c){for(c=a.isArray(c)||c instanceof h?c:[c],i=0,f=c.length;f>i;i++)g=d._index(c[i]),g>-1&&d._select(g);d._old=d._values.slice()}}},_dataSource:function(){var b=this,d=b.element,e=b.options,f=e.dataSource||{};f=a.isArray(f)?{data:f}:f,f.select=d,f.fields=[{field:e.dataTextField},{field:e.dataValueField}],b.dataSource&&b._refreshHandler?b._unbindDataSource():(b._refreshHandler=i(b.refresh,b),b._progressHandler=i(b._showBusy,b)),b.dataSource=c.data.DataSource.create(f).bind(p,b._refreshHandler).bind(q,b._progressHandler)},_fetchItems:function(a){var b=this;return b._fetch||b.ul[0].firstChild?void 0:(b.dataSource.one(p,function(){b.value(a),b._fetch=!1}),b._fetch=!0,b.dataSource.fetch(),!0)},_reset:function(){var a=this,b=a.element,c=b.closest("form");c[0]&&(a._resetHandler=function(){setTimeout(function(){a.value(a._initialValues)})},a._form=c.on("reset",a._resetHandler))},_initValue:function(){var a=this,b=a.options.value||a.element.val();null===b&&(b=[]),a._old=a._initialValues=b,a._setInitialValues=!!b[0]},_change:function(){var a=this,b=a.value();M(b,a._old)||(a._old=b.slice(),a.trigger(p),a.element.trigger(p))},_click:function(b){var c=this,d=a(b.currentTarget);if(!b.isDefaultPrevented()){if(c.trigger(r,{item:d}))return c.close(),void 0;c._select(d),c._change(),c.close()}},_item:function(a,b){return a=a[b](),a[0]&&!a.is(":visible")&&(a=this._item(a,b)),a},_keydown:function(b){var d=this,e=b.keyCode,g=d._currentTag,h=d._current,i=d.input.val(),j=c.support.isRtl(d.wrapper),k=d.popup.visible();if(e===f.DOWN){if(b.preventDefault(),!k)return d.open(),void 0;h=h?P(h[0],s):d.ul[0].firstChild,h&&d.current(a(h))}else e===f.UP?(k&&(h=h?P(h[0],t):d.ul[0].lastChild,d.current(a(h)),d._current[0]||d.close()),b.preventDefault()):e===f.LEFT&&!j||e===f.RIGHT&&j?i||(g=g?g.prev():a(d.tagList[0].lastChild),g[0]&&d.currentTag(g)):e===f.RIGHT&&!j||e===f.LEFT&&j?!i&&g&&(g=g.next(),d.currentTag(g[0]?g:null)):e===f.ENTER?k&&(h&&d._select(h),d._change(),d.close(),b.preventDefault()):e===f.ESC?(k?b.preventDefault():d.currentTag(null),d.close()):e===f.HOME?k?d.current(a(N(d.ul[0]))):i||(g=d.tagList[0].firstChild,g&&d.currentTag(a(g))):e===f.END?k?d.current(a(O(d.ul[0]))):i||(g=d.tagList[0].lastChild,g&&d.currentTag(a(g))):e!==f.DELETE&&e!==f.BACKSPACE||i?(clearTimeout(d._typing),d._search()):(e!==f.BACKSPACE||g||(g=a(d.tagList[0].lastChild)),g&&g[0]&&(d._unselect(g),d._change(),d.close()))},_hideBusy:function(){var a=this;clearTimeout(a._busy),a.input.attr("aria-busy",!1),a._loading.addClass(y),a._busy=null},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.input.attr("aria-busy",!0),a._loading.removeClass(y)},100))},_placeholder:function(a){var c=this,d=c.input;a===b?(a=!1,d[0]!==g()&&(a=!c._dataItems[0]),c.wrapper.removeClass(x)):c.wrapper.addClass(x),d.toggleClass("k-readonly",a).val(a?c.options.placeholder:""),c._scale()},_scale:function(){var d,a=this,b=a.wrapper.width(),c=a._span.text(a.input.val());b?d=c.width()+25:(c.appendTo(document.documentElement),b=d=c.width()+25,c.appendTo(this.wrapper)),a.input.width(d>b?b:d)},_option:function(a,d){var e="<option",f=this._text(a),g=this._value(a);return g!==b&&(g+="",-1!==g.indexOf('"')&&(g=g.replace(J,"&quot;")),e+=' value="'+g+'"'),d&&(e+=' selected="selected"'),e+=">",f!==b&&(e+=c.htmlEncode(f)),e+="</option>"},_render:function(a){for(var j,k,b=this,c=a.length,d=b.itemTemplate,e=b._dataItems.slice(0),f=0,g=0,h="",i="";c>g;g++)j=a[g],k=b._selected(e,j),i+=d(j,g,k),h+=b._option(j,k),k||(f+=1);if(c=e.length)for(g=0;c>g;g++)h+=b._option(e[g],!0);return b.ul[0].innerHTML=i,b.element.html(h),b._visibleItems=f,f},_selected:function(a,c){var j,d=this,e=d._text,f=d._value,g=f(c),h=a.length,i=!1,k=0;for(g===b&&(g=e(c));h>k;k++)if(c=a[k],j=f(c),j===b&&(j=e(c)),j!==b&&j===g){i=!0;break}return i&&a.splice(k,1),i},_search:function(){var a=this;a._typing=setTimeout(function(){var b=a.input.val();a._prev!==b&&(a._scale(),a._prev=b,a.search(b))},a.options.delay)},_allowSelection:function(){var a=this.options.maxSelectedItems;return null===a||a>this._values.length},_select:function(a){var d,e,b=this,c=b._values;b._allowSelection()&&(isNaN(a)?e=a.hide().data("idx"):(e=a,b.ul[0].children[e].style.display="none"),b.element[0].children[e].selected=!0,d=b.dataSource.view()[e],b.tagList.append(b.tagTemplate(d)),b._dataItems.push(d),c.push(b._dataValue(d)),b._visibleItems-=1,b.currentTag(null),b._placeholder(),b._height(b._visibleItems),b._state===m&&(b._state=l))},_unselect:function(b){var e,f,g,h,i,c=this,d=b.index();if(b.remove(),c.currentTag(null),c._values.splice(d,1),e=c._dataItems.splice(d,1)[0],f=c._dataValue(e),d=c._index(f),-1!==d)a(c.ul[0].children[d]).show(),c.element[0].children[d].selected=!1,c._visibleItems+=1,c._height(c._visibleItems);else for(d=c.dataSource.view().length,g=c.element[0].children,i=g.length;i>d;d++)if(h=g[d],h.value==f){h.selected=!1;break}c._placeholder()},_template:function(){var g,a=this,b=a.options,d=b.itemTemplate,e=b.tagTemplate,f=b.dataSource;a.element[0].length&&!f&&(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value"),g=c.template("#:"+c.expr(b.dataTextField,"data")+"#",{useWithBlock:!1}),d=d?c.template(d):g,e=e?c.template(e):g,a.itemTemplate=function(a,b,c){return'<li tabindex="-1" role="option" data-idx="'+b+'" unselectable="on" class="k-item"'+(c?u:"")+">"+d(a)+"</li>"},a.tagTemplate=function(a){return'<li class="k-button"><span>'+e(a)+'</span><span class="k-icon k-delete">delete</span></li>'}},_input:function(){var b=this,c=b.element[0].accessKey,d=b._innerWrapper.children("input.k-input");d[0]||(d=a('<input class="k-input" style="width: 25px" />').appendTo(b._innerWrapper)),b.element.removeAttr("accesskey"),b._focused=b.input=d.attr({accesskey:c,role:"listbox","aria-expanded":!1})},_tagList:function(){var b=this,c=b._innerWrapper.children("ul");c[0]||(c=a('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(b._innerWrapper)),b.tagList=c},_loader:function(){this._loading=a('<span class="k-icon k-loading '+y+'"></span>').insertAfter(this.input)},_textContainer:function(){var b=c.getComputedStyles(this.input[0],K);b.position="absolute",b.visibility="hidden",this._span=a("<span/>").css(b).appendTo(this.wrapper)},_wrapper:function(){var b=this,c=b.element,d=c.parent("span.k-multiselect");d[0]||(d=c.wrap('<div class="k-widget k-multiselect k-header" />').parent(),d[0].style.cssText=c[0].style.cssText,a('<div class="k-multiselect-wrap k-floatwrap" />').insertBefore(c)),b.wrapper=d.addClass(c[0].className).css("display",""),b._innerWrapper=a(d[0].firstChild)}});d.plugin(L)}(window.kendo.jQuery),function(a,b,c){function u(a,b,c){c=D(c),c&&!c.equals(a.color())&&("change"==b&&(a._value=c),c=1!=c.a?c.toCssRgba():c.toCss(),a.trigger(b,{value:c}))}function x(a,b,c){for(c||(c="0"),a=a.toString(16);b>a.length;)a="0"+a;return a}function y(a){return parseFloat((+a).toFixed(3))}function D(a,d){if(null==a||"transparent"==a)return null;if(a instanceof z)return a;var e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a);if(e)return new B(b(e[1],16),b(e[2],16),b(e[3],16),1);if(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a))return new B(b(e[1]+e[1],16),b(e[2]+e[2],16),b(e[3]+e[3],16),1);if(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(a))return new B(b(e[1],10),b(e[2],10),b(e[3],10),1);if(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(a))return new B(b(e[1],10),b(e[2],10),b(e[3],10),parseFloat(e[4]));if(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(a))return new A(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,1);if(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(a))return new A(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,parseFloat(e[4]));if(!d)throw new Error("Cannot parse color: "+a);return c}function E(a,b,c){var d,e;return a=Array.prototype.slice.call(a),d=a.length,e=a.indexOf(b),0>e?0>c?a[d-1]:a[0]:(e+=c,0>e?e+=d:e%=d,a[e])}function G(a){a.preventDefault()}function H(a,b){return function(){return a.apply(b,arguments)}}var d=window.kendo,e=d.Class,f=d.ui,g=f.Widget,h=d.keys,i="background-color",j="unselectable",k="k-state-selected",l="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",m="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",n={apply:"Apply",cancel:"Cancel"},o=".kendoColorTools",p="click"+o,q="keydown"+o,r=d.support.browser,s=r.msie&&r.version<9,t=g.extend({init:function(a,b){var d,c=this;g.fn.init.call(c,a,b),a=c.element,b=c.options,c._value=b.value=D(b.value),d=c._ariaId=b.ariaId,d&&a.attr("aria-labelledby",d),b._standalone&&(c._triggerSelect=c._triggerChange)},options:{value:null,_standalone:!0},events:["change","select","cancel"],color:function(a){return a!==c&&this._updateUI(this._value=D(a)),this._value},value:function(a){return a=this.color(a),a&&(a=this.options.opacity?a.toCssRgba():a.toCss()),a||null},enable:function(b){0===arguments.length&&(b=!0),b?a(".k-disabled-overlay",this.wrapper).remove():this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(b)},_select:function(a,b){var c=this._value;a=this.color(a),b||(a.equals(c)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(a){u(this,"select",a)},_triggerChange:function(a){u(this,"change",a)},destroy:function(){this.element&&this.element.off(o),this.wrapper&&this.wrapper.off(o).find("*").off(o),this.wrapper=null,g.fn.destroy.call(this)},_updateUI:a.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),v=t.extend({init:function(b,c){var e,g,h,f,d=this;if(t.fn.init.call(d,b,c),b=d.wrapper=d.element,c=d.options,e=c.palette,"websafe"==e?(e=m,c.columns=18):"basic"==e&&(e=l),"string"==typeof e&&(e=e.split(",")),a.isArray(e)&&(e=a.map(e,function(a){return D(a)})),b.addClass("k-widget k-colorpalette").append(a(d._template({colors:e,tileSize:c.tileSize,value:d._value,id:c.ariaId}))).on(p,".k-item",function(b){d._select(a(b.currentTarget).find("div").css(i))}).find("*").attr(j,"on").end().attr("tabIndex",0).on(q,H(d._keydown,d)),f=c.tileSize){if(/number|string/.test(typeof f))g=h=parseFloat(f);else{if("object"!=typeof f)throw new Error("Unsupported value for the 'tileSize' argument");g=parseFloat(f.width),h=parseFloat(f.height)}b.find(".k-item").css({width:g,height:h})}c.columns&&b.css("width",c.columns*(g||14))},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(a){a?this.wrapper.removeAttr("tabIndex"):this.wrapper.attr("tabIndex",0)},_keydown:function(b){var c,l,d=this,e=d.wrapper,f=e.find(".k-item"),g=f.filter("."+k).get(0),j=b.keyCode;if(j==h.LEFT?c=E(f,g,-1):j==h.RIGHT?c=E(f,g,1):j==h.DOWN?c=E(f,g,d.options.columns):j==h.UP?c=E(f,g,-d.options.columns):j==h.ENTER?(G(b),g&&this._select(a("div",g).css(i))):j==h.ESC&&this._cancel(),c){G(b),c=a(c),a(g).removeClass(k).removeAttr("aria-selected"),c.addClass(k).attr("aria-selected",!0);try{l=D(c.find("div").css(i)),d._triggerSelect(l)}catch(m){}}},_updateUI:function(b){var c=this,d=null;c.wrapper.find(".k-item."+k).removeClass(k).removeAttr("aria-selected"),c.wrapper.find(".k-item div").each(function(){var c=D(a(this).css(i));c&&c.equals(b)&&(d=this.parentNode)}),a(d).addClass(k).attr("aria-selected",!0)},_template:d.template('<ul class="k-palette k-reset"># for (var i = 0; i < colors.length; i++) { #<li #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i].equals(value) ? "'+k+'" : "" #" aria-label="#= colors[i].toCss() #">'+'<div style="background-color:#= colors[i].toCss() #"></div>'+"</li>"+"# } #"+"</ul>")}),w=t.extend({init:function(b,c){var d=this;t.fn.init.call(d,b,c),c=d.options,b=d.element,d.wrapper=b.addClass("k-widget k-flatcolorpicker").append(d._template(c)).find("*").attr(j,"on").end(),s&&d._applyIEFilter(),d._hueElements=a(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",b),d._selectedColor=a(".k-selected-color-display",b),d._colorAsText=a("input.k-color-value",b),d._sliders(),d._hsvArea(),d._updateUI(d._value||new A(1,0,0,1)),b.find("input.k-color-value").on(q,function(b){var c,e;if(b.keyCode==h.ENTER)try{c=D(this.value),e=d.color(),a(this).removeClass("k-state-error"),d._select(c,!c.equals(e))}catch(f){a(this).addClass("k-state-error")}}).end().on(p,".k-controls button.apply",function(){d._select(d._getHSV())}).on(p,".k-controls button.cancel",function(){d._updateUI(d.color()),d._cancel()})},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,t.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,messages:n},_applyIEFilter:function(){var a=this.element.find(".k-hue-slider .k-slider-track")[0],b=a.currentStyle.backgroundImage;b=b.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale')"},_sliders:function(){function c(b){a._updateUI(a._getHSV(b.value,null,null,null))}function d(b){a._updateUI(a._getHSV(null,null,null,b.value/100))}var a=this,b=a.element;a._hueSlider=b.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:c,change:c}).data("kendoSlider"),a._opacitySlider=b.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:d,change:d}).data("kendoSlider")},_hsvArea:function(){function f(b,c){var d=this.offset,e=b-d.left,f=c-d.top,g=this.width,h=this.height;e=0>e?0:e>g?g:e,f=0>f?0:f>h?h:f,a._svChange(e/g,1-f/h)}var a=this,b=a.element,c=b.find(".k-hsv-rectangle"),e=c.find(".k-draghandle").attr("tabIndex",0).on(q,H(a._keydown,a));a._hsvEvents=new d.UserEvents(c,{global:!0,press:function(a){this.offset=d.getOffset(c),this.width=c.width(),this.height=c.height(),e.focus(),f.call(this,a.x.location,a.y.location)},start:function(){c.addClass("k-dragging"),e.focus()},move:function(a){a.preventDefault(),f.call(this,a.x.location,a.y.location)},end:function(){c.removeClass("k-dragging")}}),a._hsvRect=c,a._hsvHandle=e},_onEnable:function(a){this._hueSlider.enable(a),this._opacitySlider&&this._opacitySlider.enable(a),this.wrapper.find("input").attr("disabled",!a);var b=this._hsvRect.find(".k-draghandle");a?b.attr("tabIndex",0):b.removeAttr("tabIndex")},_keydown:function(a){function c(c,d){var e=b._getHSV();e[c]+=d*(a.shiftKey?.01:.05),e[c]<0&&(e[c]=0),e[c]>1&&(e[c]=1),b._updateUI(e),G(a)}function d(c){var d=b._getHSV();d.h+=c*(a.shiftKey?1:5),d.h<0&&(d.h=0),d.h>359&&(d.h=359),b._updateUI(d),G(a)}var b=this;switch(a.keyCode){case h.LEFT:a.ctrlKey?d(-1):c("s",-1);break;case h.RIGHT:a.ctrlKey?d(1):c("s",1);break;case h.UP:c(a.ctrlKey&&b._opacitySlider?"a":"v",1);break;case h.DOWN:c(a.ctrlKey&&b._opacitySlider?"a":"v",-1);break;case h.ENTER:b._select(b._getHSV());break;case h.F2:b.wrapper.find("input.k-color-value").focus().select();break;case h.ESC:b._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(a,b,c,d){var e=this._hsvRect,f=e.width(),g=e.height(),h=this._hsvHandle.position();return null==a&&(a=this._hueSlider.value()),null==b&&(b=h.left/f),null==c&&(c=1-h.top/g),null==d&&(d=this._opacitySlider?this._opacitySlider.value()/100:1),new C(a,b,c,d)},_svChange:function(a,b){var c=this._getHSV(null,a,b,null);this._updateUI(c)},_updateUI:function(a){var b=this,c=b._hsvRect;a&&(b._selectedColor.css(i,a.toDisplay()),b._colorAsText.val(b._opacitySlider?a.toCssRgba():a.toCss()),b._triggerSelect(a),a=a.toHSV(),b._hsvHandle.css({left:a.s*c.width()+"px",top:(1-a.v)*c.height()+"px"}),b._hueElements.css(i,new C(a.h,1,1,1).toCss()),b._hueSlider.value(a.h),b._opacitySlider&&b._opacitySlider.value(100*a.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:d.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input spellcheck="false" class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),z=e.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var a=this.toBytes();return"rgba("+a.r+", "+a.g+", "+a.b+", "+y(this.a)+")"},toDisplay:function(){return s?this.toCss():this.toCssRgba()},equals:function(a){return a===this||null!==a&&this.toHex()==D(a).toHex()},diff:function(a){if(null==a)return 0/0;var b=this.toBytes();return a=a.toBytes(),Math.sqrt(Math.pow(.3*(b.r-a.r),2)+Math.pow(.59*(b.g-a.g),2)+Math.pow(.11*(b.b-a.b),2))},clone:function(){var a=this.toBytes();return a===this&&(a=new B(a.r,a.g,a.b,a.a)),a}}),A=z.extend({init:function(a,b,c,d){this.r=a,this.g=b,this.b=c,this.a=d},toHSV:function(){var d,e,g=this.r,h=this.g,i=this.b,a=Math.min(g,h,i),b=Math.max(g,h,i),f=b,c=b-a;return 0===c?new C(0,0,f,this.a):(0!==b?(e=c/b,d=g==b?(h-i)/c:h==b?2+(i-g)/c:4+(g-h)/c,d*=60,0>d&&(d+=360)):(e=0,d=-1),new C(d,e,f,this.a))},toBytes:function(){return new B(255*this.r,255*this.g,255*this.b,this.a)}}),B=A.extend({init:function(a,b,c,d){this.r=Math.round(a),this.g=Math.round(b),this.b=Math.round(c),this.a=d},toRGB:function(){return new A(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return x(this.r,2)+x(this.g,2)+x(this.b,2)},toBytes:function(){return this}}),C=z.extend({init:function(a,b,c,d){this.h=a,this.s=b,this.v=c,this.a=d},toRGB:function(){var d,e,f,g,h,i,j,k,a=this.h,b=this.s,c=this.v;if(0===b)e=f=g=c;else switch(a/=60,d=Math.floor(a),h=a-d,i=c*(1-b),j=c*(1-b*h),k=c*(1-b*(1-h)),d){case 0:e=c,f=k,g=i;break;case 1:e=j,f=c,g=i;break;case 2:e=i,f=c,g=k;break;case 3:e=i,f=j,g=c;break;case 4:e=k,f=i,g=c;break;default:e=c,f=i,g=j}return new A(e,f,g,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),F=g.extend({init:function(b,c){var e,f,h,d=this;g.fn.init.call(d,b,c),c=d.options,b=d.element,e=b.val()?D(b.val(),!0):D(c.value,!0),d._value=c.value=e,f=d.wrapper=a(d._template(c)),b.hide().after(f),b.is("input")&&b.appendTo(f),d.enable(!b.attr("disabled")),h=b.attr("accesskey"),h&&(b.attr("accesskey",null),f.attr("accesskey",h)),d.bind("activate",function(a){a.isDefaultPrevented()||d.toggle()}),d._updateUI(e)},destroy:function(){this.wrapper.add("*").off(o),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,g.fn.destroy.call(this)},enable:function(a){var b=this,c=b.wrapper,d=c.children(".k-picker-wrap"),e=d.find(".k-select");0===arguments.length&&(a=!0),b.element.attr("disabled",!a),c.attr("disabled",!a),e.off(o).on("mousedown"+o,G),a?c.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter"+o,function(){d.addClass("k-state-hover")}).on("mouseleave"+o,function(){d.removeClass("k-state-hover")}).on("focus"+o,function(){d.addClass("k-state-focused")}).on("blur"+o,function(){d.removeClass("k-state-focused")}).on(q,H(b._keydown,b)).on(p,".k-icon",H(b.toggle,b)).on(p,b.options.toolIcon?".k-tool-icon":".k-selected-color",function(){b.trigger("activate")}):c.addClass("k-state-disabled").removeAttr("tabIndex").add("*",c).off(o)},_template:d.template('<span class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:n,opacity:!1,buttons:!0,preview:!0},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:t.fn.color,value:t.fn.value,_select:t.fn._select,_triggerSelect:t.fn._triggerSelect,_isInputTypeColor:function(){var a=this.element[0];return/^input$/i.test(a.tagName)&&/^color$/i.test(a.type)},_updateUI:function(a){a&&(this._isInputTypeColor()||1==a.a?this.element.val(a.toCss()):this.element.val(a.toCssRgba())),this._triggerSelect(a),this.wrapper.find(".k-selected-color").css(i,a?a.toDisplay():"transparent")},_keydown:function(a){var b=a.keyCode;this._getPopup().visible()?(b==h.ESC?this._selector._cancel():this._selector._keydown(a),G(a)):(b==h.ENTER||b==h.DOWN)&&(this.open(),G(a))},_getPopup:function(){var d,e,f,b=this,c=b._popup;return c||(d=this.options,e=d.palette?v:w,d._standalone=!1,f=this._selector=new e(a("<div />").appendTo(document.body),d),b._popup=c=f.wrapper.kendoPopup({anchor:b.wrapper}).data("kendoPopup"),f.bind({select:function(a){b._updateUI(D(a.value))},change:function(){b._select(f.color()),b.close()},cancel:function(){b.close()}}),c.bind({close:function(a){if(b.trigger("close"))return a.preventDefault(),void 0;var c=f._selectOnHide();c?b._select(c):(b.wrapper.focus(),b._updateUI(b.color()))},open:function(a){b.trigger("open")&&a.preventDefault()},activate:function(){f._select(b.color(),!0),f.focus()}})),c}});f.plugin(v),f.plugin(w),f.plugin(F),d.parseColor=D,d.Color={fromBytes:function(a,b,c,d){return new B(a,b,c,null!=d?d:1)},fromRGB:function(a,b,c,d){return new A(a,b,c,null!=d?d:1)},fromHSV:function(a,b,c,d){return new C(a,b,c,null!=d?d:1)}}}(jQuery,parseInt),function(a,b){function u(b){return a.trim(b).replace(/&nbsp;/gi,"")}var c=window.kendo,d=c.ui,e=a.proxy,f=a.extend,g=a.grep,h=a.map,i=a.inArray,j="k-state-selected",k="asc",l="desc",m="change",n="init",o="kendoPopup",p="kendoFilterMenu",q="kendoMenu",r=".kendoColumnMenu",s=/(\[|\]|\$|\.|\:|\+)/g,t=d.Widget,v=t.extend({init:function(b,d){var g,f=this;t.fn.init.call(f,b,d),b=f.element,d=f.options,f.owner=d.owner,f.dataSource=d.dataSource,f.field=b.attr(c.attr("field")),g=b.find(".k-header-column-menu"),g[0]||(g=b.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),f.link=g.attr("tabindex",-1).on("click"+r,e(f._click,f)),f.wrapper=a('<div class="k-column-menu"/>')},_init:function(){var a=this,b=a.options;a.wrapper.html(c.template(w)({ns:c.ns,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns})),a.popup=a.wrapper[o]({anchor:a.link,open:e(a._open,a),activate:e(a._activate,a),close:a.options.closeCallback}).data(o),a._menu(),a._sort(),a._columns(),a._filter(),a.trigger(n,{field:a.field,container:a.wrapper})},events:[n],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns"},columns:!0,sortable:!0,filterable:!0},destroy:function(){var a=this;t.fn.destroy.call(a),a.filterMenu&&a.filterMenu.destroy(),a.dataSource.unbind("refresh",a._refreshHandler),a.options.columns&&(a.owner.unbind("columnShow",a._updateColumnsMenuHandler),a.owner.unbind("columnHide",a._updateColumnsMenuHandler)),a.menu&&(a.menu.element.off(r),a.menu.destroy()),a.wrapper.off(r),a.popup&&a.popup.destroy(),a.link.off(r)},close:function(){this.menu.close(),this.popup.close(),this.popup.element.off("keydown"+r)},_click:function(a){a.preventDefault(),a.stopPropagation(),this.popup||this._init(),this.popup.toggle()},_open:function(){var b=this;a(".k-column-menu").not(b.wrapper).each(function(){a(this).data(o).close()}),b.popup.element.on("keydown"+r,function(a){a.keyCode==c.keys.ESC&&b.close()})},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var a=this.owner.columns,b=g(a,function(a){var b=!0,c=u(a.title||"");return(a.menu===!1||!a.field&&!c.length)&&(b=!1),b});return h(b,function(b){return{field:b.field||b.title,title:b.title||b.field,hidden:b.hidden,index:i(b,a)}})},_menu:function(){this.menu=this.wrapper.children()[q]({orientation:"vertical",closeOnClick:!1}).data(q)},_sort:function(){var b=this;b.options.sortable&&(b.refresh(),b._refreshHandler=e(b.refresh,b),b.dataSource.bind(m,b._refreshHandler),b.menu.bind("select",function(c){var e,d=a(c.item);d.hasClass("k-sort-asc")?e=k:d.hasClass("k-sort-desc")&&(e=l),e&&(d.parent().find(".k-sort-"+(e==k?l:k)).removeClass(j),b._sortDataSource(d,e),b.close())}))},_sortDataSource:function(a,c){var g,h,d=this,e=d.options.sortable,f=d.dataSource,i=f.sort()||[];if(a.hasClass(j)&&e&&e.allowUnsort!==!1?(a.removeClass(j),c=b):a.addClass(j),e===!0||"single"===e.mode)i=[{field:d.field,dir:c}];else{for(g=0,h=i.length;h>g;g++)if(i[g].field===d.field){i.splice(g,1);break}i.push({field:d.field,dir:c})}f.sort(i)},_columns:function(){var b=this;b.options.columns&&(b._updateColumnsMenu(),b._updateColumnsMenuHandler=e(b._updateColumnsMenu,b),b.owner.bind(["columnHide","columnShow"],b._updateColumnsMenuHandler),b.menu.bind("select",function(d){var f,h,j,l,e=a(d.item),k=b.owner.columns;e.parent().closest("li.k-columns-item")[0]&&(f=e.find(":checkbox"),f.attr("disabled")||(l=f.attr(c.attr("field")),j=g(k,function(a){return a.field==l||a.title==l})[0],h=i(j,k),j.hidden===!0?b.owner.showColumn(h):b.owner.hideColumn(h)))}))},_updateColumnsMenu:function(){var a="["+c.attr("field")+"=",b=this._ownerColumns(),d=h(b,function(b){return a+'"'+b.field.replace(s,"\\$1")+'"]'}).join(","),e=g(b,function(a){return!a.hidden}),f=h(e,function(b){return a+'"'+b.field.replace(s,"\\$1")+'"]'}).join(",");this.wrapper.find(d).prop("checked",!1),this.wrapper.find(f).prop("checked",!0).prop("disabled",1==e.length)},_filter:function(){var a=this,b=a.options;b.filterable!==!1&&(a.filterMenu=a.wrapper.find(".k-filterable")[p](f(!0,{},{appendToElement:!0,dataSource:b.dataSource,values:b.values,field:a.field},b.filterable)).data(p))},refresh:function(){var c,e,f,a=this,b=a.options.dataSource.sort()||[],d=a.field;for(a.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(j),e=0,f=b.length;f>e;e++)c=b[e],d==c.field&&a.wrapper.find(".k-sort-"+c.dir).addClass(j)}}),w='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var col in columns) {#<li><input type="checkbox" data-#=ns#field="#=columns[col].field#" data-#=ns#index="#=columns[col].index#"/>#=columns[col].title#</li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>';d.plugin(v)}(window.kendo.jQuery),kendo_module({id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-paging",name:"Paging",description:"Suppot for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-sorting",name:"Sorting",description:"Support for grid sorting",depends:["sortable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]}]}),function(a,b){function ib(a){return new Array(a+1).join('<td class="k-group-cell">&nbsp;</td>')
}function jb(a){var b,c=" ";if(a){if(typeof a===$)return a;for(b in a)c+=b+'="'+a[b]+'"'}return c}function lb(b){var c=0;return a("> .k-grouping-header, > .k-grid-toolbar",b).each(function(){c+=this.offsetHeight}),c}function mb(b,c){a("th, th .k-grid-filter, th .k-link",b).add(document.body).css("cursor",c)}function nb(a){var b,c,d={},e={};if(!s(a))for(o(a)||(a=[a]),b=0,c=a.length;c>b;b++)d[a[b].aggregate]=0,e[a[b].field]=d;return e}function ob(a,b,c){var d=a.eq(b),e=a.eq(c);d[b>c?"insertBefore":"insertAfter"](e)}function pb(a,b,c){var d,e,f,g;for(c=o(c)?c:[c],d=0,e=c.length;e>d;d++)f=c[d],k(f)&&f.click&&(g=f.name||f.text,b.on(W+E,"a.k-grid-"+(g||"").replace(/\s/g,""),{commandName:g},q(f.click,a)))}function qb(a){return n(a,function(a){return!a.hidden})}function rb(a){a=a||{};var b=a.style;return b?(b=b.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),b===a.style&&(b=b.replace(/(.*)?/i,"display:none;$1"))):b="display:none",l({},a,{style:b})}function sb(a){a=a||{};var b=a.style;return b&&(a.style=b.replace(/(display\s*:\s*none\s*;?)*/gi,"")),a}function tb(b,d,e,f){var h,g=b.find(">colgroup"),i=c.support.browser,j=m(d,function(a){return h=a.width,h&&0!==parseInt(h,10)?c.format('<col style="width:{0}"/>',typeof h===$?h:h+"px"):"<col />"});(e||g.find(".k-hierarchy-col").length)&&j.splice(0,0,'<col class="k-hierarchy-col" />'),g.length&&g.remove(),g=a("<colgroup/>").append(a(new Array(f+1).join('<col class="k-group-col">')+j.join(""))),b.prepend(g),i.msie&&8==i.version&&(b.css("display","inline-table"),window.setTimeout(function(){b.css("display","")},1))}function ub(a){var c,d,e,b={};for(d=0,e=a.length;e>d;d++)c=a[d],b[c.value]=c.text;return b}function vb(a,b,d){var e=d&&d.length&&k(d[0])&&"value"in d[0],f=e?ub(d)[a]:a;return f=null!=f?f:"",b?c.format(b,f):f}function wb(a,b,c){for(var e,d=0,f=a[d];f;){if(e=c?!0:"none"!==f.style.display,e&&!eb.test(f.className)&&--b<0){f.style.display=c?"":"none";break}f=a[++d]}}function yb(a,b){var c,d,e;if(typeof a===$&&a===b)return a;if(k(a)&&a.name===b)return a;if(o(a))for(c=0,d=a.length;d>c;c++)if(e=a[c],typeof e===$&&e===b||e.name===b)return e;return null}function zb(b,d){var g,h,f,e=c.support.browser.msie;if(d===!0){if(b=a(b),f=e&&b.parent().is(".k-grid-content,.k-grid-header-wrap"),f&&(g=b.parent().scrollTop(),h=b.parent().scrollLeft()),e)try{b[0].setActive()}catch(i){b[0].focus()}else b[0].focus();f&&(b.parent().scrollTop(g),b.parent().scrollLeft(h))}else a(b).one("focusin",function(a){a.preventDefault()}).focus()}function Ab(b){var c=a(b.currentTarget),d=c.is("th"),e=c.closest("table")[0];(e===this.table[0]||e===this.thead.parent()[0])&&(this.current(c),(d||!a(b.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input"))&&setTimeout(function(){zb(e,!0)}),d&&b.preventDefault())}var c=window.kendo,d=c.ui,e=c.data.DataSource,f=d.Groupable,g=c.support.tbodyInnerHtml,h=c._activeElement,i=d.Widget,j=c.keys,k=a.isPlainObject,l=a.extend,m=a.map,n=a.grep,o=a.isArray,p=a.inArray,q=a.proxy,r=a.isFunction,s=a.isEmptyObject,t=Math,u="progress",v="error",w=":not(.k-group-cell):not(.k-hierarchy-cell):visible",x="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",y="tr:not(.k-footer-template):visible",z=":not(.k-group-cell):not(.k-hierarchy-cell):visible",A=y+":first>"+z+":first",B="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",C=B+":visible["+c.attr("field")+"]",D=B+"["+c.attr("field")+"]",E=".kendoGrid",F="edit",G="save",H="remove",I="detailInit",J="filterMenuInit",K="columnMenuInit",L="change",M="columnHide",N="columnShow",O="saveChanges",P="dataBound",Q="detailExpand",R="detailCollapse",S="k-state-focused",T="k-state-selected",U="columnResize",V="columnReorder",W="click",X="height",Y="tabIndex",Z="function",$="string",_="Are you sure you want to delete this record?",ab=/(\}|\#)/gi,bb=3,cb=/#/gi,db="[\\x20\\t\\r\\n\\f]",eb=new RegExp("(^|"+db+")"+"(k-group-cell|k-hierarchy-cell)"+"("+db+"|$)"),fb='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',gb=!1,hb=i.extend({init:function(a,b){var c=this;i.fn.init.call(c,a,b),c._refreshHandler=q(c.refresh,c),c.setDataSource(b.dataSource),c.wrap()},setDataSource:function(a){var b=this;b.dataSource&&b.dataSource.unbind(L,b._refreshHandler),b.dataSource=a,b.dataSource.bind(L,b._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:a.noop},destroy:function(){var a=this;i.fn.destroy.call(a),a.dataSource.unbind(L,a._refreshHandler),a.wrapper.add(a.verticalScrollbar).off(E),a.drag&&a.drag.destroy()},wrap:function(){var f,b=this,d=c.support.scrollbar()+1,e=b.element;e.css({width:"auto",overflow:"hidden"}).css(gb?"padding-left":"padding-right",d),b.content=e.children().first(),f=b.wrapper=b.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+E+" mousewheel"+E,q(b._wheelScroll,b)),c.support.kineticScrollNeeded&&(b.drag=new c.UserEvents(b.wrapper,{global:!0,move:function(a){b.verticalScrollbar.scrollTop(b.verticalScrollbar.scrollTop()-a.y.delta),f.scrollLeft(f.scrollLeft()-a.x.delta),a.preventDefault()}})),b.verticalScrollbar=a('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:d}).appendTo(e).bind("scroll"+E,q(b._scroll,b))},_wheelScroll:function(a){var g,c=this,d=c.verticalScrollbar.scrollTop(),e=a.originalEvent,f=e.wheelDeltaY;e.wheelDelta?(f===b||f)&&(g=e.wheelDelta):e.detail&&e.axis===e.VERTICAL_AXIS&&(g=10*-e.detail),g&&(a.preventDefault(),c.verticalScrollbar.scrollTop(d+-g))},_scroll:function(a){var b=this,c=a.currentTarget.scrollTop,d=b.dataSource,e=b.itemHeight,f=d.skip()||0,g=b._rangeStart||f,h=b.element.innerHeight(),i=!!(b._scrollbarTop&&b._scrollbarTop>c),j=t.max(t.floor(c/e),0),k=t.max(j+t.floor(h/e),0);b._scrollTop=c-g*e,b._scrollbarTop=c,b._fetch(j,k,i)||(b.wrapper[0].scrollTop=b._scrollTop)},_fetch:function(a,b,c){var d=this,e=d.dataSource,f=d.itemHeight,g=e.take(),h=d._rangeStart||e.skip()||0,i=t.floor(a/g)*g,j=!1,k=.33;return h>a?(j=!0,h=t.max(0,b-g),d._scrollTop=(a-h)*f,d._page(h,g)):b>=h+g&&!c?(j=!0,h=a,d._scrollTop=f,d._page(h,g)):d._fetching||(i+g-g*k>a&&a>g&&e.prefetch(i-g,g),b>i+g*k&&e.prefetch(i+g,g)),j},_page:function(a,b){var d=this,e=d.dataSource;clearTimeout(d._timeout),d._fetching=!0,d._rangeStart=a,e.inRange(a,b)?e.range(a,b):(c.ui.progress(d.wrapper.parent(),!0),d._timeout=setTimeout(function(){e.range(a,b)},100))},refresh:function(){var i,j,k,l,a=this,b="",d=25e4,e=a.dataSource,f=a._rangeStart,g=c.support.kineticScrollNeeded?0:c.support.scrollbar(),h=a.wrapper[0];for(c.ui.progress(a.wrapper.parent(),!1),clearTimeout(a._timeout),k=a.itemHeight=a.options.itemHeight()||0,l=h.scrollWidth>h.offsetWidth?g:0,i=e.total()*k+l,j=0;j<t.floor(i/d);j++)b+='<div style="width:1px;height:'+d+'px"></div>';i%d&&(b+='<div style="width:1px;height:'+i%d+'px"></div>'),a.verticalScrollbar.html(b),h.scrollTop=a._scrollTop,a.drag&&a.drag.cancel(),f&&!a._fetching&&(a._rangeStart=e.skip()),a._fetching=!1}}),kb={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},xb=i.extend({init:function(a,b){var d=this;b=o(b)?{dataSource:b}:b,i.fn.init.call(d,a,b),gb=c.support.isRtl(a),d._element(),d._aria(),d._columns(d.options.columns),d._dataSource(),d._tbody(),d._pageable(),d._thead(),d._groupable(),d._toolbar(),d._setContentHeight(),d._templates(),d._navigatable(),d._selectable(),d._details(),d._editable(),d._attachCustomCommandsEvent(),d.options.autoBind?d.dataSource.fetch():d._footer(),d.options.height>0&&d.wrapper.addClass("k-grid-scrollY"),c.notify(d)},events:[L,"dataBinding","cancel",P,Q,R,I,J,K,F,G,H,O,U,V,N,M],setDataSource:function(a){var b=this;b.options.dataSource=a,b._dataSource(),b._pageable(),b.options.groupable&&b._groupable(),b._thead(),b.virtualScrollable&&b.virtualScrollable.setDataSource(b.options.dataSource),b.options.autoBind&&a.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null},destroy:function(){var b,a=this;i.fn.destroy.call(a),a.pager&&a.pager.destroy(),a.groupable&&a.groupable.destroy(),a.virtualScrollable&&a.virtualScrollable.destroy(),a._destroyColumnAttachments(),a._destroyEditable(),a.dataSource.unbind(L,a._refreshHandler).unbind(u,a._progressHandler).unbind(v,a._errorHandler),b=a.element.add(a.wrapper).add(a.table).add(a.thead).add(a.wrapper.find(">.k-grid-toolbar")),a.content&&(b=b.add(a.content).add(a.content.find(">.k-virtual-scrollable-wrap"))),b.off(E),c.destroy(a.wrapper)},setOptions:function(a){var b=this;i.fn.setOptions.call(this,a),b._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var b=this;b.thead.find("th").each(function(){var b=a(this),c=b.data("kendoFilterMenu"),d=b.data("kendoSortable"),e=b.data("kendoColumnMenu");c&&c.destroy(),d&&d.destroy(),e&&e.destroy()})},_attachCustomCommandsEvent:function(){var c,d,e,a=this,b=a.columns||[];for(d=0,e=b.length;e>d;d++)c=b[d].command,c&&pb(a,a.wrapper,c)},_aria:function(){var a=this.element.attr("id")||"aria";a&&(this._cellId=a+"_active_cell")},_element:function(){var b=this,c=b.element;c.is("table")||(c=b.options.scrollable?b.element.find("> .k-grid-content > table"):b.element.children("table"),c.length||(c=a("<table />").appendTo(b.element))),b.table=c.attr("cellspacing",0).attr("role",b._hasDetails()?"treegrid":"grid"),b._wrapper()},_positionColumnResizeHandle:function(b){var g,d=this,e=d.options.scrollable,f=d.resizeHandle;d.thead.on("mousemove"+E,"th:not(.k-group-cell,.k-hierarchy-cell)",function(h){var m,n,o,p,i=a(this),j=h.clientX,k=a(window).scrollLeft(),l=i.offset().left+(gb?0:this.offsetWidth);j+k>l-bb&&l+bb>j+k?(f||(f=d.resizeHandle=a('<div class="k-resize-handle"/>'),b.append(f)),gb?(m=i.closest(".k-grid-header-wrap"),n=c.support.browser.msie?m.scrollLeft():0,o=c.support.browser.webkit?m[0].scrollWidth-m[0].offsetWidth-m.scrollLeft():0,p=c.support.browser.mozilla?m[0].scrollWidth-m[0].offsetWidth-(m[0].scrollWidth-m[0].offsetWidth-m.scrollLeft()):0,g=i.position().left-o+p-n):(g=this.offsetWidth,i.prevAll(":visible").each(function(){g+=this.offsetWidth})),f.css({top:e?0:lb(d.wrapper),left:g-bb,height:i.outerHeight(),width:3*bb}).data("th",i).show()):f?f.hide():mb(d.wrapper,"")})},_resizable:function(){var d,e,f,g,h,b=this,c=b.options;c.resizable&&(d=c.scrollable?b.wrapper.find(".k-grid-header-wrap:first"):b.wrapper,b._positionColumnResizeHandle(d),d.kendoResizable({handle:".k-resize-handle",hint:function(c){return a('<div class="k-grid-resize-indicator" />').css({height:c.data("th").outerHeight()+b.tbody.attr("clientHeight")})},start:function(d){var i=a(d.currentTarget).data("th"),j=a.inArray(i[0],i.parent().children(":visible")),k=b.tbody.parent(),l=b.footer||a();mb(b.wrapper,"col-resize"),h=c.scrollable?b.thead.parent().find("col:eq("+j+")").add(k.children("colgroup").find("col:eq("+j+")")).add(l.find("colgroup").find("col:eq("+j+")")):k.children("colgroup").find("col:eq("+j+")"),e=d.x.location,f=i.outerWidth(),g=b.tbody.outerWidth()},resize:function(d){var i=gb?-1:1,j=f+d.x.location*i-e*i,k=b.footer||a();j>10&&(h.css("width",j),c.scrollable&&(b._footerWidth=g+d.x.location*i-e*i,b.tbody.parent().add(b.thead.parent()).add(k.find("table")).css("width",b._footerWidth)))},resizeend:function(c){var g,d=a(c.currentTarget).data("th"),e=d.outerWidth();mb(b.wrapper,""),f!=e&&(g=b.columns[d.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(d)],g.width=e,b.trigger(U,{column:g,oldWidth:f,newWidth:e})),b.resizeHandle.hide()}}))},_draggable:function(){var b=this;b.options.reorderable&&(b._draggableInstance&&b._draggableInstance.destroy(),b._draggableInstance=b.wrapper.kendoDraggable({group:c.guid(),filter:b.content?">.k-grid-header "+B:">table>.k-grid-header "+B,hint:function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(c.attr("title"))||b.attr(c.attr("field"))||b.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var a=this;a.options.reorderable&&a.wrapper.kendoReorderable({draggable:a._draggableInstance,change:function(b){var c=p(a.columns[b.newIndex],a.columns),d=a.columns[b.oldIndex];a.trigger(V,{newIndex:c,oldIndex:p(d,a.columns),column:d}),a.reorderColumn(c,d)}})},reorderColumn:function(a,b){var g,h,i,c=this,d=p(b,c.columns),e=p(b,qb(c.columns)),f=p(c.columns[a],qb(c.columns)),j=c.footer||c.wrapper.find(".k-grid-footer");if(d!==a)for(c.columns.splice(d,1),c.columns.splice(a,0,b),c._templates(),ob(c.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),e,f),c.options.scrollable&&ob(c.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),e,f),ob(c.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),d,a),j&&j.length&&(ob(j.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),e,f),ob(j.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),d,a)),g=c.tbody.children(":not(.k-grouping-row,.k-detail-row)"),h=0,i=g.length;i>h;h+=1)ob(g.eq(h).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),d,a)},cellIndex:function(b){return a(b).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(b)},_modelForContainer:function(b){b=a(b),b.is("tr")||"popup"===this._editMode()||(b=b.closest("tr"));var d=b.attr(c.attr("uid"));return this.dataSource.getByUid(d)},_editable:function(){var f,b=this,c=b.selectable&&b.selectable.options.multiple,d=b.options.editable,e=function(){var c=h(),d=b._editContainer;!d||a.contains(d[0],c)||d[0]===c||a(c).closest(".k-animation-container").length||b.editable.end()&&b.closeCell()};d&&(f=b._editMode(),"incell"===f?d.update!==!1&&b.wrapper.on(W+E,"tr:not(.k-grouping-row) > td",function(d){var e=a(this);e.hasClass("k-hierarchy-cell")||e.hasClass("k-detail-cell")||e.hasClass("k-group-cell")||e.hasClass("k-edit-cell")||e.has("a.k-grid-delete").length||e.has("button.k-grid-delete").length||e.closest("tbody")[0]!==b.tbody[0]||a(d.target).is(":input")||(b.editable?b.editable.end()&&(c&&a(h()).blur(),b.closeCell(),b.editCell(e)):b.editCell(e))}).on("focusin"+E,function(){clearTimeout(b.timer),b.timer=null}).on("focusout"+E,function(){b.timer=setTimeout(e,1)}):d.update!==!1&&b.wrapper.on(W+E,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(c){c.preventDefault(),b.editRow(a(this).closest("tr"))}),d.destroy!==!1?b.wrapper.on(W+E,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(c){c.preventDefault(),c.stopPropagation(),b.removeRow(a(this).closest("tr"))}):b.wrapper.on(W+E,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(a){b._confirmation()||a.preventDefault()}))},editCell:function(a){var b=this,c=b.columns[b.cellIndex(a)],d=b._modelForContainer(a);!d||d.editable&&!d.editable(c.field)||c.command||!c.field||(b._attachModelChange(d),b._editContainer=a,b.editable=a.addClass("k-edit-cell").kendoEditable({fields:{field:c.field,format:c.format,editor:c.editor,values:c.values},model:d,change:function(c){b.trigger(G,{values:c.values,container:a,model:d})&&c.preventDefault()}}).data("kendoEditable"),a.parent().addClass("k-grid-edit-row"),b.trigger(F,{container:a,model:d}))},_destroyEditable:function(){var a=this,b=function(){a.editable&&(a._detachModelChange(),a.editable.destroy(),a.editable=null,a._editContainer=null)};a.editable&&("popup"===a._editMode()?a._editContainer.data("kendoWindow").bind("deactivate",b).close():b())},_attachModelChange:function(a){var b=this;b._modelChangeHandler=function(a){b._modelChange({field:a.field,model:this})},a.bind("change",b._modelChangeHandler)},_detachModelChange:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b);c&&c.unbind(L,a._modelChangeHandler)},closeCell:function(){var d,e,f,g,b=this;b._editContainer&&(d=b._editContainer.removeClass("k-edit-cell"),e=d.closest("tr").attr(c.attr("uid")),f=b.columns[b.cellIndex(d)],g=b.dataSource.getByUid(e),d.parent().removeClass("k-grid-edit-row"),b._destroyEditable(),b._displayCell(d,f,g),d.hasClass("k-dirty-cell")&&a('<span class="k-dirty"/>').prependTo(d))},_displayCell:function(a,b,d){var e=this,f={storage:{},count:0},g=l({},c.Template,e.options.templateSettings),h=c.template(e._cellTmpl(b,f),g);f.count>0&&(h=q(h,f.storage)),a.empty().html(h(d))},removeRow:function(b){var d,e,c=this;c._confirmation()&&(b=a(b).hide(),d=c._modelForContainer(b),d&&!c.trigger(H,{row:b,model:d})&&(e=c._editMode(),"incell"!==e&&c.cancelRow(),c.dataSource.remove(d),("inline"===e||"popup"===e)&&c.dataSource.sync()))},_editMode:function(){var a="incell",b=this.options.editable;return b!==!0&&(a="string"==typeof b?b:b.mode||a),a},editRow:function(b){var g,c=this,d=c._modelForContainer(b),e=c._editMode(),f=c.options.navigatable;c.cancelRow(),d&&(c._attachModelChange(d),"popup"===e?c._createPopupEditor(d):"inline"===e?c._createInlineEditor(b,d):"incell"===e&&a(b).children(w).each(function(){var b=a(this),e=c.columns[b.index()];return d=c._modelForContainer(b),d&&(!d.editable||d.editable(e.field))&&e.field?(c.editCell(b),!1):void 0}),g=c._editContainer,g.on(W+E,"a.k-grid-cancel",function(b){if(b.preventDefault(),b.stopPropagation(),!c.trigger("cancel",{container:g,model:d})){var e=c.items().index(a(c.current()).parent());c.cancelRow(),f&&(c.current(c.items().eq(e).children().filter(z).first()),zb(c.table,!0))}}),g.on(W+E,"a.k-grid-update",function(a){a.preventDefault(),a.stopPropagation(),c.saveRow()}))},_createPopupEditor:function(b){var f,g,i,j,m,n,o,p,r,w,x,d=this,e="<div "+c.attr("uid")+'="'+b.uid+'"><div class="k-edit-form-container">',h=[],s=d.options.editable,t=s.template,u=k(s)?s.window:{},v=l({},c.Template,d.options.templateSettings);if(t)for(typeof t===$&&(t=window.unescape(t)),e+=c.template(t,v)(b),i=0,j=d.columns.length;j>i;i++)f=d.columns[i],f.command&&(p=yb(f.command,"edit"),p&&(g=p));else for(i=0,j=d.columns.length;j>i;i++)f=d.columns[i],f.command?f.command&&(p=yb(f.command,"edit"),p&&(g=p)):(e+='<div class="k-edit-label"><label for="'+f.field+'">'+(f.title||f.field||"")+"</label></div>",b.editable&&!b.editable(f.field)||!f.field?(w={storage:{},count:0},m=c.template(d._cellTmpl(f,w),v),w.count>0&&(m=q(m,w.storage)),e+='<div class="k-edit-field">'+m(b)+"</div>"):(h.push({field:f.field,format:f.format,editor:f.editor,values:f.values}),e+="<div "+c.attr("container-for")+'="'+f.field+'" class="k-edit-field"></div>'));g&&k(g)&&(g.text&&k(g.text)&&(n=g.text.update,o=g.text.cancel),g.attr&&(r=g.attr)),e+=d._createButton({name:"update",text:n,attr:r})+d._createButton({name:"canceledit",text:o,attr:r}),e+="</div></div>",x=d._editContainer=a(e).appendTo(d.wrapper).eq(0).kendoWindow(l({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(c){if(c.userTriggered){if(d.trigger("cancel",{container:x,model:b}))return c.preventDefault(),void 0;var e=d.items().index(a(d.current()).parent());d.cancelRow(),d.options.navigatable&&(d.current(d.items().eq(e).children().filter(z).first()),zb(d.table,!0))}}},u)),d.editable=d._editContainer.kendoEditable({fields:h,model:b,clearContainer:!1}).data("kendoEditable"),x.data("kendoWindow").center().open(),d.trigger(F,{container:x,model:b})},_createInlineEditor:function(b,d){var f,g,h,e=this,i=[];b.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(g=a(this),f=e.columns[e.cellIndex(g)],f.command||!f.field||d.editable&&!d.editable(f.field)){if(f.command&&(h=yb(f.command,"edit"))){g.empty();var b,j,l;k(h)&&(h.text&&k(h.text)&&(b=h.text.update,j=h.text.cancel),h.attr&&(l=h.attr)),a(e._createButton({name:"update",text:b,attr:l})+e._createButton({name:"canceledit",text:j,attr:l})).appendTo(g)}}else i.push({field:f.field,format:f.format,editor:f.editor,values:f.values}),g.attr(c.attr("container-for"),f.field),g.empty()}),e._editContainer=b,e.editable=b.addClass("k-grid-edit-row").kendoEditable({fields:i,model:d,clearContainer:!1}).data("kendoEditable"),e.trigger(F,{container:b,model:d})},cancelRow:function(){var d,a=this,b=a._editContainer;b&&(d=a._modelForContainer(b),a.dataSource.cancelChanges(d),"popup"!==a._editMode()?a._displayRow(b):a._displayRow(a.items().filter("["+c.attr("uid")+"="+d.uid+"]")),a._destroyEditable())},saveRow:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b),d=a.editable;b&&d&&d.end()&&!a.trigger(G,{container:b,model:c})&&a.dataSource.sync()},_displayRow:function(b){var c=this,d=c._modelForContainer(b);d&&b.replaceWith(a((b.hasClass("k-alt")?c.altRowTemplate:c.rowTemplate)(d)))},_showMessage:function(a){return window.confirm(a)},_confirmation:function(){var a=this,b=a.options.editable,c=b===!0||typeof b===$?_:b.confirmation;return c!==!1&&null!=c?a._showMessage(c):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var a=this;(a.editable&&a.editable.end()||!a.editable)&&!a.trigger(O)&&a.dataSource.sync()},addRow:function(){var b,i,j,k,l,a=this,d=a.dataSource,e=a._editMode(),f=a.options.editable.createAt||"",g=d.pageSize(),h=d.view()||[];(a.editable&&a.editable.end()||!a.editable)&&("incell"!=e&&a.cancelRow(),b=d.indexOf(h[0]),"bottom"==f.toLowerCase()&&(b+=h.length,g&&!d.options.serverPaging&&g<=h.length&&(b-=1)),0>b&&(b=d.page()>d.totalPages()?(d.page()-1)*g:0),i=d.insert(b,{}),j=i.uid,k=a.table.find("tr["+c.attr("uid")+"="+j+"]"),l=k.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(a._firstEditableColumnIndex(k)),"inline"!==e&&"popup"!==e||!k.length?l.length&&a.editCell(l):a.editRow(k))},_firstEditableColumnIndex:function(a){var c,e,f,b=this,d=b.columns,g=b._modelForContainer(a);for(e=0,f=d.length;f>e;e++)if(c=d[e],g&&(!g.editable||g.editable(c.field))&&!c.command&&c.field)return e;return-1},_toolbar:function(){var g,b=this,d=b.wrapper,e=b.options.toolbar,f=b.options.editable;e&&(g=b.wrapper.find(".k-grid-toolbar"),g.length||(r(e)||(e=typeof e===$?e:b._toolbarTmpl(e).replace(cb,"\\#"),e=q(c.template(e),b)),g=a('<div class="k-toolbar k-grid-toolbar" />').html(e({})).prependTo(d)),f&&f.create!==!1&&g.on(W+E,".k-grid-add",function(a){a.preventDefault(),b.addRow()}).on(W+E,".k-grid-cancel-changes",function(a){a.preventDefault(),b.cancelChanges()}).on(W+E,".k-grid-save-changes",function(a){a.preventDefault(),b.saveChanges()}))},_toolbarTmpl:function(a){var c,d,b=this,e="";if(o(a))for(c=0,d=a.length;d>c;c++)e+=b._createButton(a[c]);return e},_createButton:function(a){var b=a.template||fb,d=typeof a===$?a:a.name||a.text,e={className:"k-grid-"+(d||"").replace(/\s/g,""),text:d,imageClass:"",attr:"",iconClass:""};if(!(d||k(a)&&a.template))throw new Error("Custom commands should have name specified");return k(a)?(a.className&&(a.className+=" "+e.className),"edit"===d&&k(a.text)&&(a=l(!0,{},a),a.text=a.text.edit),a.attr&&k(a.attr)&&(a.attr=jb(a.attr)),e=l(!0,e,kb[d],a)):e=l(!0,e,kb[d]),c.template(b)(e)},_groupable:function(){var b=this;b.table.on(W+E,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",function(c){var d=a(this),e=d.closest("tr");d.hasClass("k-i-collapse")?b.collapseGroup(e):b.expandGroup(e),c.preventDefault(),c.stopPropagation()}),b._attachGroupable()},_attachGroupable:function(){var b=this,c=b.wrapper,d=b.options.groupable;d&&(c.has("div.k-grouping-header")[0]||a("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(c),b.groupable&&b.groupable.destroy(),b.groupable=new f(c,l({},d,{draggable:b._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:b.dataSource,draggableElements:b.content?">.k-grid-header "+C:">table>.k-grid-header "+C,filter:b.content?">.k-grid-header "+D:">table>.k-grid-header "+D,allowDrag:b.options.reorderable})))},_selectable:function(){var b,d,a=this,e=a.options.selectable;e&&(b=typeof e===$&&e.toLowerCase().indexOf("multiple")>-1,d=typeof e===$&&e.toLowerCase().indexOf("cell")>-1,a.selectable=new c.ui.Selectable(a.table,{filter:">"+(d?x:"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),aria:!0,multiple:b,change:function(){a.trigger(L)}}),a.options.navigatable&&a.table.on("keydown"+E,function(c){var e=a.current();if(c.keyCode===j.SPACEBAR&&c.target==a.table[0]&&!e.is(".k-edit-cell,.k-header")&&e.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(c.preventDefault(),c.stopPropagation(),e=d?e:e.parent(),b)if(c.ctrlKey){if(e.hasClass(T))return e.removeClass(T),a.trigger(L),void 0}else a.selectable.clear();else a.selectable.clear();a.selectable.value(e)}}))},clearSelection:function(){var a=this;a.selectable.clear(),a.trigger(L)},select:function(b){var c=this,d=c.selectable;return b=a(b),b.length?(d.options.multiple||(d.clear(),b=b.first()),d.value(b),void 0):d.value()},current:function(c){var d=this,e=d.options.scrollable,f=d._current,g=d.table.add(d.thead.parent());return c!==b&&c.length&&(f&&f[0]===c[0]||(f&&(f.removeClass(S).removeAttr("id"),g.removeAttr("aria-activedescendant")),c.attr("id",d._cellId),d._current=c.addClass(S),g.attr("aria-activedescendant",d._cellId),c.length&&e&&(a.contains(d.content[0],c[0])&&d._scrollTo(c.parent()[0],d.content[0]),e.virtual?d._scrollTo(c[0],d.content.find(">.k-virtual-scrollable-wrap")[0]):d._scrollTo(c[0],d.content[0])))),d._current},_removeCurrent:function(){this._current&&(this._current.removeClass(S),this._current=null)},_scrollTo:function(a,b){var c=a.tagName.toLowerCase(),d="td"===c||"th"===c,e=a[d?"offsetLeft":"offsetTop"],f=a[d?"offsetWidth":"offsetHeight"],g=b[d?"scrollLeft":"scrollTop"],h=b[d?"clientWidth":"clientHeight"],i=e+f,j=0;j=g>e?e:i>g+h?h>=f?i-h:e:g,b[d?"scrollLeft":"scrollTop"]=j},_navigatable:function(){var b=this,d=q(b.current,b),e=b.table,f=b.thead.parent(),g=e,i=c.support.isRtl(b.element);b.options.navigatable&&(b.options.scrollable&&(g=e.add(f),f.attr(Y,-1)),f.on("keydown"+E,function(a){a.altKey&&a.keyCode==j.DOWN&&(d().find(".k-grid-filter, .k-header-column-menu").click(),a.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),e.attr(Y,t.max(e.attr(Y)||0,0)).on("mousedown"+E+" keydown"+E,".k-detail-cell",function(a){a.target!==a.currentTarget&&a.stopImmediatePropagation()}),g.on(c.support.touch?"touchstart"+E:"mousedown"+E,y+">"+z,q(Ab,b)).on("focus"+E,function(){var b=d();b&&b.is(":visible")?b.addClass(S):d(a(this).find(A)),this==e[0]?(f.attr(Y,-1),e.attr(Y,0)):(e.attr(Y,-1),f.attr(Y,0))}).on("focusout"+E,function(){var a=d();a&&a.removeClass(S)}).on("keydown"+E,function(f){var p,q,r,s,t,B,C,g=f.keyCode,k=!1,l=!f.isDefaultPrevented()&&!a(f.target).is(":button,a,:input,a>.k-icon"),m=b.options.pageable,n=b.dataSource,o="incell"==b._editMode(),u=f.shiftKey,v=c.support.browser,x=d();x&&x.is("th")&&(l=!0),l&&g==j.UP?(x?(r=x.parent().prevAll(y).first(),r[0]||(t=b.thead.parent(),zb(t,!0),r=t.find(y).first()),s=x.index(),x=r.children().eq(s),x[0]&&x.is(z)||(x=r.children(z).first())):x=e.find(A),k=!0,d(x)):l&&g==j.DOWN?(x?(r=x.parent().nextAll(y).first(),!r[0]&&x.is("th")&&(zb(b.tbody.parent()),r=b.tbody.find(y).first()),s=x.index(),x=r.children().eq(s),x[0]&&x.is(z)||(x=r.children(z).first())):x=e.find(A),k=!0,d(x)):l&&g==(i?j.RIGHT:j.LEFT)?(d(x?x.prevAll(w+":first"):e.find(A)),k=!0):l&&g==(i?j.LEFT:j.RIGHT)?(x?x.next()[0]&&(x=x.nextAll(w+":first")):x=e.find(A),k=!0,d(x)):l&&m&&j.PAGEDOWN==g?(n.page(n.page()+1),k=!0):l&&m&&j.PAGEUP==g?(n.page(n.page()-1),k=!0):g==j.ENTER||j.F2==g?(x=x?x:e.find(A),x.is("th")?(x.find(".k-link").click(),k=!0):x.parent().is(".k-master-row,.k-grouping-row")?(x.parent().find(".k-icon:first").click(),k=!0):(B=x.find(":focusable:first"),!x.hasClass("k-edit-cell")&&B[0]&&x.hasClass("k-state-focused")?(B.focus(),k=!0):b.options.editable&&!a(f.target).is(":button,.k-button")&&(b._handleEditing(x),k=!0))):j.ESC==g?(p=h(),x&&a.contains(x[0],p)&&!x.hasClass("k-edit-cell")&&!x.parent().hasClass("k-grid-edit-row")?(zb(b.table[0],!0),k=!0):!b._editContainer||x&&!b._editContainer.has(x[0])&&x[0]!==b._editContainer[0]||(o?b.closeCell():(q=b.items().index(a(x).parent()),p&&p.blur(),b.cancelRow(),q>=0&&b.current(b.items().eq(q).children().filter(z).first())),v.msie&&v.version<9&&document.body.focus(),zb(e,!0),k=!0)):j.TAB==g&&(x=a(x),b.options.editable&&o&&(C=a(h()).closest(".k-edit-cell"),C[0]&&C[0]!==x[0]&&(x=C)),C=u?x.prevAll(w+":first"):x.nextAll(":visible:first"),C.length||(C=x.parent()[u?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(w+(u?":last":":first"))),!x.is("th")&&C.length&&b.options.editable&&o&&(b._handleEditing(x,C),k=!0)),k&&(f.preventDefault(),f.stopPropagation())}))},_handleEditing:function(b,d){var j,k,e=this,f=a(h()),g=e._editMode(),i=e._editContainer;if(k="incell"==g?b.hasClass("k-edit-cell"):b.parent().hasClass("k-grid-edit-row"),e.editable){if(a.contains(i[0],f[0])&&(f.blur(),c.support.browser.opera&&f.change()),!e.editable)return zb(e.table),void 0;if(!e.editable.end())return"incell"==g?e.current(i):e.current(i.children().filter(w).first()),j=i.find(":focusable:first")[0],j&&j.focus(),void 0;"incell"==g?e.closeCell():(e.saveRow(),k=!0)}d&&e.current(d),zb(e.table,!0),(!k&&!d||d)&&("incell"==g?e.editCell(e.current()):e.editRow(e.current().parent()))},_wrapper:function(){var a=this,b=a.table,c=a.options.height,d=a.element;d.is("div")||(d=d.wrap("<div/>").parent()),a.wrapper=d.addClass("k-grid k-widget"),c&&(a.wrapper.css(X,c),b.css(X,"auto"))},_tbody:function(){var d,b=this,c=b.table;d=c.find(">tbody"),d.length||(d=a("<tbody/>").appendTo(c)),b.tbody=d},_scrollable:function(){var d,e,j,k,l,b=this,f=b.options,g=f.scrollable,h=g!==!0&&g.virtual&&!b.virtualScrollable,i=!c.support.kineticScrollNeeded||h?c.support.scrollbar():0;g&&(d=b.wrapper.children(".k-grid-header"),d[0]||(d=a('<div class="k-grid-header" />').insertBefore(b.table)),e=a('<table role="grid" cellspacing="0" />'),e.append(b.thead),d.empty().append(a('<div class="k-grid-header-wrap" />').append(e)),b.content=b.table.parent(),b.content.is(".k-virtual-scrollable-wrap")&&(b.content=b.content.parent()),b.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(b.content=b.table.wrap('<div class="k-grid-content" />').parent()),h&&(b.virtualScrollable=new hb(b.content,{dataSource:b.dataSource,itemHeight:q(b._averageRowHeight,b)})),b.scrollables=d.children(".k-grid-header-wrap"),j=b.wrapper.find(".k-grid-footer"),k=gb&&c.support.browser.webkit?i:0,j.length&&(b.scrollables=b.scrollables.add(j.children(".k-grid-footer-wrap"))),g.virtual?b.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+E,function(){b.scrollables.scrollLeft(this.scrollLeft+k)}):(b.content.bind("scroll"+E,function(){b.scrollables.scrollLeft(this.scrollLeft+k)}),l=c.touchScroller(b.content),l&&l.movable&&l.movable.bind("change",function(a){b.scrollables.scrollLeft(-a.sender.x)})))},_setContentHeight:function(){var g,a=this,b=a.options,d=a.wrapper.innerHeight(),e=a.wrapper.children(".k-grid-header"),f=c.support.scrollbar();b.scrollable&&(d-=e.outerHeight(),a.pager&&(d-=a.pager.element.outerHeight()),b.groupable&&(d-=a.wrapper.children(".k-grouping-header").outerHeight()),b.toolbar&&(d-=a.wrapper.children(".k-grid-toolbar").outerHeight()),a.footerTemplate&&(d-=a.wrapper.children(".k-grid-footer").outerHeight()),g=function(a){var b,c;
return a[0].style.height?!0:(b=a.height(),a.height("auto"),c=a.height(),b!=c?(a.height(""),!0):(a.height(""),!1))},g(a.wrapper)&&(d>2*f?a.content.height(d):a.content.height(2*f+1)))},_averageRowHeight:function(){var c,a=this,b=a._rowHeight;return a._rowHeight||(a._rowHeight=b=a.table.outerHeight()/a.items().length,a._sum=b,a._measures=1),c=a.table.outerHeight()/a.items().length,b!==c&&(a._measures++,a._sum+=c,a._rowHeight=a._sum/a._measures),b},_dataSource:function(){var d,a=this,c=a.options,f=c.dataSource;f=o(f)?{data:f}:f,k(f)&&(l(f,{table:a.table,fields:a.columns}),d=c.pageable,k(d)&&d.pageSize!==b&&(f.pageSize=d.pageSize)),a.dataSource&&a._refreshHandler?a.dataSource.unbind(L,a._refreshHandler).unbind(u,a._progressHandler).unbind(v,a._errorHandler):(a._refreshHandler=q(a.refresh,a),a._progressHandler=q(a._requestStart,a),a._errorHandler=q(a._error,a)),a.dataSource=e.create(f).bind(L,a._refreshHandler).bind(u,a._progressHandler).bind(v,a._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(b){var h,i,k,m,e=this,f=b.model,g=e.tbody.find("tr["+c.attr("uid")+"="+f.uid+"]"),j=g.hasClass("k-alt"),l=e.items().index(g);if(g.children(".k-edit-cell").length&&!e.options.rowTemplate)g.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){h=a(this),i=e.columns[e.cellIndex(h)],i.field===b.field&&(h.hasClass("k-edit-cell")?h.addClass("k-dirty-cell"):(e._displayCell(h,i,f),a('<span class="k-dirty"/>').prependTo(h)))});else if(!g.hasClass("k-grid-edit-row")){for(k=(j?e.altRowTemplate:e.rowTemplate)(f),g.replaceWith(k),k=e.items().eq(l),l=0,m=e.columns.length;m>l;l++)i=e.columns[l],i.field===b.field&&(h=k.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(l),a('<span class="k-dirty"/>').prependTo(h));e.trigger("itemChange",{item:k,data:f,ns:d})}},_pageable:function(){var d,b=this,e=b.options.pageable;e&&(d=b.wrapper.children("div.k-grid-pager"),d.length||(d=a('<div class="k-pager-wrap k-grid-pager"/>').appendTo(b.wrapper)),b.pager&&b.pager.destroy(),b.pager="object"==typeof e&&e instanceof c.ui.Pager?e:new c.ui.Pager(d,l({},e,{dataSource:b.dataSource})))},_footer:function(){var g,i,b=this,c=b.dataSource.aggregates(),d="",e=b.footerTemplate,f=b.options,h=b.footer||b.wrapper.find(".k-grid-footer");e?(c=s(c)?nb(b.dataSource.aggregate()):c,d=a(b._wrapFooter(e(c))),h.length?(i=d,h.replaceWith(i),h=b.footer=i):h=b.footer=f.scrollable?f.pageable?d.insertBefore(b.wrapper.children("div.k-grid-pager")):d.appendTo(b.wrapper):d.insertBefore(b.tbody)):h&&!b.footer&&(b.footer=h),h.length&&(f.scrollable&&(g=h.attr("tabindex",-1).children(".k-grid-footer-wrap"),b.scrollables=b.scrollables.not(".k-grid-footer-wrap").add(g)),b._footerWidth&&h.find("table").css("width",b._footerWidth),g&&g.scrollLeft(b.content.scrollLeft()))},_wrapFooter:function(b){var d=this,e="",f=c.support.mobileOS?0:c.support.scrollbar();return d.options.scrollable?(e=a('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table cellspacing="0"><tbody>'+b+"</tbody></table></div></div>"),d._appendCols(e.find("table")),e.css(gb?"padding-left":"padding-right",f),e):'<tfoot class="k-grid-footer">'+b+"</tfoot>"},_columnMenu:function(){var d,f,i,j,k,o,b=this,e=b.columns,g=b.options,h=g.columnMenu,m=function(){zb(b.thead.parent(),!0)},n=function(a){b.trigger(K,{field:a.field,container:a.container})};h&&("boolean"==typeof h&&(h={}),b.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(p){f=e[p],o=a(this),f.command||!f.field&&!o.attr("data-"+c.ns+"field")||(d=o.data("kendoColumnMenu"),d&&d.destroy(),j=f.sortable!==!1&&h.sortable!==!1?g.sortable:!1,k=g.filterable&&f.filterable!==!1&&h.filterable!==!1?l({},f.filterable,g.filterable):!1,i={dataSource:b.dataSource,values:f.values,columns:h.columns,sortable:j,filterable:k,messages:h.messages,owner:b,closeCallback:m,init:n},o.kendoColumnMenu(i))}))},_filterable:function(){var e,f,b=this,d=b.columns,g=function(){zb(b.thead.parent(),!0)},h=b.options.filterable;h&&!b.options.columnMenu&&b.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){e=a(this),d[i].filterable===!1||d[i].command||!d[i].field&&!e.attr("data-"+c.ns+"field")||(f=e.data("kendoFilterMenu"),f&&f.destroy(),e.kendoFilterMenu(l(!0,{},h,d[i].filterable,{dataSource:b.dataSource,values:d[i].values,closeCallback:g,init:function(a){b.trigger(J,{field:a.field,container:a.container})}})))})},_sortable:function(){var e,f,g,b=this,d=b.columns,h=b.options.sortable;h&&b.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){e=d[i],e.sortable!==!1&&!e.command&&e.field&&(f=a(this),g=f.data("kendoSortable"),g&&g.destroy(),f.attr("data-"+c.ns+"field",e.field).kendoSortable(l({},h,{dataSource:b.dataSource,aria:!0})))})},_columns:function(b){var f,d=this,e=d.table,g=e.find("col"),h=d.options.dataSource;b=b.length?b:m(e.find("th"),function(b,d){b=a(b);var e=b.attr(c.attr("sortable")),f=b.attr(c.attr("filterable")),h=b.attr(c.attr("type")),i=b.attr(c.attr("groupable")),j=b.attr(c.attr("field")),k=b.attr(c.attr("menu"));return j||(j=b.text().replace(/\s|[^A-z0-9]/g,"")),{field:j,type:h,sortable:"false"!==e,filterable:"false"!==f,groupable:"false"!==i,menu:k,template:b.attr(c.attr("template")),width:g.eq(d).css("width")}}),f=!(d.table.find("tbody tr").length>0&&(!h||!h.transport)),d.columns=m(b,function(a){return a=typeof a===$?{field:a}:a,a.hidden&&(a.attributes=rb(a.attributes),a.footerAttributes=rb(a.footerAttributes),a.headerAttributes=rb(a.headerAttributes)),l({encoded:f},a)})},_groups:function(){var a=this.dataSource.group();return a?a.length:0},_tmpl:function(a,b){var f,h,j,k,d=this,e=l({},c.Template,d.options.templateSettings),g=d.columns.length,i={storage:{},count:0},m=d._hasDetails(),n=[],o=d._groups();if(!a){for(a="<tr",b&&n.push("k-alt"),m&&n.push("k-master-row"),n.length&&(a+=' class="'+n.join(" ")+'"'),g&&(a+=" "+c.attr("uid")+'="#='+c.expr("uid",e.paramName)+'#"'),a+=" role='row'>",o>0&&(a+=ib(o)),m&&(a+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),f=0;g>f;f++)j=d.columns[f],h=j.template,k=typeof h,a+="<td"+jb(j.attributes)+" role='gridcell'>",a+=d._cellTmpl(j,i),a+="</td>";a+="</tr>"}return a=c.template(a,e),i.count>0?q(a,i.storage):a},_headerCellText:function(a){var b=this,d=l({},c.Template,b.options.templateSettings),e=a.headerTemplate,f=typeof e,g=a.title||a.field||"";return f===Z?g=c.template(e,d)({}):f===$&&(g=e),g},_cellTmpl:function(a,b){var j,m,d=this,e=l({},c.Template,d.options.templateSettings),f=a.template,g=e.paramName,h=a.field,i="",n=a.format,p=typeof f,q=a.values;if(a.command){if(o(a.command)){for(j=0,m=a.command.length;m>j;j++)i+=d._createButton(a.command[j]);return i.replace(cb,"\\#")}return d._createButton(a.command).replace(cb,"\\#")}return p===Z?(b.storage["tmpl"+b.count]=f,i+="#=this.tmpl"+b.count+"("+g+")#",b.count++):p===$?i+=f:q&&q.length&&k(q[0])&&"value"in q[0]&&h?(i+="#var v ="+c.stringify(ub(q))+"#",i+="#var f = v[",e.useWithBlock||(i+=g+"."),i+=h+"]#",i+="${f != null ? f : ''}"):(i+=a.encoded?"#:":"#=",n&&(i+='kendo.format("'+n.replace(ab,"\\$1")+'",'),h?(h=c.expr(h,g),i+=h+"==null?'':"+h):i+="''",n&&(i+=")"),i+="#"),i},_templates:function(){var b=this,c=b.options,d=b.dataSource,e=d.group(),f=b.footer||b.wrapper.find(".k-grid-footer"),g=d.aggregate();b.rowTemplate=b._tmpl(c.rowTemplate),b.altRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,!0),b._hasDetails()&&(b.detailTemplate=b._detailTmpl(c.detailTemplate||"")),(b._group&&!s(g)||!s(g)&&!f.length||n(b.columns,function(a){return a.footerTemplate}).length)&&(b.footerTemplate=b._footerTmpl(g,"footerTemplate","k-footer-template")),e&&n(b.columns,function(a){return a.groupFooterTemplate}).length&&(g=a.map(e,function(a){return a.aggregates}),b.groupFooterTemplate=b._footerTmpl(g,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(a,b,d){var i,j,m,n,u,e=this,f=l({},c.Template,e.options.templateSettings),g=f.paramName,h="",k=e.columns,o={},p=0,r={},s=e._groups(),t=nb(a);for(h+='<tr class="'+d+'">',s>0&&(h+=ib(s)),e._hasDetails()&&(h+='<td class="k-hierarchy-cell">&nbsp;</td>'),i=0,j=e.columns.length;j>i;i++)u=k[i],m=u[b],n=typeof m,h+="<td"+jb(u.footerAttributes)+">",m?(n!==Z&&(r=t[u.field]?l({},f,{paramName:g+"."+u.field}):{},m=c.template(m,r)),o["tmpl"+p]=m,h+="#=this.tmpl"+p+"("+g+")#",p++):h+="&nbsp;",h+="</td>";return h+="</tr>",h=c.template(h,f),p>0?q(h,o):h},_detailTmpl:function(a){var b=this,d="",e=l({},c.Template,b.options.templateSettings),f=e.paramName,g={},h=0,i=b._groups(),j=qb(b.columns).length,k=typeof a;return d+='<tr class="k-detail-row">',i>0&&(d+=ib(i)),d+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(j?' colspan="'+j+'"':"")+">",k===Z?(g["tmpl"+h]=a,d+="#=this.tmpl"+h+"("+f+")#",h++):d+=a,d+="</td></tr>",d=c.template(d,e),h>0?q(d,g):d},_hasDetails:function(){var a=this;return null!==a.options.detailTemplate||(a._events[I]||[]).length},_details:function(){var b=this;b.table.on(W+E,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(c){var g,i,d=a(this),e=d.hasClass("k-plus"),f=d.closest("tr.k-master-row"),h=b.detailTemplate,j=b._hasDetails();return d.toggleClass("k-plus",!e).toggleClass("k-minus",e),j&&!f.next().hasClass("k-detail-row")&&(i=b.dataItem(f),a(h(i)).addClass(f.hasClass("k-alt")?"k-alt":"").insertAfter(f),b.trigger(I,{masterRow:f,detailRow:f.next(),data:i,detailCell:f.next().find(".k-detail-cell")})),g=f.next(),b.trigger(e?Q:R,{masterRow:f,detailRow:g}),g.toggle(e),b._current&&b._current.attr("aria-expanded",e),c.preventDefault(),!1})},dataItem:function(b){return this._data[this.tbody.find("> tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)").index(a(b))]},expandRow:function(b){a(b).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(b){a(b).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var g,h,k,l,m,d=this,e=d.columns,f=d._hasDetails()&&e.length,i="",j=d.table.find(">thead");if(j.length||(j=a("<thead/>").insertBefore(d.tbody)),k=d.element.find("tr:has(th):first"),k.length||(k=j.children().first(),k.length||(k=a("<tr/>"))),k.children().length)f&&!k.find(".k-hierarchy-cell")[0]&&k.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');else{for(f&&(i+='<th class="k-hierarchy-cell">&nbsp;</th>'),g=0,h=e.length;h>g;g++)m=e[g],l=d._headerCellText(m),m.command?i+="<th"+jb(m.headerAttributes)+">"+l+"</th>":(i+="<th role='columnheader' "+c.attr("field")+"='"+(m.field||"")+"' ",m.title&&(i+=c.attr("title")+'="'+m.title.replace(/'/g,"'")+'" '),m.groupable!==b&&(i+=c.attr("groupable")+"='"+m.groupable+"' "),m.aggregates&&(i+=c.attr("aggregates")+"='"+m.aggregates+"'"),i+=jb(m.headerAttributes),i+=">"+l+"</th>");k.html(i)}k.find("th").addClass("k-header"),d.options.scrollable||j.addClass("k-grid-header"),k.find("script").remove().end().appendTo(j),d.thead&&d._destroyColumnAttachments(),d.thead=j,d._sortable(),d._filterable(),d._scrollable(),d._updateCols(),d._resizable(),d._draggable(),d._reorderable(),d.groupable&&d._attachGroupable(),d._columnMenu()},_updateCols:function(){var a=this;a._appendCols(a.thead.parent().add(a.table))},_appendCols:function(a){var b=this;tb(a,qb(b.columns),b._hasDetails(),b._groups())},_autoColumns:function(a){if(a&&a.toJSON){var c,b=this;a=a.toJSON();for(c in a)b.columns.push({field:c});b._thead(),b._templates()}},_rowsHtml:function(a){var d,e,b=this,c="",f=b.rowTemplate,g=b.altRowTemplate;for(d=0,e=a.length;e>d;d++)c+=d%2?g(a[d]):f(a[d]),b._data.push(a[d]);return c},_groupRowHtml:function(a,b,d){var g,h,e=this,f="",i=a.field,j=n(e.columns,function(a){return a.field==i})[0]||{},k=j.groupHeaderTemplate,m=(j.title||i)+": "+vb(a.value,j.format,j.values),o=l({},{field:a.field,value:a.value},a.aggregates[a.field]),p=e._groupAggregatesDefaultObject||{},q=a.items;if(k&&(m=typeof k===Z?k(o):c.template(k)(o)),f+='<tr class="k-grouping-row">'+ib(d)+'<td colspan="'+b+'" aria-expanded="true">'+'<p class="k-reset">'+'<a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+m+"</p></td></tr>",a.hasSubgroups)for(g=0,h=q.length;h>g;g++)f+=e._groupRowHtml(q[g],b-1,d+1);else f+=e._rowsHtml(q);return e.groupFooterTemplate&&(f+=e.groupFooterTemplate(l(p,a.aggregates))),f},collapseGroup:function(b){b=a(b).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var e,f,c=b.find(".k-group-cell").length,d=1;b.find("td:first").attr("aria-expanded",!1),b.nextAll("tr").each(function(){return f=a(this),e=f.find(".k-group-cell").length,f.hasClass("k-grouping-row")?d++:f.hasClass("k-group-footer")&&d--,c>=e||f.hasClass("k-group-footer")&&0>d?!1:(f.hide(),void 0)})},expandGroup:function(b){b=a(b).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var e,f,c=this,d=b.find(".k-group-cell").length,g=1;b.find("td:first").attr("aria-expanded",!0),b.nextAll("tr").each(function(){return e=a(this),f=e.find(".k-group-cell").length,d>=f?!1:(f!=d+1||e.hasClass("k-detail-row")||(e.show(),e.hasClass("k-grouping-row")&&e.find(".k-icon").hasClass("k-i-collapse")&&c.expandGroup(e),e.hasClass("k-master-row")&&e.find(".k-icon").hasClass("k-minus")&&e.next().show()),e.hasClass("k-grouping-row")&&g++,e.hasClass("k-group-footer")&&(1==g?e.show():g--),void 0)})},_updateHeader:function(b){var c=this,d=c.thead.find("th.k-group-cell"),e=d.length;b>e?a(new Array(b-e+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(c.thead.find("tr")):e>b&&(e-=b,a(n(d,function(a,b){return e>b})).remove())},_firstDataItem:function(a,b){return a&&b&&(a=a.hasSubgroups?this._firstDataItem(a.items[0],b):a.items[0]),a},hideColumn:function(b){var e,f,g,h,i,j,k,m,r,d=this,l=0,o=d.footer||d.wrapper.find(".k-grid-footer"),q=d.columns,s=c.support.browser;if(b="number"==typeof b?q[b]:n(q,function(a){return a.field===b})[0],b&&!b.hidden){for(r=p(b,qb(q)),b.hidden=!0,b.attributes=rb(b.attributes),b.footerAttributes=rb(b.footerAttributes),b.headerAttributes=rb(b.headerAttributes),d._templates(),d._updateCols(),d.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell):visible").eq(r).hide(),o&&(d._appendCols(o.find("table:first")),o.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell):visible").eq(r).hide()),e=d.tbody.children(),i=0,m=e.length;m>i;i+=1)f=e.eq(i),f.is(".k-grouping-row,.k-detail-row")?(g=f.children(":not(.k-group-cell):first,.k-detail-cell").last(),g.attr("colspan",parseInt(g.attr("colspan"),10)-1)):(f.hasClass("k-grid-edit-row")&&(g=f.children(".k-edit-container")[0])&&(g=a(g),g.attr("colspan",parseInt(g.attr("colspan"),10)-1),g.find("col").eq(r).remove(),f=g.find("tr:first")),wb(f[0].cells,r,!1));for(j=d.thead.prev().find("col"),i=0,m=j.length;m>i;i+=1){if(k=j[i].style.width,!k||-1!=k.indexOf("%")){l=0;break}l+=parseInt(k,10)}h=a(">.k-grid-header table:first,>.k-grid-footer table:first",d.wrapper).add(d.table),d._footerWidth=null,l&&(h.width(l),d._footerWidth=l),s.msie&&8==s.version&&(h.css("display","inline-table"),setTimeout(function(){h.css("display","table")},1)),d.trigger(M,{column:b})}},showColumn:function(b){var d,e,f,g,h,i,j,k,l,q,c=this,m=c.columns,o=c.footer||c.wrapper.find(".k-grid-footer");if(b="number"==typeof b?m[b]:n(m,function(a){return a.field===b})[0],b&&b.hidden){for(q=p(b,m),b.hidden=!1,b.attributes=sb(b.attributes),b.footerAttributes=sb(b.footerAttributes),b.headerAttributes=sb(b.headerAttributes),c._templates(),c._updateCols(),c.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell)").eq(q).show(),o&&(c._appendCols(o.find("table:first")),o.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell)").eq(q).show()),d=c.tbody.children(),e=0,f=d.length;f>e;e+=1)g=d.eq(e),g.is(".k-grouping-row,.k-detail-row")?(h=g.children(":not(.k-group-cell):first,.k-detail-cell").last(),h.attr("colspan",parseInt(h.attr("colspan"),10)+1)):(g.hasClass("k-grid-edit-row")&&(h=g.children(".k-edit-container")[0])&&(h=a(h),h.attr("colspan",parseInt(h.attr("colspan"),10)+1),tb(h.find(">form>table"),qb(m),!1,0),g=h.find("tr:first")),wb(g[0].cells,q,!0));if(i=a(">.k-grid-header table:first,>.k-grid-footer table:first",c.wrapper).add(c.table),b.width){for(j=0,l=c.thead.prev().find("col"),e=0,f=l.length;f>e;e+=1){if(k=l[e].style.width,k.indexOf("%")>-1){j=0;break}j+=parseInt(k,10)}c._footerWidth=null,j&&(i.width(j),c._footerWidth=j)}else i.width("");c.trigger(N,{column:b})}},_progress:function(a){var b=this,d=b.element.is("table")?b.element.parent():b.content&&b.content.length?b.content:b.element;c.ui.progress(d,a)},refresh:function(b){var d,e,k,l,m,r,c=this,f="",i=c.dataSource.view(),j=c.options.navigatable,n=a(c.current()),o=!1,p=(c.dataSource.group()||[]).length,q=p+qb(c.columns).length;if(!(b&&"itemchange"===b.action&&c.editable||(b=b||{},c.trigger("dataBinding",{action:b.action||"rebind",index:b.index,items:b.items})))){if(r=h(),j&&(c.table[0]===r||a.contains(c.table[0],r)||c._editContainer&&c._editContainer.data("kendoWindow"))&&(o=n.is("th"),m=0,o&&(m=c.thead.find("th:not(.k-group-cell)").index(n))),c._destroyEditable(),c._progress(!1),c._data=[],c.columns.length||(c._autoColumns(c._firstDataItem(i[0],p)),q=p+c.columns.length),c._group=p>0||c._group,c._group&&(c._templates(),c._updateCols(),c._updateHeader(p),c._group=p>0),p>0)for(c.detailTemplate&&q++,c.groupFooterTemplate&&(c._groupAggregatesDefaultObject=nb(c.dataSource.aggregate())),e=0,d=i.length;d>e;e++)f+=c._groupRowHtml(i[e],q,0);else f+=c._rowsHtml(i);g?c.tbody[0].innerHTML=f:(l=document.createElement("div"),l.innerHTML="<table><tbody>"+f+"</tbody></table>",k=l.firstChild.firstChild,c.table[0].replaceChild(k,c.tbody[0]),c.tbody=a(k)),c._footer(),c._setContentHeight(),m>=0&&(c._removeCurrent(),o?c.current(c.thead.find("th:not(.k-group-cell)").eq(m)):c.current(c.items().eq(m).children().filter(w).first()),c._current&&zb(c._current.closest("table")[0],!0)),c.trigger(P)}}});d.plugin(xb),d.plugin(hb)}(window.kendo.jQuery),kendo_module({id:"listview",name:"ListView",category:"web",description:"The ListView widget offers rich support for interacting with data.",depends:["data"],features:[{id:"listview-editing",name:"Editing",description:"Support for record editing",depends:["editable"]},{id:"listview-selection",name:"Selection",description:"Support for selection",depends:["selectable"]}]}),function(a,b){var c=window.kendo,d="change",e="cancel",f="dataBound",g="dataBinding",h=c.ui.Widget,i=c.keys,j=">*",k="progress",l="error",m="k-state-focused",n="k-state-selected",o="k-edit-item",p="string",q="edit",r="remove",s="save",t="click",u=".kendoListView",v=a.proxy,w=c._activeElement,x=c.ui.progress,y=c.data.DataSource,z=h.extend({init:function(b,d){var e=this;d=a.isArray(d)?{dataSource:d}:d,h.fn.init.call(e,b,d),d=e.options,e.wrapper=b=e.element,b[0].id&&(e._itemId=b[0].id+"_lv_active"),e._element(),e._dataSource(),e.template=c.template(d.template||""),e.altTemplate=c.template(d.altTemplate||d.template),e.editTemplate=c.template(d.editTemplate||""),e._navigatable(),e._selectable(),e._pageable(),e._crudHandlers(),e.options.autoBind&&e.dataSource.fetch(),c.notify(e)},events:[d,e,g,f,q,r,s],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},_item:function(a){return this.element.children()[a]()},items:function(){return this.element.children()},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&a.fetch()},_unbindDataSource:function(){var a=this;a.dataSource.unbind(d,a._refreshHandler).unbind(k,a._progressHandler).unbind(l,a._errorHandler)},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=v(a.refresh,a),a._progressHandler=v(a._progress,a),a._errorHandler=v(a._error,a)),a.dataSource=y.create(a.options.dataSource).bind(d,a._refreshHandler).bind(k,a._progressHandler).bind(l,a._errorHandler)},_progress:function(){x(this.element,!0)},_error:function(){x(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(b){var h,i,j,l,m,d=this,e=d.dataSource.view(),k="",n=d.template,o=d.altTemplate,p=w();if(b&&"itemchange"===b.action)return d.editable||(h=b.items[0],l=a.inArray(h,e),l>=0&&(d.items().eq(l).replaceWith(n(h)),j=d.items().eq(l),j.attr(c.attr("uid"),h.uid),d.trigger("itemChange",{item:j,data:h}))),void 0;if(b=b||{},!d.trigger(g,{action:b.action||"rebind",items:b.items,index:b.index})){for(d._destroyEditable(),l=0,m=e.length;m>l;l++)k+=l%2?o(e[l]):n(e[l]);for(d.element.html(k),i=d.items(),l=0,m=e.length;m>l;l++)i.eq(l).attr(c.attr("uid"),e[l].uid).attr("role","option").attr("aria-selected","false");d.element[0]===p&&d.options.navigatable&&d.current(i.eq(0)),d.trigger(f)}},_pageable:function(){var e,f,b=this,d=b.options.pageable;a.isPlainObject(d)&&(f=d.pagerId,e=a.extend({},d,{dataSource:b.dataSource,pagerId:null}),b.pager=new c.ui.Pager(a("#"+f),e))},_selectable:function(){var b,e,a=this,f=a.options.selectable,g=a.options.navigatable;f&&(b=typeof f===p&&f.toLowerCase().indexOf("multiple")>-1,b&&a.element.attr("aria-multiselectable",!0),a.selectable=new c.ui.Selectable(a.element,{aria:!0,multiple:b,filter:j,change:function(){a.trigger(d)}}),g&&a.element.on("keydown"+u,function(c){if(c.keyCode===i.SPACEBAR){if(e=a.current(),c.target==c.currentTarget&&c.preventDefault(),b)if(c.ctrlKey){if(e&&e.hasClass(n))return e.removeClass(n),void 0}else a.selectable.clear();else a.selectable.clear();a.selectable.value(e)}}))},current:function(a){var c=this,d=c.element,e=c._current,f=c._itemId;return a===b?e:(e&&(e[0].id===f&&e.removeAttr("id"),e.removeClass(m),d.removeAttr("aria-activedescendant")),a&&a[0]&&(f=a[0].id||f,c._scrollTo(a[0]),d.attr("aria-activedescendant",f),a.addClass(m).attr("id",f)),c._current=a,void 0)},_scrollTo:function(b){var d,g,c=this,e=!1,f="scroll";"auto"==c.wrapper.css("overflow")||c.wrapper.css("overflow")==f?d=c.wrapper[0]:(d=window,e=!0),g=function(c,g){var h=e?a(b).offset()[c.toLowerCase()]:b["offset"+c],i=b["client"+g],j=a(d)[f+c](),k=a(d)[g.toLowerCase()]();h+i>j+k?a(d)[f+c](h+i-k):j>h&&a(d)[f+c](h)},g("Top","Height"),g("Left","Width")},_navigatable:function(){var b=this,d=b.options.navigatable,e=b.element,f=function(c){b.current(a(c.currentTarget)),a(c.target).is(":button,a,:input,a>.k-icon,textarea")||e.focus()};d&&(b._tabindex(),e.on("focus"+u,function(){var a=b._current;a&&a.is(":visible")||(a=b._item("first")),b.current(a)}).on("focusout"+u,function(){b._current&&b._current.removeClass(m)}).on("keydown"+u,function(d){var p,q,f=d.keyCode,g=b.current(),h=a(d.target),j=!h.is(":button,textarea,a,a>.t-icon,input"),k=h.is(":text"),l=c.preventDefault,m=e.find("."+o),n=w();if(!(!j&&!k&&i.ESC!=f||k&&i.ESC!=f&&i.ENTER!=f))if(i.UP===f||i.LEFT===f)g&&(g=g.prev()),b.current(g&&g[0]?g:b._item("last")),l(d);else if(i.DOWN===f||i.RIGHT===f)g&&(g=g.next()),b.current(g&&g[0]?g:b._item("first")),l(d);else if(i.PAGEUP===f)b.current(null),b.dataSource.page(b.dataSource.page()-1),l(d);else if(i.PAGEDOWN===f)b.current(null),b.dataSource.page(b.dataSource.page()+1),l(d);else if(i.HOME===f)b.current(b._item("first")),l(d);else if(i.END===f)b.current(b._item("last")),l(d);else if(i.ENTER===f)0!==m.length&&(j||k)?(p=b.items().index(m),n&&n.blur(),b.save(),q=function(){b.element.trigger("focus"),b.current(b.items().eq(p))},b.one("dataBound",q)):""!==b.options.editTemplate&&b.edit(g);else if(i.ESC===f){if(m=e.find("."+o),0===m.length)return;p=b.items().index(m),b.cancel(),b.element.trigger("focus"),b.current(b.items().eq(p))}}),e.on("mousedown"+u+" touchstart"+u,j,v(f,b)))},clearSelection:function(){var a=this;a.selectable.clear(),a.trigger(d)},select:function(b){var c=this,d=c.selectable;return b=a(b),b.length?(d.options.multiple||(d.clear(),b=b.first()),d.value(b),void 0):d.value()},_destroyEditable:function(){var a=this;a.editable&&(a.editable.destroy(),delete a.editable)},_modelFromElement:function(a){var b=a.attr(c.attr("uid"));return this.dataSource.getByUid(b)},_closeEditable:function(a){var e,f,b=this,d=b.editable,g=b.template,h=!0;return d&&(a&&(h=d.end()),h&&(d.element.index()%2&&(g=b.altTemplate),e=b._modelFromElement(d.element),b._destroyEditable(),f=d.element.index(),d.element.replaceWith(g(e)),b.items().eq(f).attr(c.attr("uid"),e.uid))),h},edit:function(a){var e,b=this,d=b._modelFromElement(a),f=a.index();b.cancel(),a.replaceWith(b.editTemplate(d)),e=b.items().eq(f).addClass(o).attr(c.attr("uid"),d.uid),b.editable=e.kendoEditable({model:d,clearContainer:!1,errorTemplate:!1}).data("kendoEditable"),b.trigger(q,{model:d,item:e})},save:function(){var c,a=this,b=a.editable;b&&(b=b.element,c=a._modelFromElement(b),!a.trigger(s,{model:c,item:b})&&a._closeEditable(!0)&&a.dataSource.sync())},remove:function(a){var b=this,c=b.dataSource,d=b._modelFromElement(a);b.trigger(r,{model:d,item:a})||(a.hide(),c.remove(d),c.sync())},add:function(){var a=this,b=a.dataSource,c=b.indexOf((b.view()||[])[0]);0>c&&(c=0),a.cancel(),b.insert(c,{}),a.edit(a.element.children().first())},cancel:function(){var c,d,a=this,b=a.dataSource;a.editable&&(c=a.editable.element,d=a._modelFromElement(c),a.trigger(e,{model:d,container:c})||(b.cancelChanges(d),a._closeEditable(!1)))},_crudHandlers:function(){var b=this,d=t+u;b.element.on(d,".k-edit-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.edit(e),d.preventDefault()}),b.element.on(d,".k-delete-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.remove(e),d.preventDefault()}),b.element.on(d,".k-update-button",function(a){b.save(),a.preventDefault()}),b.element.on(d,".k-cancel-button",function(a){b.cancel(),a.preventDefault()})},destroy:function(){var a=this;h.fn.destroy.call(a),a._unbindDataSource(),a._destroyEditable(),a.element.off(u),a.pager&&a.pager.destroy(),a.selectable&&a.selectable.destroy(),c.destroy(a.element)}});c.ui.plugin(z)}(window.kendo.jQuery),function(a,b){function I(a,b){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+a+'" title="'+b+'">'+b+"</span></span>"}function J(c,d){var e,i,j,g,h,f=d!==b;return c.selectionStart!==b?f?(c.focus(),c.setSelectionRange(d,d)):d=[c.selectionStart,c.selectionEnd]:document.selection&&(a(c).is(":visible")&&c.focus(),e=document.selection.createRange(),f?(e.move("character",d),e.select()):(g=c.createTextRange(),h=g.duplicate(),g.moveToBookmark(e.getBookmark()),h.setEndPoint("EndToStart",g),i=h.text.length,j=i+g.text.length,d=[i,j])),d}var c=window.kendo,d=c.keys,e=c.ui,f=e.Widget,g=c._activeElement,h=c._extractFormat,i=c.parseFloat,j=c.support.placeholder,k=c.getCulture,l="change",m="disabled",n="readonly",o="k-input",p="spin",q=".kendoNumericTextBox",r="touchend",s="mouseleave"+q,t="touchcancel"+q+" "+"touchend"+q+" mouseup"+q+" "+s,u="mouseenter"+q+" "+s,v="k-state-default",w="k-state-focused",x="k-state-hover",y="focus",z=".",A="k-state-selected",B="k-state-disabled",C="aria-disabled",D="aria-readonly",E=null,F=a.proxy,G={190:".",188:","},H=f.extend({init:function(a,d){var i,j,k,l,m,e=this,g=d&&d.step!==b;f.fn.init.call(e,a,d),d=e.options,a=e.element.on("blur"+q,F(e._focusout,e)).attr("role","spinbutton"),d.placeholder=d.placeholder||a.attr("placeholder"),e._reset(),e._wrapper(),e._arrows(),e._input(),c.support.mobileOS?e._text.on(r+q+" "+y+q,function(b){e._toggleText(!1),b.type===y&&a.focus()}):e._text.on(y+q,F(e._click,e)),i=e.min(a.attr("min")),j=e.max(a.attr("max")),k=e._parse(a.attr("step")),d.min===E&&i!==E&&(d.min=i),d.max===E&&j!==E&&(d.max=j),g||k===E||(d.step=k),a.attr("aria-valuemin",d.min).attr("aria-valuemax",d.max),d.format=h(d.format),l=d.value,e.value(l!==E?l:a.val()),m=a.is("[disabled]"),m?e.enable(!1):e.readonly(a.is("[readonly]")),c.notify(e)},options:{name:"NumericTextBox",decimals:E,min:E,max:E,value:E,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[l,p],_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly,f=b._text.add(c),g=b._inputWrapper.off(u);b._toggleText(!0),b._upArrowEventHandler.unbind("press"),b._downArrowEventHandler.unbind("press"),c.off("keydown"+q).off("paste"+q),e||d?(g.addClass(d?B:v).removeClass(d?v:B),f.attr(m,d).attr(n,e).attr(C,d).attr(D,e)):(g.addClass(v).removeClass(B).on(u,b._toggleHover),f.removeAttr(m).removeAttr(n).attr(C,!1).attr(D,!1),b._upArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(1),b._upArrow.addClass(A)}),b._downArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(-1),b._downArrow.addClass(A)}),b.element.on("keydown"+q,F(b._keydown,b)).on("paste"+q,F(b._paste,b)))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;a.element.add(a._text).add(a._upArrow).add(a._downArrow).add(a._inputWrapper).off(q),a._form&&a._form.off("reset",a._resetHandler),f.fn.destroy.call(a)},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},step:function(a){return this._option("step",a)},value:function(a){var d,c=this;return a===b?c._value:(a=c._parse(a),d=c._adjust(a),a===d&&(c._update(a),c._old=c._value),void 0)},focus:function(){this._focusin()},_adjust:function(a){var b=this,c=b.options,d=c.min,e=c.max;return a===E?a:(d!==E&&d>a?a=d:e!==E&&a>e&&(a=e),a)},_arrows:function(){var d,b=this,e=b.options,f=e.spinners,g=b.element;d=g.siblings(".k-icon"),d[0]||(d=a(I("n",e.upArrowText)+I("s",e.downArrowText)).insertAfter(g),d.wrapAll('<span class="k-select"/>')),d.on(t,function(){clearTimeout(b._spinning),d.removeClass(A)}),f||(d.parent().toggle(f),b._inputWrapper.addClass("k-expand-padding")),b._upArrow=d.eq(0),b._upArrowEventHandler=new c.UserEvents(b._upArrow),b._downArrow=d.eq(1),b._downArrowEventHandler=new c.UserEvents(b._downArrow)},_blur:function(){var a=this;a._toggleText(!0),a._change(a.element.val())},_click:function(a){var b=this;clearTimeout(b._focusing),b._focusing=setTimeout(function(){var c=a.target,d=J(c)[0],e=c.value.substring(0,d),f=b._format(b.options.format),g=f[","],h=new RegExp("\\"+g,"g"),i=new RegExp("([\\d\\"+g+"]+)(\\"+f[z]+")?(\\d+)?"),j=i.exec(e),k=0;j&&(k=j[0].replace(h,"").length,-1!=e.indexOf("(")&&b._value<0&&k++),b._focusin(),J(b.element[0],k)})},_change:function(a){var b=this;b._update(a),a=b._value,b._old!=a&&(b._old=a,b.trigger(l),b.element.trigger(l))},_culture:function(a){return a||k(this.options.culture)},_focusin:function(){var a=this;a._inputWrapper.addClass(w),a._toggleText(!1),a.element[0].focus()},_focusout:function(){var a=this;clearTimeout(a._focusing),a._inputWrapper.removeClass(w).removeClass(x),a._blur()},_format:function(a,b){var c=this._culture(b).numberFormat;return a=a.toLowerCase(),a.indexOf("c")>-1?c=c.currency:a.indexOf("p")>-1&&(c=c.percent),c},_input:function(){var g,b=this,c="k-formatted-value",d=b.element.addClass(o).show()[0],e=d.accessKey,f=b.wrapper;g=f.find(z+c),g[0]||(g=a('<input type="text"/>').insertBefore(d).addClass(c)),d.type="text",g[0].tabIndex=d.tabIndex,g[0].style.cssText=d.style.cssText,g.prop("placeholder",b.options.placeholder),e&&(g.attr("accesskey",e),d.accessKey=""),b._text=g.addClass(d.className)},_keydown:function(a){var b=this,c=a.keyCode;c==d.DOWN?b._step(-1):c==d.UP?b._step(1):c==d.ENTER&&b._change(b.element.val()),b._prevent(c,a.shiftKey)&&!a.ctrlKey&&a.preventDefault()},_paste:function(a){var b=this,c=a.target,d=c.value;setTimeout(function(){b._parse(c.value)===E&&b._update(d)})},_prevent:function(a,b){var q,c=this,e=c.element[0],f=e.value,g=c.options,h=g.min,i=c._format(g.format),j=i[z],k=g.decimals,l=J(e),m=l[0],n=l[1],o=0===m&&n===f.length,p=!0;return k===E&&(k=i.decimals),a>16&&21>a||a>32&&37>a||a>47&&58>a||a>95&&106>a||a==d.INSERT||a==d.DELETE||a==d.LEFT||a==d.RIGHT||a==d.TAB||a==d.BACKSPACE||a==d.ENTER?(p=!1,b&&(q=parseInt(String.fromCharCode(a),10),isNaN(q)||(q+="",f=f.substring(0,m)+q+f.substring(n),(-1===e.maxLength||e.maxLength>=f.length)&&(e.value=f,J(e,m+q.length)),p=!0))):(G[a]===j||110==a)&&k>0&&(-1==f.indexOf(j)||o)?110==a?(e.value=f.substring(0,m)+j+f.substring(n),J(e,m+j.length)):b||(p=!1):!(h===E||0>h)||-1!=f.indexOf("-")||189!=a&&109!=a&&173!=a||0!==m||(p=!1),p
},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d._parse(c),(c||"step"!==a)&&(e[a]=d._parse(c),d.element.attr("aria-value"+a,e[a])),void 0)},_spin:function(a,b){var c=this;b=b||500,clearTimeout(c._spinning),c._spinning=setTimeout(function(){c._spin(a,50)},b),c._step(a)},_step:function(a){var b=this,c=b.element,d=b._parse(c.val())||0;g()!=c[0]&&b._focusin(),d+=b.options.step*a,b._update(b._adjust(d)),b.trigger(p)},_toggleHover:function(b){a(b.currentTarget).toggleClass(x,"mouseenter"===b.type)},_toggleText:function(a){var b=this;b._text.toggle(a),b.element.toggle(!a)},_parse:function(a,b){return i(a,this._culture(b),this.options.format)},_update:function(a){var i,b=this,d=b.options,e=d.format,f=d.decimals,g=b._culture(),h=b._format(e,g);f===E&&(f=h.decimals),a=b._parse(a,g),i=a!==E,i&&(a=parseFloat(a.toFixed(f))),b._value=a=b._adjust(a),b._placeholder(c.toString(a,e,g)),b.element.val(i?a.toString().replace(z,h[z]):"").attr("aria-valuenow",a)},_placeholder:function(a){this._text.val(a),j||a||this._text.val(this.options.placeholder)},_wrapper:function(){var e,b=this,c=b.element,d=c[0];e=c.parents(".k-numerictextbox"),e.is("span.k-numerictextbox")||(e=c.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),e=e.wrap("<span/>").parent()),e[0].style.cssText=d.style.cssText,d.style.width="",b.wrapper=e.addClass("k-widget k-numerictextbox").addClass(d.className).css("display",""),b._inputWrapper=a(e[0].firstChild)},_reset:function(){var a=this,b=a.element,c=b.closest("form");c[0]&&(a._resetHandler=function(){setTimeout(function(){a.value(b[0].value)})},a._form=c.on("reset",a._resetHandler))}});e.plugin(H)}(window.kendo.jQuery),function(a,b){function W(a,b){return a=a.split(" ")[!b+0]||a,a.replace("top","up").replace("bottom","down")}function X(a,b,d){a=a.split(" ")[!b+0]||a;var e={origin:["bottom",d?"right":"left"],position:["top",d?"right":"left"]},f=/left|right/.test(a);return f?(e.origin=["top",a],e.position[1]=c.directions[a].reverse):(e.origin[0]=a,e.position[0]=c.directions[a].reverse),e.origin=e.origin.join(" "),e.position=e.position.join(" "),e}function Y(b,c){try{return a.contains(b,c)}catch(d){return!1}}function Z(b){b=a(b),b.addClass("k-item").children(r).addClass(z),b.children("a").addClass(u).children(r).addClass(z),b.filter(":not([disabled])").addClass(H),b.filter(".k-separator:empty").append("&nbsp;"),b.filter("li[disabled]").addClass(K).removeAttr("disabled").attr("aria-disabled",!0),b.filter("[role]").length||b.attr("role","menuitem"),b.children("."+u).length||b.contents().filter(function(){return!(this.nodeName.match(p)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll("<span class='"+u+"'/>"),$(b),_(b)}function $(b){b=a(b),b.find("> .k-link > [class*=k-i-arrow]").remove(),b.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var b=a(this),c=b.parent().parent();b.append("<span class='k-icon "+(c.hasClass(t+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function _(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(y),b.filter(".k-last:not(:last-child)").removeClass(v),b.filter(":first-child").addClass(y),b.filter(":last-child").addClass(v)}var c=window.kendo,d=c.ui,e=c._activeElement,f=c.support.touch&&c.support.mobileOS,g=f||c.support.pointers,h="mousedown",i="click",j=a.extend,k=a.proxy,l=a.each,m=c.template,n=c.keys,o=d.Widget,p=/^(ul|a|div)$/i,q=".kendoMenu",r="img",s="open",t="k-menu",u="k-link",v="k-last",w="close",x="timer",y="k-first",z="k-image",A="select",B="zIndex",C="activate",D="deactivate",E=c.support.pointers?"MSPointerOver":"mouseenter",F=c.support.pointers?"MSPointerOut":"mouseleave",G="kendoPopup",H="k-state-default",I="k-state-hover",J="k-state-focused",K="k-state-disabled",L=".k-group",M=":not(.k-list) > .k-item",N=".k-item.k-state-disabled",O=".k-item:not(.k-state-disabled)",P=".k-item:not(.k-state-disabled) > .k-link",Q=":not(.k-item.k-separator)",R=Q+":eq(0)",S=Q+":last",T="div:not(.k-animation-container,.k-list-container)",U={content:m("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),group:m("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:m("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:m("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:m("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:m("<span class='#= arrowClass(item, group) #'></span>"),sprite:m("<span class='k-sprite #= spriteCssClass #'></span>"),empty:m("")},V={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" k-state-disabled":" k-state-default",a.firstLevel&&0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(){return u},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a,b){var c="k-icon";return c+=b.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(a){return a.encoded===!1?a.text:c.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(a){return a.content?a.content:"&nbsp;"}},ab=o.extend({init:function(b,d){var e=this;o.fn.init.call(e,b,d),b=e.wrapper=e.element,d=e.options,e._initData(d),e._updateClasses(),e._animations(d),e.nextItemZIndex=100,e._tabindex(),e._focusProxy=k(e._focusHandler,e),b.on("touchstart MSPointerDown",e._focusProxy).on(i+q,N,!1).on(i+q,O,k(e._click,e)).on("keydown"+q,k(e._keydown,e)).on("focus"+q,k(e._focus,e)).on("focus"+q,".k-content",k(e._focus,e)).on("blur"+q,k(e._removeHoverItem,e)).on(E+q,O,k(e._mouseenter,e)).on(F+q,O,k(e._mouseleave,e)).on(E+q+" "+F+q+" "+h+q+" "+i+q,P,k(e._toggleHover,e)),d.openOnClick&&(e.clicked=!1,e._documentClickHandler=k(e._documentClick,e),a(document).click(e._documentClickHandler)),b.attr("role","menubar"),b[0].id&&(e._ariaId=c.format("{0}_mn_active",b[0].id)),c.notify(e)},events:[s,w,C,D,A],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100},_initData:function(a){var b=this;a.dataSource&&(b.element.empty(),b.append(a.dataSource,b.element))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=j(!0,b,a.animation),"dataSource"in a&&this._initData(a),o.fn.setOptions.call(this,a)},destroy:function(){var b=this;o.fn.destroy.call(b),b.element.off(q),b._documentClickHandler&&a(document).unbind("click",b._documentClickHandler)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find("> .k-group, > .k-animation-container > .k-group"):null);return l(c.items,function(){c.group.append(this),$(this)}),$(b),_(c.group.find(".k-first, .k-last").add(c.items)),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return l(c.items,function(){b.before(this),$(this),_(this)}),_(b),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return l(c.items,function(){b.after(this),$(this),_(this)}),_(b),this},_insert:function(b,c,d){var f,g,h,i,e=this;return c&&c.length||(d=e.element),h=a.isPlainObject(b),i={firstLevel:d.hasClass(t),horizontal:d.hasClass(t+"-horizontal"),expanded:!0,length:d.children().length},c&&!d.length&&(d=a(ab.renderGroup({group:i})).appendTo(c)),h||a.isArray(b)?f=a.map(h?[b]:b,function(b,c){return"string"==typeof b?a(b):a(ab.renderItem({group:i,item:j(b,{index:c})}))}):(f=a(b),g=f.find("> ul").addClass("k-group").attr("role","menu"),f=f.filter("li"),f.add(g.find("> li")).each(function(){Z(this)})),{items:f,group:d}},remove:function(a){var b,c,d,e;return a=this.element.find(a),b=this,c=a.parentsUntil(b.element,M),d=a.parent("ul"),a.remove(),d&&!d.children(M).length&&(e=d.parent(".k-animation-container"),e.length?e.remove():d.remove()),c.length&&(c=c.eq(0),$(c),_(c)),b},open:function(d){var e=this,f=e.options,g="horizontal"==f.orientation,h=f.direction,i=c.support.isRtl(e.wrapper);return d=e.element.find(d),/^(top|bottom|default)$/.test(h)&&(h=i?g?(h+" left").replace("default","bottom"):"left":g?(h+" right").replace("default","bottom"):"right"),d.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var b=a(this).data("kendoPopup");b&&b.close()}),d.each(function(){var c=a(this);clearTimeout(c.data(x)),c.data(x,setTimeout(function(){var d,k,l,m,n,o,a=c.find(".k-group:first:hidden");a[0]&&e.trigger(s,{item:c[0]})===!1&&(c.data(B,c.css(B)),c.css(B,e.nextItemZIndex++),d=a.data(G),k=c.parent().hasClass(t),l=k&&g,m=X(h,k,i),n=f.animation.open.effects,o=n!==b?n:"slideIn:"+W(h,k),d?(d=a.data(G),d.options.origin=m.origin,d.options.position=m.position,d.options.animation.open.effects=o):d=a.kendoPopup({activate:function(){e.trigger(C,{item:this.wrapper.parent()})},deactivate:function(){e.trigger(D,{item:this.wrapper.parent()})},origin:m.origin,position:m.position,collision:f.popupCollision!==b?f.popupCollision:l?"fit":"fit flip",anchor:c,appendTo:c,animation:{open:j(!0,{effects:o},f.animation.open),close:f.animation.close},close:function(a){var b=a.sender.wrapper.parent();e.trigger(w,{item:b[0]})?a.preventDefault():(b.css(B,b.data(B)),b.removeData(B))}}).data(G),a.removeAttr("aria-hidden"),d.open())},e.options.hoverDelay))}),e},close:function(b){var c=this,d=c.element;return b=d.find(b),b.length||(b=d.find(">.k-item")),b.each(function(){var b=a(this);clearTimeout(b.data(x)),b.data(x,setTimeout(function(){var a=b.find(".k-group:first:visible").data(G);a&&(a.close(),a.element.attr("aria-hidden",!0))},c.options.hoverDelay))}),c},_toggleDisabled:function(b,c){this.element.find(b).each(function(){a(this).toggleClass(H,c).toggleClass(K,!c).attr("aria-disabled",!c)})},_toggleHover:function(b){var d=a(c.eventTarget(b)||b.target).closest(M),e=b.type==E||-1!==h.indexOf(b.type);d.parents("li."+K).length||d.toggleClass(I,e||"mousedown"==b.type||"click"==b.type),this._removeHoverItem()},_removeHoverItem:function(){var a=this._hoverItem();a&&a.hasClass(J)&&(a.removeClass(J),this._oldHoverItem=null)},_updateClasses:function(){var b,a=this.element;a.addClass("k-widget k-reset k-header "+t).addClass(t+"-"+this.options.orientation),a.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",a.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),b=a.find("> li,.k-group > li"),b.each(function(){Z(this)})},_mouseenter:function(b){var c=this,d=a(b.currentTarget),e=d.children(".k-animation-container").length||d.children(L).length;b.delegateTarget==d.parents(".k-menu")[0]&&((!c.options.openOnClick||c.clicked)&&!Y(b.currentTarget,b.relatedTarget)&&e&&c.open(d),(c.options.openOnClick&&c.clicked||g)&&d.siblings().each(k(function(a,b){c.close(b)},c)))},_mouseleave:function(b){var d=this,e=a(b.currentTarget),g=e.children(".k-animation-container").length||e.children(L).length;return e.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(b.stopImmediatePropagation(),void 0):(d.options.openOnClick||f||c.support.pointers&&2==b.originalEvent.pointerType||Y(b.currentTarget,b.relatedTarget)||!g||d.close(e),void 0)},_click:function(b){var e,n,o,d=this,f=d.options,h=a(c.eventTarget(b)),i=h[0]?h[0].nodeName.toUpperCase():"",j="INPUT"==i||"SELECT"==i||"BUTTON"==i,k=h.closest("."+u),l=h.closest(M),m=k.attr("href"),p=!!m&&"#"!=m.charAt(m.length-1);if(!l.children(T)[0])return l.hasClass(K)?(b.preventDefault(),void 0):(b.handled||!d.trigger(A,{item:l[0]})||j||b.preventDefault(),b.handled=!0,n=l.children(L+",.k-animation-container"),o=n.is(":visible"),f.closeOnClick&&!p&&(!n.length||f.openOnClick&&o)?(l.removeClass(I).css("height"),d._oldHoverItem=d._findRootParent(l),d.close(k.parentsUntil(d.element,M)),d.clicked=!1,-1!="MSPointerUp".indexOf(b.type)&&b.preventDefault(),void 0):((l.parent().hasClass(t)&&f.openOnClick||!g)&&(p||j||b.preventDefault(),d.clicked=!0,e=n.is(":visible")?w:s,(f.closeOnClick||e!=w)&&d[e](l)),void 0))},_documentClick:function(a){Y(this.element[0],a.target)||(this.clicked=!1)},_focus:function(b){var c=this,d=b.target,f=c._hoverItem(),g=e();return d==c.wrapper[0]||a(d).is(":focusable")?(g===b.currentTarget&&(f.length?c._moveHover([],f):c._oldHoverItem||c._moveHover([],c.wrapper.children().first())),void 0):(b.stopPropagation(),a(d).closest(".k-content").closest(".k-group").closest(".k-item").addClass(J),c.wrapper.focus(),void 0)},_keydown:function(a){var f,g,h,b=this,d=a.keyCode,e=b._oldHoverItem,i=c.support.isRtl(b.wrapper);if(a.target==a.currentTarget||d==n.ESC){if(e||(e=b._oldHoverItem=b._hoverItem()),g=b._itemBelongsToVertival(e),h=b._itemHasChildren(e),d==n.RIGHT)f=b[i?"_itemLeft":"_itemRight"](e,g,h);else if(d==n.LEFT)f=b[i?"_itemRight":"_itemLeft"](e,g,h);else if(d==n.DOWN)f=b._itemDown(e,g,h);else if(d==n.UP)f=b._itemUp(e,g,h);else if(d==n.ESC)f=b._itemEsc(e,g);else if(d==n.ENTER||d==n.SPACEBAR)f=e.children(".k-link"),f.length>0&&(b._click({target:f[0],preventDefault:function(){}}),b._moveHover(e,b._findRootParent(e)));else if(d==n.TAB)return f=b._findRootParent(e),b.close(f),b._moveHover(e,f),void 0;f&&f[0]&&(a.preventDefault(),a.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(a){var b=this.wrapper.hasClass("k-menu-vertical");return a.length?a.parent().hasClass("k-group")||b:b},_itemHasChildren:function(a){return a.length?a.children("ul.k-group, div.k-animation-container").length>0:!1},_moveHover:function(a,b){var c=this,d=c._ariaId;a.length&&b.length&&(a.removeClass(J),a[0].id===d&&a.removeAttr("id")),b.length&&(b[0].id&&(d=b[0].id),b.addClass(J),c._oldHoverItem=b,d&&(c.element.removeAttr("aria-activedescendant"),b.attr("id",d),c.element.attr("aria-activedescendant",d)))},_findRootParent:function(a){return a.parent().hasClass("k-menu")?a:a.parentsUntil(".k-menu","li.k-item").last()},_isRootItem:function(a){return a.parent().hasClass("k-menu")},_itemRight:function(a,b,c){var e,f,d=this;return b?c?(d.open(a),e=a.find(".k-group").children().first()):"horizontal"==d.options.orientation&&(f=d._findRootParent(a),d.close(f),e=f.nextAll(R)):(e=a.nextAll(R),e.length||(e=a.prevAll(S))),e&&!e.length?e=d.wrapper.children(".k-item").first():e||(e=[]),d._moveHover(a,e),e},_itemLeft:function(a,b){var d,c=this;return b?(d=a.parent().closest(".k-item"),c.close(d),c._isRootItem(d)&&"horizontal"==c.options.orientation&&(d=d.prevAll(R))):(d=a.prevAll(R),d.length||(d=a.nextAll(S))),d.length||(d=c.wrapper.children(".k-item").last()),c._moveHover(a,d),d},_itemDown:function(a,b,c){var e,d=this;if(b)e=a.nextAll(R);else{if(!c||a.hasClass(K))return;d.open(a),e=a.find(".k-group").children().first()}return!e.length&&a.length?e=a.parent().children().first():a.length||(e=d.wrapper.children(".k-item").first()),d._moveHover(a,e),e},_itemUp:function(a,b){var d,c=this;if(b)return d=a.prevAll(R),!d.length&&a.length?d=a.parent().children().last():a.length||(d=c.wrapper.children(".k-item").last()),c._moveHover(a,d),d},_itemEsc:function(a,b){var d,c=this;return b?(d=a.parent().closest(".k-item"),c.close(d),c._moveHover(a,d),d):a},_focusHandler:function(b){var d=this,e=a(c.eventTarget(b)).closest(M);setTimeout(function(){d._moveHover([],e),e.children(".k-content")[0]&&e.parent().closest(".k-item").removeClass(J)},200)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});j(ab,{renderItem:function(a){a=j({menu:{},group:{}},a);var b=U.empty,c=a.item;return U.item(j(a,{image:c.imageUrl?U.image:b,sprite:c.spriteCssClass?U.sprite:b,itemWrapper:U.itemWrapper,renderContent:ab.renderContent,arrow:c.items||c.content?U.arrow:b,subGroup:ab.renderGroup},V))},renderGroup:function(a){return U.group(j({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,f=j({length:e},a.group);e>c;c++)b+=ab.renderItem(j(a,{group:f,item:j({index:c},d[c])}));return b}},a,V))},renderContent:function(a){return U.content(j(a,V))}}),c.ui.plugin(ab)}(window.kendo.jQuery),function(a,b){function n(b){return b=null!=b?b:"",b.type||a.type(b)||"string"}function o(b){b.find(":input:not(:button, ["+c.attr("role")+"=upload], ["+c.attr("skip")+"], [type=file]), select").each(function(){var b=c.attr("bind"),d=this.getAttribute(b)||"",e="checkbox"===this.type||"radio"===this.type?"checked:":"value:",f=this.name;-1===d.indexOf(e)&&f&&(d+=(d.length?",":"")+e+f,a(this).attr(b,d))})}function p(a){var f,l,b=(a.model.fields||a.model)[a.field],d=n(b),e=b?b.validation:{},j=c.attr("type"),k=c.attr("bind"),o={name:a.field};for(f in e)l=e[f],i(f,m)>=0?o[j]=f:g(l)||(o[f]=h(l)?l.value||f:l),o[c.attr(f+"-msg")]=l.message;return i(d,m)>=0&&(o[j]=d),o[k]=("boolean"===d?"checked:":"value:")+a.field,o}function q(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;c>b;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}function s(a,b){var d,c=a?a.validation||{}:{};for(d in c)g(c[d])&&(b[d]=c[d])}var c=window.kendo,d=c.ui,e=d.Widget,f=a.extend,g=a.isFunction,h=a.isPlainObject,i=a.inArray,j=/("|'|\[|\]|\$|\.|\:|\+)/g,k='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',l="change",m=["url","email","number","date","boolean"],r={number:function(b,d){var e=p(d);a('<input type="text"/>').attr(e).appendTo(b).kendoNumericTextBox({format:d.format}),a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},date:function(b,d){var e=p(d),f=d.format;f&&(f=c._extractFormat(f)),e[c.attr("format")]=f,a('<input type="text"/>').attr(e).appendTo(b).kendoDatePicker({format:d.format}),a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},string:function(b,c){var d=p(c);a('<input type="text" class="k-input k-textbox"/>').attr(d).appendTo(b)},"boolean":function(b,c){var d=p(c);a('<input type="checkbox" />').attr(d).appendTo(b)},values:function(b,d){var e=p(d);a("<select "+c.attr("text-field")+'="text"'+c.attr("value-field")+'="value"'+c.attr("source")+"='"+c.stringify(q(d.values)).replace(/\'/g,"&apos;")+"'"+c.attr("role")+'="dropdownlist"/>').attr(e).appendTo(b),a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)}},t=e.extend({init:function(b,c){var d=this;e.fn.init.call(d,b,c),d._validateProxy=a.proxy(d._validate,d),d.refresh()},events:[l],options:{name:"Editable",editors:r,clearContainer:!0,errorTemplate:k},editor:function(a,b){var d=this,e=d.options.editors,g=h(a),i=g?a.field:a,k=d.options.model||{},l=g&&a.values,m=l?"values":n(b),o=g&&a.editor,p=o?a.editor:e[m],q=d.element.find("["+c.attr("container-for")+"="+i.replace(j,"\\$1")+"]");p=p?p:e["string"],o&&"string"==typeof a.editor&&(p=function(b){b.append(a.editor)}),q=q.length?q:d.element,p(q,f(!0,{},g?a:{field:i},{model:k}))},_validate:function(b){var f,d=this,e="boolean"==typeof b.value,g=d._validationEventInProgress,h={};h[b.field]=b.value,f=a(":input["+c.attr("bind")+'="'+(e?"checked:":"value:")+b.field.replace(j,"\\$1")+'"]',d.element);try{d._validationEventInProgress=!0,(!d.validatable.validateInput(f)||!g&&d.trigger(l,{values:h}))&&b.preventDefault()}finally{d._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var a=this;e.fn.destroy.call(a),a.options.model.unbind("set",a._validateProxy),c.unbind(a.element),c.destroy(a.element),a.element.removeData("kendoValidator")},refresh:function(){var e,f,l,m,n,p,q,d=this,g=d.options.fields||[],i=d.options.clearContainer?d.element.empty():d.element,j=d.options.model||{},k={};for(a.isArray(g)||(g=[g]),e=0,f=g.length;f>e;e++)l=g[e],m=h(l),n=m?l.field:l,p=(j.fields||j)[n],s(p,k),d.editor(l,p);if(!f){q=j.fields||j;for(n in q)s(q[n],k)}o(i),c.bind(i,d.options.model),d.options.model.bind("set",d._validateProxy),d.validatable=i.kendoValidator({validateOnBlur:!1,errorTemplate:d.options.errorTemplate||b,rules:k}).data("kendoValidator"),i.find(":focusable:first").focus()}});d.plugin(t)}(window.kendo.jQuery),function(a){function p(b,c){b.filters&&(b.filters=a.grep(b.filters,function(a){return p(a,c),a.filters?a.filters.length:a.field!=c}))}function q(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;c>b;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}var c=window.kendo,d=c.ui,e=a.proxy,f="kendoPopup",g="init",h=".kendoFilterMenu",i="Is equal to",j="Is not equal to",k={number:"numerictextbox",date:"datepicker"},l=a.isFunction,m=d.Widget,n='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',o='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',r=m.extend({init:function(b,d){var i,j,f=this,g="string";m.fn.init.call(f,b,d),f.operators=d.operators||{},b=f.element,d=f.options,d.appendToElement||(i=b.addClass("k-filterable").find(".k-grid-filter"),i[0]||(i=b.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),i.attr("tabindex",-1).on("click"+h,e(f._click,f))),f.link=i||a(),f.dataSource=d.dataSource,f.field=d.field||b.attr(c.attr("field")),f.model=f.dataSource.reader.model,f._parse=function(a){return a+""},f.model&&f.model.fields&&(j=f.model.fields[f.field],j&&(g=j.type||"string",j.parse&&(f._parse=e(j.parse,j)))),d.values&&(g="enums"),f.type=g,d.appendToElement&&f._init()},_init:function(){var j,r,b=this,d=b.options,i=b.operators||{},m=d.ui,p=l(m),s=b.type;b._refreshHandler=e(b.refresh,b),b.dataSource.bind("change",b._refreshHandler),i=i[s]||d.operators[s];for(j in i)break;b._defaultFilter=function(){return{field:b.field,operator:j||"eq",value:""}},p||(r=m||k[s]),b.form=a('<form class="k-filter-menu"/>').html(c.template("boolean"===s?n:o)({field:b.field,format:d.format,ns:c.ns,messages:d.messages,extra:d.extra,operators:i,type:s,role:r,values:q(d.values)})).on("keydown"+h,e(b._keydown,b)).on("submit"+h,e(b._submit,b)).on("reset"+h,e(b._reset,b)),d.appendToElement?(b.element.append(b.form),b.popup=b.element.closest(".k-popup").data(f)):b.popup=b.form[f]({anchor:b.link,open:e(b._open,b),activate:e(b._activate,b),close:b.options.closeCallback}).data(f),p&&b.form.find(".k-textbox").removeClass("k-textbox").each(function(){m(a(this))}),b.form.find("["+c.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datepicker]").removeClass("k-textbox"),b.refresh(),b.trigger(g,{field:b.field,container:b.form})},refresh:function(){var a=this,b=a.dataSource.filter()||{filters:[],logic:"and"};a.filterModel=c.observable({logic:"and",filters:[a._defaultFilter(),a._defaultFilter()]}),c.bind(a.form.children().first(),a.filterModel),a._bind(b)?a.link.addClass("k-state-active"):a.link.removeClass("k-state-active")},destroy:function(){var a=this;m.fn.destroy.call(a),a.form&&(c.unbind(a.form),c.destroy(a.form),a.form.unbind(h),a.popup.destroy()),a.link.unbind(h),a.dataSource.unbind("change",a._refreshHandler)},_bind:function(a){var d,e,i,j,b=this,c=a.filters,f=!1,g=0,h=b.filterModel;for(d=0,e=c.length;e>d;d++)j=c[d],j.field==b.field?(h.set("logic",a.logic),i=h.filters[g],i||(h.filters.push({field:b.field}),i=h.filters[g]),i.set("value",b._parse(j.value)),i.set("operator",j.operator),g++,f=!0):j.filters&&(f=f||b._bind(j));return f},_merge:function(b){var f,h,i,c=this,d=b.logic||"and",e=b.filters,g=c.dataSource.filter()||{filters:[],logic:"and"};for(p(g,c.field),e=a.grep(e,function(a){return""!==a.value}),h=0,i=e.length;i>h;h++)f=e[h],f.value=c._parse(f.value);return e.length&&(g.filters.length?(b.filters=e,"and"!==g.logic&&(g.filters=[{logic:g.logic,filters:g.filters}],g.logic="and"),e.length>1?g.filters.push(b):g.filters.push(e[0])):(g.filters=e,g.logic=d)),g},filter:function(a){a=this._merge(a),a.filters.length&&this.dataSource.filter(a)},clear:function(){var b=this,c=b.dataSource.filter()||{filters:[]};c.filters=a.grep(c.filters,function(c){return c.filters?(c.filters=a.grep(c.filters,function(a){return a.field!=b.field}),c.filters.length):c.field!=b.field}),c.filters.length||(c=null),b.dataSource.filter(c)},_submit:function(a){var b=this;a.preventDefault(),b.filter(b.filterModel.toJSON()),b.popup.close()},_reset:function(){this.clear(),this.popup.close()},_click:function(a){a.preventDefault(),a.stopPropagation(),this.popup||this._init(),this.popup.toggle()},_open:function(){var b;a(".k-filter-menu").not(this.form).each(function(){b=a(this).data(f),b&&b.close()})},_activate:function(){this.form.find(":focusable:first").focus()},_keydown:function(a){a.keyCode==c.keys.ESC&&this.popup.close()},events:[g],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:i,neq:j,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:i,neq:j,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:i,neq:j,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:i,neq:j}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-"}}});d.plugin(r)}(window.kendo.jQuery),function(a,b){function $(b){b=a(b),b.children(p).children(".k-icon").remove(),b.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var b=a(this),c=b.parent();b.append("<span class='k-icon "+(c.hasClass(E)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function _(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(v),b.filter(".k-last:not(:last-child)").removeClass(n),b.filter(":first-child").addClass(v),b.filter(":last-child").addClass(n)}var c=window.kendo,d=c.ui,e=c.keys,f=a.extend,g=a.each,h=c.template,i=d.Widget,j=/^(ul|a|div)$/i,k=".kendoPanelBar",l="img",m="href",n="k-last",o="k-link",p="."+o,q="error",r=".k-item",s=".k-group",t=s+":visible",u="k-image",v="k-first",w="expand",x="select",y="k-content",z="activate",A="collapse",B="mouseenter",C="mouseleave",D="contentLoad",E="k-state-active",F="> .k-panel",G="> .k-content",H="k-state-focused",I="k-state-disabled",J="k-state-selected",K="."+J,L="k-state-highlighted",M=r+":not(.k-state-disabled)",N=M+" > .k-link",O=r+".k-state-disabled > .k-link",P="> li > "+K+", .k-panel > li > "+K,Q="k-state-default",R="aria-disabled",S="aria-expanded",T="aria-hidden",U="aria-selected",V=":visible",W=":empty",X="single",Y={content:h("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:h("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:h("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:h("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:h("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:h("<span class='#= arrowClass(item) #'></span>"),sprite:h("<span class='k-sprite #= spriteCssClass #'></span>"),empty:h("")},Z={aria:function(a){var b="";return(a.items||a.content||a.contentUrl)&&(b+=S+"='"+(a.expanded?"true":"false")+"' "),a.enabled===!1&&(b+=R+"='true'"),b},wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" "+I:b.expanded===!0?" "+E:" k-state-default",0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(a,b){var c=o;return b.firstLevel&&(c+=" k-header"),c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a){var b="k-icon";return b+=a.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand"},text:function(a){return a.encoded===!1?a.text:c.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(a){return a.item.expanded!==!0?" style='display:none'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?c.attr("content-url")+'="'+a.contentUrl+'"':""}},ab=i.extend({init:function(b,d){var f,e=this;i.fn.init.call(e,b,d),b=e.wrapper=e.element.addClass("k-widget k-reset k-header k-panelbar"),d=e.options,b[0].id&&(e._itemId=b[0].id+"_pb_active"),e._tabindex(),e._initData(d),e._updateClasses(),e._animations(d),b.on("click"+k,N,function(b){e._click(a(b.currentTarget))&&b.preventDefault()}).on(B+k+" "+C+k,N,e._toggleHover).on("click"+k,O,!1).on("keydown"+k,a.proxy(e._keydown,e)).on("focus"+k,function(){var a=e.select();e._current(a[0]?a:e._first())}).on("blur"+k,function(){e._current(null)}).attr("role","menu"),f=b.find("li."+E+" > ."+y),f[0]&&e.expand(f.parent(),!1),c.notify(e)
},events:[w,A,x,z,q,D],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){i.fn.destroy.call(this),this.element.off(k),c.destroy(this.element)},_initData:function(a){var b=this;a.dataSource&&(b.element.empty(),b.append(a.dataSource,b.element))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=f(!0,b,a.animation),"dataSource"in a&&this._initData(a),i.fn.setOptions.call(this,a)},expand:function(b,c){var d=this,e={};return c=c!==!1,b=this.element.find(b),b.each(function(f,g){g=a(g);var h=g.find(F).add(g.find(G));if(!g.hasClass(I)&&h.length>0){if(d.options.expandMode==X&&d._collapseAllExpanded(g))return d;b.find("."+L).removeClass(L),g.addClass(L),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(w,g)||d._toggleItem(g,!1),c||(d.options.animation=e)}}),d},collapse:function(b,c){var d=this,e={};return c=c!==!1,b=d.element.find(b),b.each(function(b,f){f=a(f);var g=f.find(F).add(f.find(G));!f.hasClass(I)&&g.is(V)&&(f.removeClass(L),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(A,f)||d._toggleItem(f,!0),c||(d.options.animation=e))}),d},_toggleDisabled:function(a,b){a=this.element.find(a),a.toggleClass(Q,b).toggleClass(I,!b).attr(R,!b)},select:function(c){var d=this;return c===b?d.element.find(P).parent():(d.element.find(c).each(function(){var b=a(this),c=b.children(p);return b.hasClass(I)?d:(d._updateSelected(c),void 0)}),d)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find(F):null);return g(c.items,function(){c.group.append(this),_(this)}),$(b),_(c.group.find(".k-first, .k-last")),c.group.height("auto"),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return g(c.items,function(){b.before(this),_(this)}),_(b),c.group.height("auto"),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return g(c.items,function(){b.after(this),_(this)}),_(b),c.group.height("auto"),this},remove:function(a){a=this.element.find(a);var b=this,c=a.parentsUntil(b.element,r),d=a.parent("ul");return a.remove(),!d||d.hasClass("k-panelbar")||d.children(r).length||d.remove(),c.length&&(c=c.eq(0),$(c),_(c)),b},reload:function(b){var c=this;b=c.element.find(b),b.each(function(){var b=a(this);c._ajaxRequest(b,b.children("."+y),!b.is(V))})},_first:function(){return this.element.children(M).first()},_last:function(){var a=this.element.children(M).last(),b=a.children(t);return b[0]?b.children(M).last():a},_current:function(a){var c=this,d=c._focused,e=c._itemId;return a===b?d:(c.element.removeAttr("aria-activedescendant"),d&&(d[0].id===e&&d.removeAttr("id"),d.children(p).removeClass(H)),a&&(e=a[0].id||e,a.attr("id",e).children(p).addClass(H),c.element.attr("aria-activedescendant",e)),c._focused=a,void 0)},_keydown:function(a){var b=this,c=a.keyCode,d=b._current();a.target==a.currentTarget&&(c==e.DOWN||c==e.RIGHT?(b._current(b._nextItem(d)),a.preventDefault()):c==e.UP||c==e.LEFT?(b._current(b._prevItem(d)),a.preventDefault()):c==e.ENTER||c==e.SPACEBAR?(b._click(d.children(p)),a.preventDefault()):c==e.HOME?(b._current(b._first()),a.preventDefault()):c==e.END&&(b._current(b._last()),a.preventDefault()))},_nextItem:function(a){if(!a)return this._first();var b=a.children(t),c=a.next();return b[0]&&(c=b.children("."+v)),c[0]||(c=a.parent(t).parent(r).next()),c[0]&&c.is(":visible")||(c=this._first()),c.hasClass(I)&&(c=this._nextItem(c)),c},_prevItem:function(a){if(!a)return this._last();var c,b=a.prev();if(b[0])for(c=b;c[0];)c=c.children(t).children("."+n),c[0]&&(b=c);else b=a.parent(t).parent(r),b[0]||(b=this._last());return b.hasClass(I)&&(b=this._prevItem(b)),b},_insert:function(b,c,d){var g,j,e=this,h=a.isPlainObject(b),i=c&&c[0];return i||(d=e.element),j={firstLevel:d.hasClass("k-panelbar"),expanded:d.parent().hasClass(E),length:d.children().length},i&&!d.length&&(d=a(ab.renderGroup({group:j})).appendTo(c)),h||a.isArray(b)?(g=a.map(h?[b]:b,function(b,c){return"string"==typeof b?a(b):a(ab.renderItem({group:j,item:f(b,{index:c})}))}),i&&c.attr(S,!1)):(g=a(b),e._updateItemsClasses(g)),{items:g,group:d}},_toggleHover:function(b){var c=a(b.currentTarget);c.parents("li."+I).length||c.toggleClass("k-state-hover",b.type==B)},_updateClasses:function(){var c,d,b=this;c=b.element.find("li > ul").not(function(){return a(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group"),c.parent().attr(S,!1).not("."+E).children("ul").attr(T,!0).hide(),d=b.element.add(c).children(),b._updateItemsClasses(d),$(d),_(d)},_updateItemsClasses:function(a){for(var b=a.length,c=0;b>c;c++)this._updateItemClasses(a[c],c)},_updateItemClasses:function(b,c){var h,i,d=this._selected,e=this.options.contentUrls,f=e&&e[c],g=this.element[0];b=a(b).addClass("k-item").attr("role","menuitem"),b.children(l).addClass(u),i=b.children("a").addClass(o),i[0]&&(i.attr("href",f),i.children(l).addClass(u)),b.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),b.filter("li[disabled]").addClass("k-state-disabled").attr(R,!0).removeAttr("disabled"),b.children("div").addClass(y).attr("role","region").attr(T,!0).hide().parent().attr(S,!1),i=b.children(K),i[0]&&(d&&d.removeAttr(U).children(K).removeClass(J),i.addClass(J),this._selected=b.attr(U,!0)),b.children(p)[0]||(h="<span class='"+o+"'/>",e&&e[c]&&b[0].parentNode==g&&(h='<a class="k-link k-header" href="'+e[c]+'"/>'),b.contents().filter(function(){return!(this.nodeName.match(j)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll(h)),b.parent(".k-panelbar")[0]&&b.children(p).addClass("k-header")},_click:function(a){var d,e,f,g,h,i,j,b=this,c=b.element;if(!a.parents("li."+I).length&&a.closest(".k-widget")[0]==c[0]){if(h=a.closest(p),i=h.closest(r),b._updateSelected(h),e=i.find(F).add(i.find(G)),f=h.attr(m),g=f&&("#"==f.charAt(f.length-1)||-1!=f.indexOf("#"+b.element[0].id+"-")),d=!(!g&&!e.length),e.data("animating"))return d;if(b._triggerEvent(x,i)&&(d=!0),d!==!1)return b.options.expandMode==X&&b._collapseAllExpanded(i)?d:(e.length&&(j=e.is(V),b._triggerEvent(j?A:w,i)||(d=b._toggleItem(i,j))),d)}},_toggleItem:function(a,b){var e,f,c=this,d=a.find(F);return d.length?(this._toggleGroup(d,b),e=!0):(f=a.children("."+y),f.length&&(e=!0,f.is(W)?c._ajaxRequest(a,f,b):c._toggleGroup(f,b))),e},_toggleGroup:function(a,b){var c=this,d=c.options.animation,e=d.expand,g=f({},d.collapse),h=g&&"effects"in g;a.is(V)==b&&(a.parent().attr(S,!b).attr(T,b).toggleClass(Q,b).toggleClass(E,!b).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!b).toggleClass("k-panelbar-collapse",!b).toggleClass("k-i-arrow-s",b).toggleClass("k-panelbar-expand",b),e=b?f(h?g:f({reverse:!0},e),{hide:!0}):f({complete:function(a){c._triggerEvent(z,a.closest(r))}},e),a.kendoStop(!0,!0).kendoAnimate(e))},_collapseAllExpanded:function(b){var d,f,c=this,e=!1;return b.children(p).hasClass("k-header")?(f=b.find(F).add(b.find(G)),f.is(V)&&(e=!0),f.is(V)||0===f.length||(d=a(c.element).children(),d.find(F).add(d.find(G)).filter(function(){return a(this).is(V)}).each(function(b,d){d=a(d),e=c._triggerEvent(A,d.closest(r)),e||c._toggleGroup(d,!0)})),e):void 0},_ajaxRequest:function(b,c,d){var e=this,f=b.find(".k-panelbar-collapse, .k-panelbar-expand"),g=b.find(p),h=setTimeout(function(){f.addClass("k-loading")},100),i={},j=g.attr(m);a.ajax({type:"GET",cache:!1,url:j,dataType:"html",data:i,error:function(a,b){f.removeClass("k-loading"),e.trigger(q,{xhr:a,status:b})&&this.complete()},complete:function(){clearTimeout(h),f.removeClass("k-loading")},success:function(a){try{c.html(a)}catch(f){var g=window.console;g&&g.error&&g.error(f.name+": "+f.message+" in "+j),this.error(this.xhr,"error")}e._toggleGroup(c,d),e.trigger(D,{item:b[0],contentElement:c[0]})}})},_triggerEvent:function(a,b){var c=this;return c.trigger(a,{item:b[0]})},_updateSelected:function(a){var b=this,c=b.element,d=a.parent(r),e=b._selected;e&&e.removeAttr(U),b._selected=d.attr(U,!0),c.find(P).removeClass(J),c.find("> .k-state-highlighted, .k-panel > .k-state-highlighted").removeClass(L),a.addClass(J),a.parentsUntil(c,r).filter(":has(.k-header)").addClass(L),b._current(d)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})}});f(ab,{renderItem:function(a){a=f({panelBar:{},group:{}},a);var b=Y.empty,c=a.item;return Y.item(f(a,{image:c.imageUrl?Y.image:b,sprite:c.spriteCssClass?Y.sprite:b,itemWrapper:Y.itemWrapper,renderContent:ab.renderContent,arrow:c.items||c.content||c.contentUrl?Y.arrow:b,subGroup:ab.renderGroup},Z))},renderGroup:function(a){return Y.group(f({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,g=f({length:e},a.group);e>c;c++)b+=ab.renderItem(f(a,{group:g,item:f({index:c},d[c])}));return b}},a,Z))},renderContent:function(a){return Y.content(f(a,Z))}}),c.ui.plugin(ab)}(window.kendo.jQuery),function(a,b){function O(b){b.children(n).addClass(v),b.children("a").addClass(q).children(n).addClass(v),b.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(F),b.filter("li[disabled]").addClass(E).removeAttr("disabled"),b.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(G+" "+J),b.attr("role","tab"),b.filter("."+G).attr("aria-selected",!0),b.each(function(){var b=a(this);b.children("."+q).length||b.contents().filter(function(){return!(this.nodeName.match(l)||3==this.nodeType&&!h(this.nodeValue))}).wrapAll("<a class='"+q+"'/>")})}function P(a){var b=a.children(".k-item");b.filter(".k-first:not(:first-child)").removeClass(w),b.filter(".k-last:not(:last-child)").removeClass(r),b.filter(":first-child").addClass(w),b.filter(":last-child").addClass(r)}var c=window.kendo,d=c.ui,e=c.keys,f=a.map,g=a.each,h=a.trim,i=a.extend,j=c.template,k=d.Widget,l=/^(a|div)$/i,m=".kendoTabStrip",n="img",o="href",p="prev",q="k-link",r="k-last",s="click",t="error",u=":empty",v="k-image",w="k-first",x="select",y="activate",z="k-content",A="contentUrl",B="mouseenter",C="mouseleave",D="contentLoad",E="k-state-disabled",F="k-state-default",G="k-state-active",H="k-state-focused",I="k-state-hover",J="k-tab-on-top",K=".k-item:not(."+E+")",L=".k-tabstrip-items > "+K+":not(."+G+")",M={content:j("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:j("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:j("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:j("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:j("<span class='k-sprite #= spriteCssClass #'></span>"),empty:j("")},N={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" k-state-disabled":" k-state-default",0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},text:function(a){return a.encoded===!1?a.text:c.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},contentAttributes:function(a){return a.active!==!0?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?c.attr("content-url")+'="'+a.contentUrl+'"':""}},Q=k.extend({init:function(b,d){var f,g,e=this;k.fn.init.call(e,b,d),e._animations(e.options),e.wrapper=e.element.is("ul")?e.element.wrapAll("<div />").parent():e.element,d=e.options,e._isRtl=c.support.isRtl(e.wrapper),e._tabindex(),e._updateClasses(),e._dataSource(),d.dataSource&&e.dataSource.fetch(),e.options.contentUrls&&e.wrapper.find(".k-tabstrip-items > .k-item").each(function(b,c){a(c).find(">."+q).data(A,e.options.contentUrls[b])}),e.wrapper.on(B+m+" "+C+m,L,e._toggleHover).on("keydown"+m,a.proxy(e._keydown,e)).on("focus"+m,a.proxy(e._active,e)).on("blur"+m,function(){e._current(null)}),e.wrapper.children(".k-tabstrip-items").on(s+m,".k-state-disabled .k-link",!1).on(s+m," > "+K,function(b){e._click(a(b.currentTarget))&&b.preventDefault()}),f=e.tabGroup.children("li."+G),g=e.contentHolder(f.index()),g.length>0&&0===g[0].childNodes.length&&e.activateTab(f.eq(0)),e.element.attr("role","tablist"),e.element[0].id&&(e._ariaId=e.element[0].id+"_ts_active"),c.notify(e)},_active:function(){var a=this.tabGroup.children().filter("."+G);a=a[0]?a:this._endItem("first"),a[0]&&this._current(a)},_endItem:function(a){return this.tabGroup.children(K)[a]()},_item:function(a,b){var c;return c=b===p?"last":"first",a?(a=a[b](),a[0]||(a=this._endItem(c)),a.hasClass(E)&&(a=this._item(a,b)),a):this._endItem(c)},_current:function(a){var c=this,d=c._focused,e=c._ariaId;return a===b?d:(d&&(d[0].id===e&&d.removeAttr("id"),d.removeClass(H)),a&&(a.hasClass(G)||a.addClass(H),c.element.removeAttr("aria-activedescendant"),e=a[0].id||e,e&&(a.attr("id",e),c.element.attr("aria-activedescendant",e))),c._focused=a,void 0)},_keydown:function(a){var g,b=this,c=a.keyCode,d=b._current(),f=b._isRtl;if(a.target==a.currentTarget){if(c==e.DOWN||c==e.RIGHT)g=f?p:"next";else if(c==e.UP||c==e.LEFT)g=f?"next":p;else if(c==e.ENTER||c==e.SPACEBAR)b._click(d),a.preventDefault();else{if(c==e.HOME)return b._click(b._endItem("first")),a.preventDefault(),void 0;if(c==e.END)return b._click(b._endItem("last")),a.preventDefault(),void 0}g&&(b._click(b._item(d,g)),a.preventDefault())}},_dataSource:function(){var b=this;b.dataSource&&b._refreshHandler?b.dataSource.unbind("change",b._refreshHandler):b._refreshHandler=a.proxy(b.refresh,b),b.dataSource=c.data.DataSource.create(b.options.dataSource).bind("change",b._refreshHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),a.fetch()},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(a){var k,m,n,p,b=this,d=b.options,e=c.getter(d.dataTextField),f=c.getter(d.dataContentField),g=c.getter(d.dataContentUrlField),h=c.getter(d.dataImageUrlField),i=c.getter(d.dataUrlField),j=c.getter(d.dataSpriteCssClass),l=[],o=b.dataSource.view();for(a=a||{},n=a.action,n&&(o=a.items),k=0,p=o.length;p>k;k++)m={text:e(o[k])},d.dataContentField&&(m.content=f(o[k])),d.dataContentUrlField&&(m.contentUrl=g(o[k])),d.dataUrlField&&(m.url=i(o[k])),d.dataImageUrlField&&(m.imageUrl=h(o[k])),d.dataSpriteCssClass&&(m.spriteCssClass=j(o[k])),l[k]=m;if("add"==a.action)a.index<b.tabGroup.children().length?b.insertBefore(l,b.tabGroup.children().eq(a.index)):b.append(l);else if("remove"==a.action)for(k=0;k<o.length;k++)b.remove(a.index);else"itemchange"==a.action?(k=b.dataSource.view().indexOf(o[0]),a.field===d.dataTextField&&b.tabGroup.children().eq(k).find(".k-link").text(o[0].get(a.field))):(b.trigger("dataBinding"),b.remove("li"),b.append(l),b.trigger("dataBound"))},value:function(c){var d=this;return c===b?d.select().text():(c!=d.value()&&d.tabGroup.children().each(function(){a.trim(a(this).text())==c&&d.select(this)}),void 0)},items:function(){return this.tabGroup[0].children},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=i(!0,b,a.animation),k.fn.setOptions.call(this,a)},events:[x,y,t,D,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1},destroy:function(){var a=this;k.fn.destroy.call(a),a._refreshHandler&&a.dataSource.unbind("change",a._refreshHandler),a.wrapper.off(m),c.destroy(a.wrapper)},select:function(b){var c=this;return 0===arguments.length?c.tabGroup.children("li."+G):(isNaN(b)||(b=c.tabGroup.children().get(b)),b=c.tabGroup.find(b),a(b).each(function(b,d){d=a(d),d.hasClass(G)||c.trigger(x,{item:d[0],contentElement:c.contentHolder(d.index())[0]})||c.activateTab(d)}),c)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},reload:function(b){b=this.tabGroup.find(b);var c=this;return b.each(function(){var b=a(this),d=b.find("."+q).data(A),e=c.contentHolder(b.index());d&&c.ajaxRequest(b,e,null,d)}),c},append:function(a){var b=this,c=b._create(a);return g(c.tabs,function(a){b.tabGroup.append(this),b.wrapper.append(c.contents[a])}),P(b.tabGroup),b._updateContentElements(),b},insertBefore:function(b,c){var d=this,e=d._create(b),f=a(d.contentElement(c.index()));return g(e.tabs,function(a){c.before(this),f.before(e.contents[a])}),P(d.tabGroup),d._updateContentElements(),d},insertAfter:function(b,c){var d=this,e=d._create(b),f=a(d.contentElement(c.index()));return g(e.tabs,function(a){c.after(this),f.after(e.contents[a])}),P(d.tabGroup),d._updateContentElements(),d},remove:function(b){var c=this,d=typeof b,e=a();return"string"===d?b=c.tabGroup.find(b):"number"===d&&(b=c.tabGroup.children().eq(b)),b.each(function(){e.push(c.contentElement(a(this).index()))}),b.remove(),e.remove(),c._updateContentElements(),c},_create:function(b){var e,g,c=a.isPlainObject(b),d=this;return c||a.isArray(b)?(b=a.isArray(b)?b:[b],e=f(b,function(b,c){return a(Q.renderItem({group:d.tabGroup,item:i(b,{index:c})}))}),g=f(b,function(b,c){return b.content||b.contentUrl?a(Q.renderContent({item:i(b,{index:c})})):void 0})):(e=a(b),g=a("<div class='"+z+"'/>"),O(e)),{tabs:e,contents:g}},_toggleDisabled:function(b,c){b=this.tabGroup.find(b),b.each(function(){a(this).toggleClass(F,c).toggleClass(E,!c)})},_updateClasses:function(){var d,e,f,c=this;c.wrapper.addClass("k-widget k-header k-tabstrip"),c.tabGroup=c.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),c.tabGroup[0]||(c.tabGroup=a("<ul class='k-tabstrip-items k-reset'/>").appendTo(c.wrapper)),d=c.tabGroup.find("li").addClass("k-item"),d.length&&(e=d.filter("."+G).index(),f=e>=0?e:b,c.tabGroup.contents().filter(function(){return 3==this.nodeType&&!h(this.nodeValue)}).remove()),e>=0&&d.eq(e).addClass(J),c.contentElements=c.wrapper.children("div"),c.contentElements.addClass(z).eq(f).addClass(G).css({display:"block"}),d.length&&(O(d),P(c.tabGroup),c._updateContentElements())},_updateContentElements:function(){var b=this,d=b.options.contentUrls||[],e=b.element.attr("id"),f=b.wrapper.children("div");b.tabGroup.find(".k-item").each(function(c){var g=f.eq(c),h=e+"-"+(c+1);this.setAttribute("aria-controls",h),!g.length&&d[c]?a("<div id='"+h+"' class='"+z+"'/>").appendTo(b.wrapper):g.attr("id",h),g.attr("role","tabpanel"),g.filter(":not(."+G+")").attr("aria-hidden",!0).attr("aria-expanded",!1),g.filter("."+G).attr("aria-expanded",!0)}),b.contentElements=b.contentAnimators=b.wrapper.children("div"),c.kineticScrollNeeded&&c.mobile.ui.Scroller&&(c.touchScroller(b.contentElements),b.contentElements=b.contentElements.children(".km-scroll-container"))},_toggleHover:function(b){a(b.currentTarget).toggleClass(I,b.type==B)},_click:function(a){var g,h,b=this,c=a.find("."+q),d=c.attr(o),e=b.options.collapsible,f=b.contentHolder(a.index());if(a.closest(".k-widget")[0]==b.wrapper[0]){if(a.is("."+E+(e?"":",."+G)))return!0;if(h=c.data(A)||d&&("#"==d.charAt(d.length-1)||-1!=d.indexOf("#"+b.element[0].id+"-")),g=!d||h,b.tabGroup.children("[data-animating]").length)return g;if(b.trigger(x,{item:a[0],contentElement:f[0]}))return!0;if(g!==!1)return e&&a.is("."+G)?(b.deactivateTab(a),!0):(b.activateTab(a)&&(g=!0),g)}},deactivateTab:function(a){var b=this,d=b.options.animation,e=d.open,f=i({},d.close),g=f&&"effects"in f;a=b.tabGroup.find(a),f=i(g?f:i({reverse:!0},e),{hide:!0}),c.size(e.effects)?(a.kendoAddClass(F,{duration:e.duration}),a.kendoRemoveClass(G,{duration:e.duration})):(a.addClass(F),a.removeClass(G)),a.removeAttr("aria-selected"),b.contentAnimators.filter("."+G).kendoStop(!0,!0).kendoAnimate(f).removeClass(G).attr("aria-hidden",!0)},activateTab:function(a){var b,d,e,f,g,h,j,k,l,m,n,o,p,r,s;return a=this.tabGroup.find(a),b=this,d=b.options.animation,e=d.open,f=i({},d.close),g=f&&"effects"in f,h=a.parent().children(),j=h.filter("."+G),k=h.index(a),f=i(g?f:i({reverse:!0},e),{hide:!0}),c.size(e.effects)?(j.kendoRemoveClass(G,{duration:f.duration}),a.kendoRemoveClass(I,{duration:f.duration})):(j.removeClass(G),a.removeClass(I)),l=b.contentAnimators,a.data("in-request")&&(b.xhr.abort(),a.removeAttr("data-in-request")),0===l.length?(j.removeClass(J),a.addClass(J).css("z-index"),a.addClass(G),b._current(a),b.trigger("change"),!1):(m=l.filter("."+G),n=b.contentHolder(k),o=n.closest(".k-content"),0===n.length?(m.removeClass(G).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(f),!1):(a.attr("data-animating",!0),p=(a.children("."+q).data(A)||!1)&&n.is(u),r=function(){j.removeClass(J),a.addClass(J).css("z-index"),c.size(e.effects)?(j.kendoAddClass(F,{duration:e.duration}),a.kendoAddClass(G,{duration:e.duration})):(j.addClass(F),a.addClass(G)),j.removeAttr("aria-selected"),a.attr("aria-selected",!0),b._current(a),o.addClass(G).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(i({init:function(){b.trigger(y,{item:a[0],contentElement:n[0]})}},e,{complete:function(){a.removeAttr("data-animating")}}))},s=function(){p?(a.removeAttr("data-animating"),b.ajaxRequest(a,n,function(){a.attr("data-animating",!0),r(),b.trigger("change")})):(r(),b.trigger("change"))},m.removeClass(G),m.attr("aria-hidden",!0),m.attr("aria-expanded",!1),m.length?m.kendoStop(!0,!0).kendoAnimate(i({complete:s},f)):s(),!0))},contentElement:function(a){var d,e,f,g;if(isNaN(a-0))return b;if(d=this.contentElements&&this.contentElements[0]&&!c.kineticScrollNeeded?this.contentElements:this.contentAnimators,e=new RegExp("-"+(a+1)+"$"),d)for(f=0,g=d.length;g>f;f++)if(e.test(d.closest(".k-content")[f].id))return d[f];return b},contentHolder:function(b){var d=a(this.contentElement(b)),e=d.children(".km-scroll-container");return c.support.touch&&e[0]?e:d},ajaxRequest:function(b,c,d,e){if(b=this.tabGroup.find(b),!b.find(".k-loading").length){var f=this,g=b.find("."+q),h={},i=null,j=setTimeout(function(){i=a("<span class='k-icon k-loading'/>").prependTo(g)},100);e=e||g.data(A)||g.attr(o),b.attr("data-in-request",!0),f.xhr=a.ajax({type:"GET",cache:!1,url:e,dataType:"html",data:h,error:function(a,b){f.trigger("error",{xhr:a,status:b})&&this.complete()},complete:function(){b.removeAttr("data-in-request"),clearTimeout(j),null!==i&&i.remove()},success:function(a){try{c.html(a)}catch(g){var h=window.console;h&&h.error&&h.error(g.name+": "+g.message+" in "+e),this.error(this.xhr,"error")}d&&d.call(f,c),f.trigger(D,{item:b[0],contentElement:c[0]})}})}}});i(Q,{renderItem:function(a){a=i({tabStrip:{},group:{}},a);var b=M.empty,c=a.item;return M.item(i(a,{image:c.imageUrl?M.image:b,sprite:c.spriteCssClass?M.sprite:b,itemWrapper:M.itemWrapper},N))},renderContent:function(a){return M.content(i(a,N))}}),c.ui.plugin(Q)}(window.kendo.jQuery),function(a,b){function P(a,b,c){var e,d=a.getTimezoneOffset();a.setTime(a.getTime()+b),c||(e=a.getTimezoneOffset()-d,a.setTime(a.getTime()+e*y))}function Q(){var a=new M,b=new M(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),c=new M(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0);return-1*(b.getTimezoneOffset()-c.getTimezoneOffset())}function R(a){return 60*a.getHours()*y+a.getMinutes()*y+1e3*a.getSeconds()+a.getMilliseconds()}function S(a,b,c){var f,d=R(b),e=R(c);return a&&d!=e?(f=R(a),d>f&&(f+=z),d>e&&(e+=z),f>=d&&e>=f):!0}function U(a){var b=a.parseFormats;a.format=f(a.format||c.getCulture(a.culture).calendars.standard.patterns.t),b=J(b)?b:[b],b.splice(0,0,a.format),a.parseFormats=b}function V(a){a.preventDefault()}var O,T,c=window.kendo,d=c.keys,e=c._activeElement,f=c._extractFormat,g=c.support,h=g.browser,i=c.ui,j=i.Widget,k="open",l="close",m="change",n=".kendoTimePicker",o="click"+n,p="k-state-default",q="disabled",r="readonly",s="li",t="<span/>",u="k-state-focused",v="k-state-hover",w="mouseenter"+n+" mouseleave"+n,x="mousedown"+n,y=6e4,z=864e5,A="k-state-selected",B="k-state-disabled",C="aria-selected",D="aria-expanded",E="aria-hidden",F="aria-disabled",G="aria-readonly",H="aria-activedescendant",I="id",J=a.isArray,K=a.extend,L=a.proxy,M=Date,N=new M;N=new M(N.getFullYear(),N.getMonth(),N.getDate(),0,0,0),O=function(b){var d=this,e=b.id;d.options=b,d.ul=a('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:g.kineticScrollNeeded?"":"auto"}).on(o,s,L(d._click,d)).on("mouseenter"+n,s,function(){a(this).addClass(v)}).on("mouseleave"+n,s,function(){a(this).removeClass(v)}),d.list=a("<div class='k-list-container'/>").append(d.ul).on(x,V),e&&(d._timeViewID=e+"_timeview",d._optionID=e+"_option_selected",d.ul.attr(I,d._timeViewID)),d._popup(),d.template=c.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})},O.prototype={current:function(c){var d=this,e=d.options.active;return c===b?d._current:(d._current&&d._current.removeClass(A).removeAttr(C).removeAttr(I),c&&(c=a(c).addClass(A).attr(I,d._optionID).attr(C,!0),d.scroll(c[0])),d._current=c,e&&e(c),void 0)},close:function(){this.popup.close()},destroy:function(){var a=this;a.ul.off(n),a.list.off(n),a.popup.destroy()},open:function(){var a=this;a.ul[0].firstChild||a.bind(),a.popup.open(),a._current&&a.scroll(a._current[0])},dataBind:function(a){for(var j,b=this,d=b.options,e=d.format,f=c.toString,g=b.template,h=a.length,i=0,k="";h>i;i++)j=a[i],S(j,d.min,d.max)&&(k+=g(f(j,e,d.culture)));b._html(k,h)},refresh:function(){var p,q,s,a=this,b=a.options,d=b.format,e=Q(),f=0>e,g=b.min,h=b.max,i=R(g),j=R(h),k=b.interval*y,l=c.toString,m=a.template,n=new M(+g),o=n.getDate(),r=0,t="";for(s=f?(z+e*y)/k:z/k,i!=j&&(i>j&&(j+=z),s=(j-i)/k+1),q=parseInt(s,10);s>r;r++)r&&P(n,k,f),j&&q==r&&(p=R(n),o<n.getDate()&&(p+=z),p>j&&(n=new M(+h))),t+=m(l(n,d,b.culture));a._html(t,s)},bind:function(){var a=this,b=a.options.dates;b&&b[0]?a.dataBind(b):a.refresh()},_html:function(a,b){var c=this;c.ul[0].innerHTML=a,c._height(b),c.current(null),c.select(c._value)},scroll:function(a){if(a){var b=this.ul[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d;b.scrollTop=e>c?c:g>e+f?g-f:e}},select:function(b){var d=this,e=d.options,f=d._current;b instanceof Date&&(b=c.toString(b,e.format,e.culture)),"string"==typeof b&&(f&&f.text()===b?b=f:(b=a.grep(d.ul[0].childNodes,function(a){return(a.textContent||a.innerText)==b}),b=b[0]?b:null)),d.current(b)},toggle:function(){var a=this;a.popup.visible()?a.close():a.open()},value:function(a){var b=this;b._value=a,b.ul[0].firstChild&&b.select(a)},_click:function(b){var c=this,d=a(b.currentTarget);b.isDefaultPrevented()||(c.select(d),c.options.change(d.text(),!0),c.close())},_height:function(a){if(a){var b=this,c=b.list,d=c.parent(".k-animation-container"),e=b.options.height;c.add(d).show().height(b.ul[0].scrollHeight>e?e:"auto").hide()}},_parse:function(a){var b=this,d=b.options,e=b._value||N;return a instanceof M?a:(a=c.parseDate(a,d.parseFormats,d.culture),a&&(a=new M(e.getFullYear(),e.getMonth(),e.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())),a)},_adjustListWidth:function(){var d,e,a=this.list,b=a[0].style.width,c=this.options.anchor;(a.data("width")||!b)&&(d=window.getComputedStyle?window.getComputedStyle(c[0],null):0,e=d?parseFloat(d.width):c.outerWidth(),d&&(h.mozilla||h.msie)&&(e+=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)+parseFloat(d.borderLeftWidth)+parseFloat(d.borderRightWidth)),b=e-(a.outerWidth()-a.width()),a.css({fontFamily:c.css("font-family"),width:b}).data("width",b))},_popup:function(){var a=this,b=a.list,d=a.options,e=d.anchor;a.popup=new i.Popup(b,K(d.popup,{anchor:e,open:d.open,close:d.close,animation:d.animation,isRtl:g.isRtl(d.anchor)})),c.touchScroller(a.popup.element)},move:function(a){var b=this,c=a.keyCode,e=b.ul[0],f=b._current,g=c===d.DOWN;if(c===d.UP||g){if(a.altKey)return b.toggle(g),void 0;f=g?f?f[0].nextSibling:e.firstChild:f?f[0].previousSibling:e.lastChild,f&&b.select(f),b.options.change(b._current.text()),a.preventDefault()}else(c===d.ENTER||c===d.TAB||c===d.ESC)&&(a.preventDefault(),f&&b.options.change(f.text(),!0),b.close())}},O.getMilliseconds=R,c.TimeView=O,T=j.extend({init:function(a,b){var e,f,g,d=this;j.fn.init.call(d,a,b),a=d.element,b=d.options,U(b),d._wrapper(),d.timeView=f=new O(K({},b,{id:a.attr(I),anchor:d.wrapper,format:b.format,change:function(b,c){c?d._change(b):a.val(b)},open:function(b){d.timeView._adjustListWidth(),d.trigger(k)?b.preventDefault():(a.attr(D,!0),e.attr(E,!1))},close:function(b){d.trigger(l)?b.preventDefault():(a.attr(D,!1),e.attr(E,!0))},active:function(b){a.removeAttr(H),b&&a.attr(H,f._optionID)}})),e=f.ul,d._icon(),d._reset(),a[0].type="text",a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":f._timeViewID}),g=a.is("[disabled]"),g?d.enable(!1):d.readonly(a.is("[readonly]")),d.value(b.value||a.val()),c.notify(d)},options:{name:"TimePicker",min:N,max:N,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[k,l,m],setOptions:function(a){var b=this,c=b.timeView,d=c.options;j.fn.setOptions.call(b,a),U(b.options),c.options=K(d,b.options,{active:d.active,change:d.change,close:d.close,open:d.open}),c.ul[0].innerHTML=""},dataBind:function(a){J(a)&&this.timeView.dataBind(a)},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._arrow.off(n),f=b.element.off(n),g=b._inputWrapper.off(n);d||c?(g.addClass(c?B:p).removeClass(c?p:B),f.attr(q,c).attr(r,d).attr(F,c).attr(G,d)):(g.addClass(p).removeClass(B).on(w,b._toggleHover),f.removeAttr(q).removeAttr(r).attr(F,!1).attr(G,!1).on("keydown"+n,L(b._keydown,b)).on("blur"+n,L(b._blur,b)).on("focus"+n,function(){b._inputWrapper.addClass(u)}),e.on(o,L(b._click,b)).on(x,V))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;j.fn.destroy.call(a),a.timeView.destroy(),a.element.off(n),a._arrow.off(n),a._inputWrapper.off(n),a._form&&a._form.off("reset",a._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),c._oldText=c.element.val(),void 0)},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(u)},_click:function(){var a=this,b=a.element;a.timeView.toggle(),g.touch||b[0]===e()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(m),b.element.trigger(m))},_icon:function(){var d,b=this,c=b.element;d=c.next("span.k-select"),d[0]||(d=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(c)),b._arrow=d.attr({role:"button","aria-controls":b.timeView._timeViewID})},_keydown:function(a){var b=this,c=a.keyCode,e=b.timeView,f=b.element.val();e.popup.visible()||a.altKey?e.move(a):c===d.ENTER&&f!==b._oldText&&b._change(f)},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d.timeView._parse(c),c&&(c=new M(+c),e[a]=c,d.timeView.options[a]=c,d.timeView.bind()),void 0)},_toggleHover:function(b){a(b.currentTarget).toggleClass(v,"mouseenter"===b.type)},_update:function(a){var b=this,d=b.options,e=b.timeView,f=e._parse(a);return S(f,d.min,d.max)||(f=null),b._value=f,b.element.val(f?c.toString(f,d.format,d.culture):a),e.value(f),f},_wrapper:function(){var d,b=this,c=b.element;
d=c.parents(".k-timepicker"),d[0]||(d=c.wrap(t).parent().addClass("k-picker-wrap k-state-default"),d=d.wrap(t).parent()),d[0].style.cssText=c[0].style.cssText,b.wrapper=d.addClass("k-widget k-timepicker k-header").addClass(c[0].className),c.css({width:"100%",height:c[0].style.height}),b._inputWrapper=a(d[0].firstChild)},_reset:function(){var a=this,b=a.element,c=b.closest("form");c[0]&&(a._resetHandler=function(){a.value(b[0].defaultValue)},a._form=c.on("reset",a._resetHandler))}}),i.plugin(T)}(window.kendo.jQuery),function(a,b){function Q(a){a.preventDefault()}function R(b){var e,d=c.getCulture(b.culture).calendars.standard.patterns;b.format=g(b.format||d.g),b.timeFormat=e=g(b.timeFormat||d.t),c.DateView.normalize(b),-1===a.inArray(e,b.parseFormats)&&b.parseFormats.splice(1,0,e)}var c=window.kendo,d=c.TimeView,e=c.parseDate,f=c._activeElement,g=c._extractFormat,h=c.calendar,i=h.isInRange,j=h.restrictValue,k=h.isEqualDatePart,l=d.getMilliseconds,m=c.ui,n=m.Widget,o="open",p="close",q="change",r=".kendoDateTimePicker",s="click"+r,t="disabled",u="readonly",v="k-state-default",w="k-state-focused",x="k-state-hover",y="k-state-disabled",z="mouseenter"+r+" mouseleave"+r,A="mousedown"+r,B="month",C="<span/>",D="aria-activedescendant",E="aria-expanded",F="aria-hidden",G="aria-owns",H="aria-disabled",I="aria-readonly",J=Date,K=new J(1900,0,1),L=new J(2099,11,31),M={view:"date"},N={view:"time"},O=a.extend,P=n.extend({init:function(a,b){var e,d=this;n.fn.init.call(d,a,b),a=d.element,b=d.options,R(b),d._wrapper(),d._views(),d._icons(),d._reset(),d._template(),a[0].type="text",a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1}),d._midnight=0===l(b.min)+l(b.max),e=a.is("[disabled]"),e?d.enable(!1):d.readonly(a.is("[readonly]")),d.value(b.value||a.val()),c.notify(d)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new J(K),max:new J(L),interval:30,height:200,footer:"",start:B,depth:B,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "G")#'},events:[o,p,q],setOptions:function(a){var b=this,c=b.dateView.options,d=b.timeView.options;n.fn.setOptions.call(b,a),R(b.options),a=b.options,O(c,a,{change:c.change,close:c.close,open:c.open}),O(d,a,{format:a.timeFormat,active:d.active,change:d.change,close:d.close,open:d.open}),b.timeView.ul[0].innerHTML=""},_editable:function(b){var d=this,e=d.element.off(r),g=d._dateIcon.off(r),h=d._timeIcon.off(r),i=d._inputWrapper.off(r),j=b.readonly,k=b.disable;j||k?(i.addClass(k?y:v).removeClass(k?v:y),e.attr(t,k).attr(u,j).attr(H,k).attr(I,j)):(i.addClass(v).removeClass(y).on(z,d._toggleHover),e.removeAttr(t).removeAttr(u).attr(H,!1).attr(I,!1).on("keydown"+r,a.proxy(d._keydown,d)).on("focus"+r,function(){d._inputWrapper.addClass(w)}).on("blur"+r,function(){d._inputWrapper.removeClass(w),e.val()!==d._oldText&&d._change(e.val()),d.close("date"),d.close("time")}),g.on(A,Q).on(s,function(){d.toggle("date"),c.support.touch||e[0]===f()||e.focus()}),h.on(A,Q).on(s,function(){d.toggle("time"),c.support.touch||e[0]===f()||e.focus()}))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;n.fn.destroy.call(a),a.dateView.destroy(),a.timeView.destroy(),a.element.off(r),a._dateIcon.off(r),a._timeIcon.off(r),a._inputWrapper.off(r),a._form&&a._form.off("reset",a._resetHandler)},close:function(a){"time"!==a&&(a="date"),this[a+"View"].close()},open:function(a){"time"!==a&&(a="date"),this[a+"View"].open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},toggle:function(a){var b="timeView";"time"!==a?a="date":b="dateView",this[a+"View"].toggle(),this[b].close()},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),c._oldText=c.element.val(),void 0)},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(q),b.element.trigger(q))},_option:function(a,c){var d=this,f=d.options,g=d.timeView,h=g.options,i=d._value||d._old;if(c===b)return f[a];if(c=e(c,f.parseFormats,f.culture)){if(f[a]=new J(+c),d.dateView[a](c),d._midnight=0===l(f.min)+l(f.max),i&&k(c,i)){if(d._midnight&&"max"==a)return h[a]=L,g.dataBind([L]),void 0;h[a]=c}else h.max=L,h.min=K;g.bind()}},_toggleHover:function(b){a(b.currentTarget).toggleClass(x,"mouseenter"===b.type)},_update:function(b){var o,p,q,r,s,d=this,f=d.options,g=f.min,h=f.max,l=f.dates,m=d.timeView,n=e(b,f.parseFormats,f.culture);return+n===+d._value?(s=c.toString(n,f.format,f.culture),s!==b&&d.element.val(null===n?b:s),n):(null!==n&&k(n,g)?n=j(n,g,h):i(n,g,h)||(n=null),d._value=n,m.value(n),d.dateView.value(n),n&&(q=d._old,p=m.options,l[0]&&(l=a.grep(l,function(a){return k(n,a)}),l[0]&&(m.dataBind(l),r=!0)),r||(k(n,g)&&(p.min=g,p.max=L,o=!0),k(n,h)&&(d._midnight?(m.dataBind([L]),r=!0):(p.max=h,o||(p.min=K),o=!0))),!r&&(!q&&o||q&&!k(q,n))&&(o||(p.max=L,p.min=K),m.bind())),d.element.val(n?c.toString(n,f.format,f.culture):b),d._updateARIA(n),n)},_keydown:function(a){var b=this,d=b.dateView,e=b.timeView,f=b.element.val(),g=d.popup.visible();a.altKey&&a.keyCode===c.keys.DOWN?b.toggle(g?"time":"date"):g?(d.move(a),b._updateARIA(d._current)):e.popup.visible()?e.move(a):a.keyCode===c.keys.ENTER&&f!==b._oldText&&b._change(f)},_views:function(){var h,j,k,l,m,a=this,b=a.element,f=a.options,g=b.attr("id");a.dateView=h=new c.DateView(O({},f,{id:g,anchor:a.wrapper,change:function(){var g,b=h.calendar.value(),c=+b,d=+f.min,e=+f.max;(c===d||c===e)&&(g=new J(+a._value),g.setFullYear(b.getFullYear()),g.setMonth(b.getMonth()),g.setDate(b.getDate()),i(g,d,e)&&(b=g)),a._change(b),a.close("date")},close:function(c){a.trigger(p,M)?c.preventDefault():(b.attr(E,!1),k.attr(F,!0),j.popup.visible()||b.removeAttr(G))},open:function(c){a.trigger(o,M)?c.preventDefault():(a.element.val()!==a._oldText&&(m=e(b.val(),f.parseFormats,f.culture),m?(a.dateView._current=m,a.dateView.calendar._focus(m)):a.dateView.value(m)),k.attr(F,!1),b.attr(E,!0).attr(G,h._dateViewID))}})),k=h.div,a.timeView=j=new d({id:g,value:f.value,anchor:a.wrapper,animation:f.animation,format:f.timeFormat,culture:f.culture,height:f.height,interval:f.interval,min:new J(K),max:new J(L),parseFormats:f.parseFormats,change:function(d,e){d=j._parse(d),d<f.min?(d=new J(+f.min),j.options.min=d):d>f.max&&(d=new J(+f.max),j.options.max=d),e?(a._timeSelected=!0,a._change(d)):(b.val(c.toString(d,f.format,f.culture)),h.value(d),a._updateARIA(d))},close:function(c){a.trigger(p,N)?c.preventDefault():(l.attr(F,!0),b.attr(E,!1),h.popup.visible()||b.removeAttr(G))},open:function(c){j._adjustListWidth(),a.trigger(o,N)?c.preventDefault():(l.attr(F,!1),b.attr(E,!0).attr(G,j._timeViewID))},active:function(a){b.removeAttr(D),a&&b.attr(D,j._optionID)}}),l=j.ul},_icons:function(){var d,b=this,c=b.element;d=c.next("span.k-select"),d[0]||(d=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(c)),d=d.children(),b._dateIcon=d.eq(0).attr({role:"button","aria-controls":b.dateView._dateViewID}),b._timeIcon=d.eq(1).attr({role:"button","aria-controls":b.timeView._timeViewID})},_wrapper:function(){var d,b=this,c=b.element;d=c.parents(".k-datetimepicker"),d[0]||(d=c.wrap(C).parent().addClass("k-picker-wrap k-state-default"),d=d.wrap(C).parent()),d[0].style.cssText=c[0].style.cssText,c.css({width:"100%",height:c[0].style.height}),b.wrapper=d.addClass("k-widget k-datetimepicker k-header").addClass(c[0].className),b._inputWrapper=a(d[0].firstChild)},_reset:function(){var a=this,b=a.element,c=b.closest("form");c[0]&&(a._resetHandler=function(){a.value(b[0].defaultValue)},a._form=c.on("reset",a._resetHandler))},_template:function(){this._ariaTemplate=c.template(this.options.ARIATemplate)},_updateARIA:function(a){this.element.attr("aria-label",this._ariaTemplate({current:a}))}});m.plugin(P)}(window.kendo.jQuery),function(a,b){function O(a){return function(b){var c=b.children(".k-animation-container");return c.length||(c=b),c.children(a)}}function P(a){return a.children("div").find(".k-checkbox:first :checkbox")}function Q(b){var h,i,c=b.children("div"),d=b.children("ul"),e=c.children(".k-icon"),f=b.children(":checkbox"),g=c.children(".k-in");if(!b.hasClass("k-treeview")&&(c.length||(c=a("<div />").prependTo(b)),!e.length&&d.length?e=a("<span class='k-icon' />").prependTo(c):d.length&&d.children().length||(e.remove(),d.remove()),f.length&&a("<span class='k-checkbox' />").appendTo(c).append(f),!g.length))for(g=a("<span class='k-in' />").appendTo(c)[0],h=c[0].nextSibling,g=c.find(".k-in")[0];h&&"ul"!=h.nodeName.toLowerCase();)i=h,h=h.nextSibling,3==i.nodeType&&(i.nodeValue=a.trim(i.nodeValue)),g.appendChild(i)}function R(a){var b=this;b.treeview=a,b.hovered=a.element,b._draggable=new d.Draggable(a.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(b){return a.templates.dragClue({item:a.dataItem(b),treeview:a.options})},cursorOffset:{left:10,top:c.support.touch||c.support.pointers?-40/c.support.zoomLevel():10},dragstart:k(b.dragstart,b),dragcancel:k(b.dragcancel,b),drag:k(b.drag,b),dragend:k(b.dragend,b)})}var I,J,K,L,c=window.kendo,d=c.ui,e=c.data,f=a.extend,g=c.template,h=a.isArray,i=d.Widget,j=e.HierarchicalDataSource,k=a.proxy,l=c.keys,m=".kendoTreeView",n="select",o="navigate",p="expand",q="change",r="checked",s="collapse",t="dragstart",u="drag",v="drop",w="dragend",x="dataBound",y="click",z="visibility",A="undefined",B="k-state-hover",C="k-treeview",D=":visible",E=".k-item",F="string",G="aria-selected",H="aria-disabled",M={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},N=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&1===a.nodeType&&typeof a.nodeName===F};J=O(".k-group"),K=O(".k-group,.k-content"),L=function(a){return a.children("div").children(".k-icon")},I=i.extend({init:function(a,b){var e,d=this,f=!1;h(b)&&(e=!0,b={dataSource:b}),b&&typeof b.loadOnDemand==A&&h(b.dataSource)&&(b.loadOnDemand=!1),i.prototype.init.call(d,a,b),a=d.element,b=d.options,f=a.is("ul")||a.hasClass(C),f&&(b.dataSource.list=a.is("ul")?a:a.children("ul")),d._animation(),d._accessors(),d._templates(),a.hasClass(C)?(d.wrapper=a,d.root=a.children("ul").eq(0)):(d._wrapper(),f&&(d.root=a,d._group(d.wrapper))),d._tabindex(),d.wrapper.filter("[role=tree]").length||d.wrapper.attr("role","tree"),d._dataSource(f),d._attachEvents(),b.dragAndDrop&&(d.dragging=new R(d)),f?d._attachUids():b.autoBind&&(d._progress(!0),d.dataSource.fetch()),b.checkboxes&&b.checkboxes.checkChildren&&d._updateIndeterminateInitial(d.wrapper),d.element[0].id&&(d._ariaId=c.format("{0}_tv_active",d.element[0].id))},_attachEvents:function(){var b=this,c=".k-in:not(.k-state-selected,.k-state-disabled)",d="mouseenter";b.wrapper.on(d+m,".k-in.k-state-selected",function(a){a.preventDefault()}).on(d+m,c,function(){a(this).addClass(B)}).on("mouseleave"+m,c,function(){a(this).removeClass(B)}).on(y+m,c,k(b._click,b)).on("dblclick"+m,".k-in:not(.k-state-disabled)",k(b._toggleButtonClick,b)).on(y+m,".k-plus,.k-minus",k(b._toggleButtonClick,b)).on("keydown"+m,k(b._keydown,b)).on("focus"+m,k(b._focus,b)).on("blur"+m,k(b._blur,b)).on("mousedown"+m,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",k(b._mousedown,b)).on("change"+m,".k-checkbox :checkbox",k(b._checkboxChange,b)).on("click"+m,".k-checkbox :checkbox",k(b._checkboxClick,b)).on("click"+m,function(c){a(c.target).is(":focusable")||b.focus()})},_checkboxClick:function(b){var c=a(b.target);c.data("indeterminate")&&(c.data("indeterminate",!1).prop("indeterminate",!1).prop(r,!0),this._checkboxChange(b))},_attachUids:function(b,d){var f,e=this,g=c.attr("uid");b=b||e.root,d=d||e.dataSource,f=d.view(),b.children("li").each(function(b,c){c=a(c).attr(g,f[b].uid),c.attr("role","treeitem"),e._attachUids(c.children("ul"),f[b].children)})},_animation:function(){var a=this.options,b=a.animation;b===!1?b={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:b.collapse&&"effects"in b.collapse||(b.collapse=f({reverse:!0},b.expand)),f(b.collapse,{hide:!0}),a.animation=b},_templates:function(){var a=this,b=a.options,d=k(a._fieldAccessor,a);b.template&&typeof b.template==F?b.template=g(b.template):b.template||(b.template=g("# var text = "+d("text")+"(item); #"+"# if (typeof item.encoded != 'undefined' && item.encoded === false) {#"+"#= text #"+"# } else { #"+"#: text #"+"# } #")),a._checkboxes(),a.templates={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return a.firstLevel&&0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),c},cssClass:function(a,b){var c="",d=b.index,e=a.length-1;return a.firstLevel&&0===d&&(c+="k-top "),c+=0===d&&d!=e?"k-top":d==e?"k-bot":"k-mid"},textClass:function(a){var b="k-in";return a.enabled===!1&&(b+=" k-state-disabled"),a.selected===!0&&(b+=" k-state-selected"),b},toggleButtonClass:function(a){var b="k-icon";return b+=a.expanded!==!0?" k-plus":" k-minus",a.enabled===!1&&(b+="-disabled"),b},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(a){var b="k-group";return a.firstLevel&&(b+=" k-treeview-lines"),b},dragClue:g("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status'></span>#= treeview.template(data) #</div>"),group:g("<ul class='#= r.groupCssClass(group) #'#= r.groupAttributes(group) # role='group'>#= renderItems(data) #</ul>"),itemContent:g("# var imageUrl = "+d("imageUrl")+"(item); #"+"# var spriteCssClass = "+d("spriteCssClass")+"(item); #"+"# if (imageUrl) { #"+"<img class='k-image' alt='' src='#= imageUrl #'>"+"# } #"+"# if (spriteCssClass) { #"+"<span class='k-sprite #= spriteCssClass #'></span>"+"# } #"+"#= treeview.template(data) #"),itemElement:g("# var url = "+d("url")+"(item); #"+"<div class='#= r.cssClass(group, item) #'>"+"# if (item.hasChildren) { #"+"<span class='#= r.toggleButtonClass(item) #' role='presentation'></span>"+"# } #"+"# if (treeview.checkboxes) { #"+"<span class='k-checkbox' role='presentation'>"+"#= treeview.checkboxes.template(data) #"+"</span>"+"# } #"+"# var tag = url ? 'a' : 'span'; #"+"# var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #"+"<#=tag#  class='#= r.textClass(item) #'#= textAttr #>"+"#= r.itemContent(data) #"+"</#=tag#>"+"</div>"),item:g("<li role='treeitem' class='#= r.wrapperCssClass(group, item) #' "+c.attr("uid")+"='#= item.uid #'"+"#=item.selected ? \"aria-selected='true'\" : ''#"+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#"+">"+"#= r.itemElement(data) #"+"</li>"),loading:g("<div class='k-icon k-loading' /> Loading...")}},items:function(){return this.element.find(".k-item")},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.dataSource.fetch()},_dataSource:function(a){function e(a){for(var b=0;b<a.length;b++)a[b]._initChildren(),a[b].children.fetch(),e(a[b].children.view())}var b=this,c=b.options,d=c.dataSource;d=h(d)?{data:d}:d,b.dataSource&&b._refreshHandler?b.dataSource.unbind(q,b._refreshHandler):b._refreshHandler=k(b.refresh,b),d.fields||(d.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),b.dataSource=j.create(d),a&&(b.dataSource.fetch(),e(b.dataSource.view())),b.dataSource.bind(q,b._refreshHandler)},events:[t,u,v,w,x,p,s,n,q,o],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},dragAndDrop:!1,checkboxes:!1,autoBind:!0,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var d,e,f,a=this,b=a.options,g=a.element;for(d in M)e=b[M[d]],f=g.attr(c.attr(d+"-field")),!e&&f&&(e=f),e||(e=d),h(e)||(e=[e]),b[M[d]]=e},_fieldAccessor:function(b){var d=this.options[M[b]],e=d.length,f="(function(item) {";return 0===e?f+="return item['"+b+"'];":(f+="var level = item.level();var levels = ["+a.map(d,function(a){return"function(d){ return "+c.expr(a)+"}"}).join(",")+"];",f+="return levels[Math.min(level, "+e+"-1)](item)"),f+="})"},setOptions:function(a){var b=this;"dragAndDrop"in a&&a.dragAndDrop&&!b.options.dragAndDrop&&(b.dragging=new R(b)),i.fn.setOptions.call(b,a),b._animation(),b._templates()},_trigger:function(a,b){return this.trigger(a,{node:b.closest(E)[0]})},_setIndeterminate:function(a){var c,d,f,b=J(a),e=!0;if(b.length){if(c=P(b.children()),d=c.length,d>1){for(f=1;d>f;f++)if(c[f].checked!=c[f-1].checked||c[f].indeterminate||c[f-1].indeterminate){e=!1;break}}else e=!c[0].indeterminate;P(a).data("indeterminate",!e).prop("indeterminate",!e).prop(r,e&&c[0].checked)}},_updateIndeterminateInitial:function(a){var c,b=J(a).children();if(b.length){for(c=0;c<b.length;c++)this._updateIndeterminateInitial(b.eq(c));this._setIndeterminate(a)}},_updateIndeterminate:function(a){var c,b=this.parent(a);b.length&&(this._setIndeterminate(b),c=b.children("div").find(".k-checkbox > :checkbox"),c.prop("indeterminate")===!1?this.dataItem(b).set(r,c.prop(r)):this.dataItem(b).checked=!1,this._updateIndeterminate(b))},_checkboxChange:function(b){var c=a(b.target),d=c.prop(r),e=c.closest(E),f=this;f.dataItem(e).set(r,d)},_toggleButtonClick:function(b){this.toggle(a(b.target).closest(E))},_mousedown:function(b){var c=a(b.currentTarget).closest(E);this._clickTarget=c,this.current(c)},_focusable:function(a){return a&&a.length&&a.is(":visible")&&!a.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var b=this.select(),d=this._clickTarget;c.support.touch||(d&&d.length&&(b=d),this._focusable(b)||(b=this.current()),this._focusable(b)||(b=this._nextVisible(a())),this.current(b))},focus:function(){var c,a=this.wrapper,b=a[0],d=document.body;do b=b.parentNode;while(b.scrollHeight<=b.clientHeight&&b!=d);c=b.scrollTop,a.focus(),b.scrollTop=c},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(a){return!a.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(b){var e,f,c=/\bk-treeview\b/,d=/\bk-item\b/;typeof b==F&&(b=this.element.find(b)),N(b)||(b=b[0]),f=d.test(b.className);do b=b.parentNode,d.test(b.className)&&(f?e=b:f=!0);while(!c.test(b.className)&&!e);return a(e)},_nextVisible:function(a){var d,b=this,c=b._expanded(a);if(a.length&&a.is(":visible"))if(c)d=J(a).children().first();else{for(;a.length&&!a.next().length;)a=b.parent(a);d=a.next().length?a.next():a}else d=b.root.children().eq(0);return b._enabled(d)||(d=b._nextVisible(d)),d},_previousVisible:function(a){var c,b=this;if(!a.length||a.prev().length)for(c=a.length?a.prev():b.root.children().last();b._expanded(c);)c=J(c).children().last();else c=b.parent(a)||a;return b._enabled(c)||(c=b._previousVisible(c)),c},_keydown:function(d){var g,e=this,f=d.keyCode,h=e.current(),i=e._expanded(h),j=h.find(".k-checkbox:first :checkbox"),k=c.support.isRtl(e.element);d.target==d.currentTarget&&(!k&&f==l.RIGHT||k&&f==l.LEFT?i?g=e._nextVisible(h):e.expand(h):!k&&f==l.LEFT||k&&f==l.RIGHT?i?e.collapse(h):(g=e.parent(h),e._enabled(g)||(g=b)):f==l.DOWN?g=e._nextVisible(h):f==l.UP?g=e._previousVisible(h):f==l.HOME?g=e._nextVisible(a()):f==l.END?g=e._previousVisible(a()):f==l.ENTER?h.find(".k-in:first").hasClass("k-state-selected")||e._trigger(n,h)||e.select(h):f==l.SPACEBAR&&j.length&&(j.prop(r,!j.prop(r)).data("indeterminate",!1).prop("indeterminate",!1),e._checkboxChange({target:j}),g=h),g&&(d.preventDefault(),h[0]!=g[0]&&(e._trigger(o,g),e.current(g))))},_click:function(b){var g,c=this,d=a(b.target),e=K(d.closest(E)),f=d.attr("href");g=f?"#"==f||f.indexOf("#"+this.element.id+"-")>=0:e.length&&!e.children().length,g&&b.preventDefault(),d.hasClass(".k-state-selected")||c._trigger(n,d)||c.select(d)},_wrapper:function(){var c,d,a=this,b=a.element,e="k-widget k-treeview";b.is("div")?(c=b,d=c.children("ul").eq(0)):(c=b.wrap("<div />").parent(),d=b),a.wrapper=c.addClass(e),a.root=d},_group:function(a){var b=this,c=a.hasClass(C),d={firstLevel:c,expanded:c||b._expanded(a)},e=a.children("ul");e.addClass(b.templates.groupCssClass(d)).css("display",d.expanded?"":"none"),b._nodes(e,d)},_nodes:function(b,c){var g,d=this,e=b.children("li");c=f({length:e.length},c),e.each(function(b,e){e=a(e),g={index:b,expanded:d._expanded(e)},Q(e),d._updateNodeClasses(e,c,g),d._group(e)})},_checkboxes:function(){var c,a=this.options,b=a.checkboxes;(b||a.checkboxTemplate)&&(a.checkboxTemplate?c=a.checkboxTemplate:(c="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",b.name&&(c+=" name='"+b.name+"'"),c+=" />"),b=f({template:c},a.checkboxes),typeof b.template==F&&(b.template=g(b.template)),a.checkboxes=b)},_updateNodeClasses:function(a,b,c){var d=a.children("div"),e=a.children("ul"),f=this.templates;a.hasClass("k-treeview")||(c=c||{},c.expanded=typeof c.expanded!=A?c.expanded:this._expanded(a),c.index=typeof c.index!=A?c.index:a.index(),c.enabled=typeof c.enabled!=A?c.enabled:!d.children(".k-in").hasClass("k-state-disabled"),b=b||{},b.firstLevel=typeof b.firstLevel!=A?b.firstLevel:a.parent().parent().hasClass(C),b.length=typeof b.length!=A?b.length:a.parent().children().length,a.removeClass("k-first k-last").addClass(f.wrapperCssClass(b,c)),d.removeClass("k-top k-mid k-bot").addClass(f.cssClass(b,c)),d.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(f.textClass(c)),(e.length||"true"==a.attr("data-hasChildren"))&&(d.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(f.toggleButtonClass(c)),e.addClass("k-group")))},_processNodes:function(b,c){var d=this;d.element.find(b).each(function(b,e){c.call(d,b,a(e).closest(E))})},dataItem:function(b){var d=a(b).closest(E).attr(c.attr("uid")),e=this.dataSource;return e&&e.getByUid(d)},_insertNode:function(b,c,d,e,f){var j,l,m,n,g=this,h=J(d),i=h.children().length+1,k={firstLevel:d.hasClass(C),expanded:!f,length:i},o="",p=function(a,b){a.appendTo(b)};for(m=0;m<b.length;m++)n=b[m],n.index=c+m,o+=g._renderItem({group:k,item:n});if(l=a(o),l.length){for(h.length||(h=a(g._renderGroup({group:k})).appendTo(d)),e(l,h),d.hasClass("k-item")&&(Q(d),g._updateNodeClasses(d)),g._updateNodeClasses(l.prev().first()),g._updateNodeClasses(l.next().last()),m=0;m<b.length;m++)n=b[m],n.hasChildren&&(j=n.children.data(),j.length&&g._insertNode(j,n.index,l.eq(m),p,!g._expanded(l.eq(m))));return l}},_updateNode:function(b,c){function k(){d.dataItem(this).set(r,h)}var e,f,g,h,i,d=this,j={treeview:d.options,item:g};if("selected"==b)g=c[0],f=d.findByUid(g.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",g[b]).end(),g[b]?(d.current(f),f.attr(G,!0)):f.attr(G,!1);else for(e=0;e<c.length;e++)j.item=g=c[e],"spriteCssClass"==b||"imageUrl"==b||a.inArray(b,d.options.dataTextField)>=0?d.findByUid(g.uid).find(">div>.k-in").html(d.templates.itemContent(j)):b==r?(f=d.findByUid(g.uid),h=g[b],f.children("div").find(".k-checkbox :checkbox").prop(r,g[b]).data("indeterminate",!1).prop("indeterminate",!1),d.options.checkboxes.checkChildren&&(f.find(".k-checkbox :checkbox").each(k),d._updateIndeterminate(f))):"expanded"==b?d._toggle(d.findByUid(g.uid),g,g[b]):"enabled"==b&&(f=d.findByUid(g.uid),f.find(".k-checkbox :checkbox").prop("disabled",!g[b]),i=!K(f).is(D),f.removeAttr(H),g[b]||(g.selected&&g.set("selected",!1),g.expanded&&g.set("expanded",!1),i=!0,f.removeAttr(G).attr(H,!0)),d._updateNodeClasses(f,{},{enabled:g[b],expanded:!i}))},refresh:function(a){function m(a,b){var d=J(b),e=d.children(),f=!c._expanded(b);typeof h==A&&(h=e.length),c._insertNode(a,h,b,function(a,b){h==e.length?a.appendTo(b):a.insertBefore(e.eq(h))},f),c._expanded(b)&&(c._updateNodeClasses(b),J(b).css("display","block"))}var l,c=this,d=c.wrapper,e=a.node,f=a.action,g=a.items,h=a.index,i=c.options,j=i.loadOnDemand,k=i.checkboxes&&i.checkboxes.checkChildren;if(a.field)return c._updateNode(a.field,g);if(e&&(d=c.findByUid(e.uid),c._progress(d,!1)),k&&"remove"!=f&&e&&e.checked)for(l=0;l<g.length;l++)g[l].checked=!0;for("add"==f?m(g,d):"remove"==f?c._remove(c.findByUid(g[0].uid),!1):e?(J(d).empty(),m(g,d)):c.root=c.wrapper.html(c._renderGroup({items:g,group:{firstLevel:!0,expanded:!0}})).children("ul"),l=0;l<g.length;l++)(!j||g[l].expanded)&&g[l].load();c.trigger(x,{node:e?d:b})},expand:function(a){this._processNodes(a,function(a,b){this.toggle(b,!0)})},collapse:function(a){this._processNodes(a,function(a,b){this.toggle(b,!1)})},enable:function(a,b){b=2==arguments.length?!!b:!0,this._processNodes(a,function(a,c){this.dataItem(c).set("enabled",b)})},current:function(b){var c=this,d=c._current,e=c.element,f=c._ariaId;return arguments.length>0&&b&&b.length?(d&&(d[0].id===f&&d.removeAttr("id"),d.find(".k-in:first").removeClass("k-state-focused")),d=c._current=a(b,e).closest(E),d.find(".k-in:first").addClass("k-state-focused"),f=d[0].id||f,f&&(c.wrapper.removeAttr("aria-activedescendant"),d.attr("id",f),c.wrapper.attr("aria-activedescendant",f)),void 0):(d||(d=c._nextVisible(a())),d)},select:function(b){var c=this,d=c.element;return arguments.length?(b=a(b,d).closest(E),d.find(".k-state-selected").each(function(){var a=c.dataItem(this);a.set("selected",!1),delete a.selected}),b.length&&c.dataItem(b).set("selected",!0),c.trigger(q),void 0):d.find(".k-state-selected").closest(E)},_toggle:function(a,b,c){var j,d=this,e=d.options,g=K(a),h=c?"expand":"collapse",i=e.animation[h];if(!g.data("animating")&&!d._trigger(h,a))if(d._expanded(a,c),j=b&&b.loaded(),j&&g.children().length>0){if(d._updateNodeClasses(a,{},{expanded:c}),g.css("display")==(c?"block":"none"))return;c||g.css("height",g.height()).css("height"),g.kendoStop(!0,!0).kendoAnimate(f({reset:!0},i,{complete:function(){c&&g.css("height","")}}))}else(!j||j&&c)&&(e.loadOnDemand&&d._progress(a,!0),g.remove(),b.load())},toggle:function(b,c){b=a(b),L(b).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(c=!this._expanded(b)),this._expanded(b,c))},destroy:function(){var a=this;i.fn.destroy.call(a),a.element.off(m),a.dragging&&a.dragging.destroy(),c.destroy(a.element)},_expanded:function(a,b){var d=c.attr("expanded"),e=this.dataItem(a);return 1==arguments.length?"true"===a.attr(d)||e&&e.expanded:(K(a).data("animating")||(e&&e.set("expanded",b),b?(a.attr(d,"true"),a.attr("aria-expanded","true")):(a.removeAttr(d),a.attr("aria-expanded","false"))),void 0)},_progress:function(a,b){var c=this.element;1==arguments.length?(b=a,b?c.html(this.templates.loading):c.empty()):L(a).toggleClass("k-loading",b)},text:function(a,b){var c=this.dataItem(a),d=this.options[M.text],e=c.level(),f=d.length,g=d[Math.min(e,f-1)];return b?(c.set(g,b),void 0):c[g]},_objectOrSelf:function(b){return a(b).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(a,b,c,d){var e,f=this._objectOrSelf(c||b),g=f.dataSource;return c&&c[0]!=f.element[0]&&(e=f.dataItem(c),e.loaded()||(f._progress(c,!0),e.load()),c!=this.root&&(g=e.children,g&&g instanceof j||(e._initChildren(),g=e.children))),a=this._toObservableData(a),d.call(this,g,a)},_toObservableData:function(b){var e,f,d=b;return(b instanceof window.jQuery||N(b))&&(e=this._objectOrSelf(b).dataSource,f=a(b).attr(c.attr("uid")),d=e.getByUid(f),d&&(d=e.remove(d))),d},_insert:function(a,b,d){return b instanceof c.data.ObservableArray?b=b.toJSON():h(b)||(b=[b]),a.splice.apply(a,[d,0].concat(b)),this.findByUid(a[d].uid)},insertAfter:function(a,b){var d,c=b.parent();return c.parent().is("li")&&(d=c.parent()),this._dataSourceMove(a,c,d,function(a,c){return this._insert(a.data(),c,b.index()+1)})},insertBefore:function(a,b){var d,c=b.parent();return c.parent().is("li")&&(d=c.parent()),this._dataSourceMove(a,c,d,function(a,c){return this._insert(a.data(),c,b.index())})},append:function(a,b){var c=this,d=c.root;return b&&(d=J(b)),c._dataSourceMove(a,d,b,function(a,d){function e(){var e=a.data(),f=Math.max(e.length,0);return b&&c._expanded(b,!0),c._insert(e,d,f)}return a.data()?e():(a.one(q,e),null)})},_remove:function(b,c){var e,f,g,d=this;return b=a(b,d.element),e=b.parent().parent(),f=b.prev(),g=b.next(),b[c?"detach":"remove"](),e.hasClass("k-item")&&(Q(e),d._updateNodeClasses(e)),d._updateNodeClasses(f),d._updateNodeClasses(g),b},remove:function(a){var b=this.dataItem(a);b&&this.dataSource.remove(b)},detach:function(a){return this._remove(a,!0)},findByText:function(b){return a(this.element).find(".k-in").filter(function(c,d){return a(d).text()==b}).closest(E)},findByUid:function(a){return this.element.find(".k-item["+c.attr("uid")+"="+a+"]")},_renderItem:function(a){return a.group||(a.group={}),a.treeview=this.options,a.r=this.templates,this.templates.item(a)},_renderGroup:function(a){var b=this;return a.renderItems=function(a){var c="",d=0,e=a.items,f=e?e.length:0,g=a.group;for(g.length=f;f>d;d++)a.group=g,a.item=e[d],a.item.index=d,c+=b._renderItem(a);return c},a.r=b.templates,b.templates.group(a)}}),R.prototype={_removeTouchHover:function(){var a=this;c.support.touch&&a.hovered&&(a.hovered.find("."+B).removeClass(B),a.hovered=!1)},_hintStatus:function(b){var c=this._draggable.hint.find(".k-drag-status")[0];return b?(c.className="k-icon k-drag-status "+b,void 0):a.trim(c.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(b){var c=this,d=c.treeview,e=c.sourceNode=b.currentTarget.closest(E);d.trigger(t,{sourceNode:e[0]})&&b.preventDefault(),c.dropHint=a("<div class='k-drop-hint' />").css(z,"hidden").appendTo(d.element)},drag:function(b){var h,j,k,l,m,n,o,p,q,r,d=this,e=d.treeview,f=d.sourceNode,g=d.dropTarget=a(c.eventTarget(b)),i=g.closest(".k-treeview");i.length?a.contains(f[0],g[0])?h="k-denied":(h="k-insert-middle",j=g.closest(".k-top,.k-mid,.k-bot"),j.length?(l=j.outerHeight(),m=c.getOffset(j).top,n=g.closest(".k-in"),o=l/(n.length>0?4:2),p=b.y.location<m+o,q=m+l-o<b.y.location,d._removeTouchHover(),r=n.length&&!p&&!q,d.hovered=r?i:!1,d.dropHint.css(z,r?"hidden":"visible"),n.toggleClass(B,r),r?h="k-add":(k=j.position(),k.top+=p?0:l,d.dropHint.css(k)[p?"prependTo":"appendTo"](g.closest(E).children("div:first")),p&&j.hasClass("k-top")&&(h="k-insert-top"),q&&j.hasClass("k-bot")&&(h="k-insert-bottom"))):g[0]!=d.dropHint[0]&&(h=i[0]!=e.element[0]?"k-add":"k-denied")):(h="k-denied",d._removeTouchHover()),e.trigger(u,{sourceNode:f[0],dropTarget:g[0],pageY:b.y.location,pageX:b.x.location,statusClass:h.substring(2),setStatusClass:function(a){h=a}}),0!==h.indexOf("k-insert")&&d.dropHint.css(z,"hidden"),d._hintStatus(h)},dragcancel:function(){this.dropHint.remove()},dragend:function(){var e,h,i,a=this,b=a.treeview,c="over",d=a.sourceNode,f=a.dropHint,g=a.dropTarget;return"visible"==f.css(z)?(c=f.prevAll(".k-in").length>0?"after":"before",e=f.closest(E)):g&&(e=g.closest(E),e.length||(e=g.closest(".k-treeview"))),h="k-denied"!=a._hintStatus(),i=b.trigger(v,{sourceNode:d[0],destinationNode:e[0],valid:h,setValid:function(a){h=a},dropTarget:g[0],dropPosition:c}),f.remove(),a._removeTouchHover(),!h||i?(a._draggable.dropped=h,void 0):(a._draggable.dropped=!0,"over"==c?d=b.append(d,e):"before"==c?d=b.insertBefore(d,e):"after"==c&&(d=b.insertAfter(d,e)),b.trigger(w,{sourceNode:d&&d[0],destinationNode:e[0],dropPosition:c}),void 0)},destroy:function(){this._draggable.destroy()}},d.plugin(I)}(window.kendo.jQuery),function(a,b){function t(b){return a.map(u(b),function(a){return a.name}).join(", ")}function u(a){var b=a[0];return b.files?v(b.files):[{name:y(b.value),extension:x(b.value),size:null}]}function v(b){return a.map(b,function(a){return w(a)})}function w(a){var b=a.name||a.fileName;return{name:b,extension:x(b),size:a.size||a.fileSize,rawFile:a}}function x(a){var b=a.match(f);return b?b[0]:""}function y(a){var b=a.lastIndexOf("\\");return-1!=b?a.substr(b+1):a}function z(b,c,d){var f,g;c._supportsRemove()&&(f=b.data("fileNames"),g=a.map(f,function(a){return a.name}),c._submitRemove(g,d,function(a,d,e){c._removeFileEntry(b),c.trigger(j,{operation:"remove",files:f,response:a,XMLHttpRequest:e})
},function(a){c.trigger(k,{operation:"remove",files:f,XMLHttpRequest:a}),e("Server response: "+a.responseText)}))}function A(b,c,d){var e=!1,f="";try{f=a.parseJSON(b),e=!0}catch(g){d()}e&&c(f)}function B(a){a.stopPropagation(),a.preventDefault()}function C(a,b,c,d){var e,f;a.on("dragenter"+b,function(){c(),f=new Date,e||(e=setInterval(function(){var a=new Date-f;a>100&&(d(),clearInterval(e),e=null)},100))}).on("dragover"+b,function(){f=new Date})}function D(a){return a.children(".k-icon").is(".k-loading, .k-success, .k-fail")}function E(b){return a(b.target).closest(".k-file")}function F(){var c={},d=a("meta[name=csrf-token]").attr("content"),e=a("meta[name=csrf-param]").attr("content");return a("input[name^='__RequestVerificationToken']").each(function(){c[this.name]=this.value}),e!==b&&d!==b&&(c[e]=d),c}var r,s,c=window.kendo,d=c.ui.Widget,e=c.logToConsole,f=/\.([^\.]+)$/,g=".kendoUpload",h="select",i="upload",j="success",k="error",l="complete",m="cancel",n="progress",o="remove",p=d.extend({init:function(b,e){var h,i,f=this;d.fn.init.call(f,b,e),f.name=b.name,f.multiple=f.options.multiple,f.localization=f.options.localization,h=f.element,f.wrapper=h.closest(".k-upload"),0===f.wrapper.length&&(f.wrapper=f._wrapInput(h)),f._activeInput(h),f.toggle(f.options.enabled),i=f._ns=g+"-"+c.guid(),h.closest("form").on("submit"+i,a.proxy(f._onParentFormSubmit,f)).on("reset"+i,a.proxy(f._onParentFormReset,f)),f.options.async.saveUrl?(f._module=f._supportsFormData()?new s(f):new r(f),f._async=!0):f._module=new q(f),f._supportsDrop()&&f._setupDropZone(),f.wrapper.delegate(".k-upload-action","click",a.proxy(f._onFileAction,f)).delegate(".k-upload-selected","click",a.proxy(f._onUploadSelected,f)).delegate(".k-file","t:progress",a.proxy(f._onFileProgress,f)).delegate(".k-file","t:upload-success",a.proxy(f._onUploadSuccess,f)).delegate(".k-file","t:upload-error",a.proxy(f._onUploadError,f))},events:[h,i,j,k,l,m,n,o],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed"}},setOptions:function(a){var b=this,c=b.element;d.fn.setOptions.call(b,a),b.multiple=b.options.multiple,c.attr("multiple",b._supportsMultiple()?b.multiple:!1),b.toggle(b.options.enabled)},enable:function(a){a="undefined"==typeof a?!0:a,this.toggle(a)},disable:function(){this.toggle(!1)},toggle:function(a){a="undefined"==typeof a?a:!a,this.wrapper.toggleClass("k-state-disabled",a)},destroy:function(){var b=this;a(document).add(a(".k-dropzone",b.wrapper)).add(b.wrapper.closest("form")).off(b._ns),d.fn.destroy.call(b)},_addInput:function(b){var c=this;b.insertAfter(c.element).data("kendoUpload",c),a(c.element).hide().removeAttr("id"),c._activeInput(b)},_activeInput:function(b){var c=this,d=c.wrapper;c.element=b,b.attr("multiple",c._supportsMultiple()?c.multiple:!1).attr("autocomplete","off").click(function(a){d.hasClass("k-state-disabled")&&a.preventDefault()}).change(a.proxy(c._onInputChange,c))},_onInputChange:function(b){var c=this,d=a(b.target),e=c.trigger(h,{files:u(d)});e?(c._addInput(d.clone().val("")),d.remove()):d.trigger("t:select")},_onDrop:function(b){var f,c=b.originalEvent.dataTransfer,d=this,e=c.files;B(b),e.length>0&&(f=d.trigger(h,{files:v(e)}),f||a(".k-dropzone",d.wrapper).trigger("t:select",[e]))},_enqueueFile:function(b,c){var e,f,d=this,g=a(".k-upload-files",d.wrapper);return 0===g.length&&(g=a("<ul class='k-upload-files k-reset'></ul>").appendTo(d.wrapper),d.options.showFileList||g.hide()),e=a(".k-file",g),f=a("<li class='k-file'><span class='k-filename' title='"+b+"'>"+b+"</span></li>").appendTo(g).data(c),d._async&&f.prepend("<span class='k-icon'></span>"),d.multiple||e.trigger("t:remove"),f},_removeFileEntry:function(b){var d,c=b.closest(".k-upload-files");b.remove(),d=a(".k-file",c),d.find("> .k-fail").length===d.length&&this._hideUploadButton(),0===d.length&&c.remove()},_fileAction:function(a,b){var c={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};c.hasOwnProperty(b)&&(this._clearFileAction(a),a.append(this._renderAction(c[b],this.localization[b]).addClass("k-upload-action")))},_fileState:function(a,b){var f,c=this.localization,d={uploading:{cssClass:"k-loading",text:c.statusUploading},uploaded:{cssClass:"k-success",text:c.statusUploaded},failed:{cssClass:"k-fail",text:c.statusFailed}},e=d[b];e&&(f=a.children(".k-icon").text(e.text),f[0].className="k-icon "+e.cssClass)},_renderAction:function(b,c){return""!==b?a("<button type='button' class='k-button k-button-icontext'><span class='k-icon "+b+"'></span>"+c+"</button>"):a("<button type='button' class='k-button'>"+c+"</button>")},_clearFileAction:function(a){a.find(".k-upload-action").remove()},_onFileAction:function(b){var d,e,f,g,c=this;return c.wrapper.hasClass("k-state-disabled")||(d=a(b.target).closest(".k-upload-action"),e=d.find(".k-icon"),f=d.closest(".k-file"),g={files:f.data("fileNames")},e.hasClass("k-delete")?c.trigger(o,g)||f.trigger("t:remove",g.data):e.hasClass("k-cancel")?(c.trigger(m,g),f.trigger("t:cancel"),this._checkAllComplete()):e.hasClass("k-retry")&&f.trigger("t:retry")),!1},_onUploadSelected:function(){return this.wrapper.trigger("t:saveSelected"),!1},_onFileProgress:function(b,c){var d=a(".k-progress-status",b.target);0===d.length&&(d=a("<span class='k-progress'><span class='k-state-selected k-progress-status' style='width: 0;'></span></span>").appendTo(a(".k-filename",b.target)).find(".k-progress-status")),d.width(c+"%"),this.trigger(n,{files:E(b).data("fileNames"),percentComplete:c})},_onUploadSuccess:function(a,b,c){var d=E(a);this._fileState(d,"uploaded"),this.trigger(j,{files:d.data("fileNames"),response:b,operation:"upload",XMLHttpRequest:c}),this._supportsRemove()?this._fileAction(d,o):this._clearFileAction(d),this._checkAllComplete()},_onUploadError:function(a,b){var c=E(a);this._fileState(c,"failed"),this._fileAction(c,"retry"),this.trigger(k,{operation:"upload",files:c.data("fileNames"),XMLHttpRequest:b}),e("Server response: "+b.responseText),this._checkAllComplete()},_showUploadButton:function(){var b=a(".k-upload-selected",this.wrapper);0===b.length&&(b=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(b)},_hideUploadButton:function(){a(".k-upload-selected",this.wrapper).remove()},_onParentFormSubmit:function(){var d,b=this,c=b.element;c.trigger("t:abort"),c.value||(d=a(c),d.attr("disabled","disabled"),window.setTimeout(function(){d.removeAttr("disabled")},0))},_onParentFormReset:function(){a(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var a=this._userAgent().indexOf("Windows")>-1;return!(c.support.browser.opera||c.support.browser.safari&&a)},_supportsDrop:function(){var a=this._userAgent().toLowerCase(),b=/chrome/.test(a),c=!b&&/safari/.test(a),d=c&&/windows/.test(a);return!d&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var c,d,b=this;a(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>"),c=b._ns,d=a(".k-dropzone",b.wrapper).append(a("<em>"+b.localization.dropFilesHere+"</em>")).on("dragenter"+c,B).on("dragover"+c,function(a){a.preventDefault()}).on("drop"+c,a.proxy(this._onDrop,this)),C(d,c,function(){d.addClass("k-dropzone-hovered")},function(){d.removeClass("k-dropzone-hovered")}),C(a(document),c,function(){d.addClass("k-dropzone-active")},function(){d.removeClass("k-dropzone-active")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(b,c,d,e){var f=this,g=f.options.async.removeField||"fileNames",h=a.extend(c,F());h[g]=b,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",url:this.options.async.removeUrl,traditional:!0,data:h,success:d,error:e})},_wrapInput:function(a){return a.wrap("<div class='k-widget k-upload'><div class='k-button k-upload-button'></div></div>"),a.closest(".k-button").append("<span>"+this.localization.select+"</span>"),a.closest(".k-upload")},_checkAllComplete:function(){0===a(".k-file .k-icon.k-loading",this.wrapper).length&&this.trigger(l)}}),q=function(b){this.name="syncUploadModule",this.element=b.wrapper,this.upload=b,this.element.bind("t:select",a.proxy(this.onSelect,this)).bind("t:remove",a.proxy(this.onRemove,this)).closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};q.prototype={onSelect:function(b){var e,c=this.upload,d=a(b.target);c._addInput(d.clone().val("")),e=c._enqueueFile(t(d),{relatedInput:d,fileNames:u(d)}),c._fileAction(e,o)},onRemove:function(a){var b=E(a);b.data("relatedInput").remove(),this.upload._removeFileEntry(b)}},r=function(b){this.name="iframeUploadModule",this.element=b.wrapper,this.upload=b,this.iframes=[],this.element.bind("t:select",a.proxy(this.onSelect,this)).bind("t:cancel",a.proxy(this.onCancel,this)).bind("t:retry",a.proxy(this.onRetry,this)).bind("t:remove",a.proxy(this.onRemove,this)).bind("t:saveSelected",a.proxy(this.onSaveSelected,this)).bind("t:abort",a.proxy(this.onAbort,this))},p._frameId=0,r.prototype={onSelect:function(b){var c=this.upload,d=a(b.target),e=this.prepareUpload(d);c.options.async.autoUpload?this.performUpload(e):(c._supportsRemove()&&this.upload._fileAction(e,o),c._showUploadButton())},prepareUpload:function(b){var f,g,h,c=this.upload,d=a(c.element),e=c.options.async.saveField||b.attr("name");return c._addInput(b.clone().val("")),b.attr("name",e),f=this.createFrame(c.name+"_"+p._frameId++),this.registerFrame(f),g=this.createForm(c.options.async.saveUrl,f.attr("name")).append(d),h=c._enqueueFile(t(b),{frame:f,relatedInput:d,fileNames:u(b)}),f.data({form:g,file:h}),h},performUpload:function(b){var f,g,h,c={files:b.data("fileNames")},d=b.data("frame"),e=this.upload;if(e.trigger(i,c))e._removeFileEntry(d.data("file")),this.cleanupFrame(d),this.unregisterFrame(d);else{e._hideUploadButton(),d.appendTo(document.body),f=d.data("form").appendTo(document.body),c.data=a.extend({},c.data,F());for(g in c.data)h=f.find("input[name='"+g+"']"),0===h.length&&(h=a("<input>",{type:"hidden",name:g}).appendTo(f)),h.val(c.data[g]);e._fileAction(b,m),e._fileState(b,"uploading"),d.one("load",a.proxy(this.onIframeLoad,this)),f[0].submit()}},onSaveSelected:function(){var b=this;a(".k-file",this.element).each(function(){var c=a(this),d=D(c);d||b.performUpload(c)})},onIframeLoad:function(b){var d,c=a(b.target);try{d=c.contents().text()}catch(e){d="Error trying to get server response: "+e}this.processResponse(c,d)},processResponse:function(b,c){var d=b.data("file"),e=this,f={responseText:c};c=c||"null",A(c,function(c){a.extend(f,{statusText:"OK",status:"200"}),d.trigger("t:progress",[100]),d.trigger("t:upload-success",[c,f]),e.cleanupFrame(b),e.unregisterFrame(b)},function(){a.extend(f,{statusText:"error",status:"500"}),d.trigger("t:upload-error",[f])})},onCancel:function(b){var c=a(b.target).data("frame");this.stopFrameSubmit(c),this.cleanupFrame(c),this.unregisterFrame(c),this.upload._removeFileEntry(c.data("file"))},onRetry:function(a){var b=E(a);this.performUpload(b)},onRemove:function(a,b){var c=E(a),d=c.data("frame");d?(this.unregisterFrame(d),this.upload._removeFileEntry(c),this.cleanupFrame(d)):z(c,this.upload,b)},onAbort:function(){var b=this.element,c=this;a.each(this.iframes,function(){a("input",this.data("form")).appendTo(b),c.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(b){return a("<iframe name='"+b+"'"+" id='"+b+"'"+" style='display:none;' />")},createForm:function(b,c){return a("<form enctype='multipart/form-data' method='POST' action='"+b+"'"+" target='"+c+"'"+"/>")},stopFrameSubmit:function(a){"undefined"!=typeof a.stop?a.stop():a.document&&a.document.execCommand("Stop")},registerFrame:function(a){this.iframes.push(a)},unregisterFrame:function(b){this.iframes=a.grep(this.iframes,function(a){return a.attr("name")!=b.attr("name")})},cleanupFrame:function(a){var b=a.data("form");a.data("file").data("frame",null),setTimeout(function(){b.remove(),a.remove()},1)}},s=function(b){this.name="formDataUploadModule",this.element=b.wrapper,this.upload=b,this.element.bind("t:select",a.proxy(this.onSelect,this)).bind("t:cancel",a.proxy(this.onCancel,this)).bind("t:remove",a.proxy(this.onRemove,this)).bind("t:retry",a.proxy(this.onRetry,this)).bind("t:saveSelected",a.proxy(this.onSaveSelected,this)).bind("t:abort",a.proxy(this.onAbort,this))},s.prototype={onSelect:function(b,c){var d=this.upload,e=this,f=a(b.target),g=c?v(c):this.inputFiles(f),h=this.prepareUpload(f,g);a.each(h,function(){d.options.async.autoUpload?e.performUpload(this):(d._supportsRemove()&&d._fileAction(this,o),d._showUploadButton())})},prepareUpload:function(b,c){var d=this.enqueueFiles(c);return b.is("input")&&(a.each(d,function(){a(this).data("relatedInput",b)}),b.data("relatedFileEntries",d),this.upload._addInput(b.clone().val(""))),d},enqueueFiles:function(b){var d,e,g,h,c=this.upload,f=b.length,i=[];if(c.options.async.batch===!0)d=a.map(b,function(a){return a.name}).join(", "),h=c._enqueueFile(d,{fileNames:b}),h.data("files",b),i.push(h);else for(e=0;f>e;e++)g=b[e],d=g.name,h=c._enqueueFile(d,{fileNames:[g]}),h.data("files",[g]),i.push(h);return i},inputFiles:function(a){return u(a)},performUpload:function(b){var f,c=this.upload,d=this.createFormData(b.data("files")),e={files:b.data("fileNames")};if(c.trigger(i,e))this.removeFileEntry(b);else{c._fileAction(b,m),c._hideUploadButton(),e.data=a.extend({},e.data,F());for(f in e.data)d.append(f,e.data[f]);c._fileState(b,"uploading"),this.postFormData(this.upload.options.async.saveUrl,d,b)}},onSaveSelected:function(){var b=this;a(".k-file",this.element).each(function(){var c=a(this),d=D(c);d||b.performUpload(c)})},onCancel:function(a){var b=E(a);this.stopUploadRequest(b),this.removeFileEntry(b)},onRetry:function(a){var b=E(a);this.performUpload(b)},onRemove:function(a,b){var c=E(a);c.children(".k-icon").is(".k-success")?z(c,this.upload,b):this.removeFileEntry(c)},postFormData:function(a,b,c){var d=new XMLHttpRequest,e=this;c.data("request",d),d.addEventListener("load",function(a){e.onRequestSuccess.call(e,a,c)},!1),d.addEventListener(k,function(a){e.onRequestError.call(e,a,c)},!1),d.upload.addEventListener("progress",function(a){e.onRequestProgress.call(e,a,c)},!1),d.open("POST",a),d.withCredentials="true",d.send(b)},createFormData:function(a){var d,b=new FormData,c=this.upload,e=a.length;for(d=0;e>d;d++)b.append(c.options.async.saveField||c.name,a[d].rawFile);return b},onRequestSuccess:function(a,b){function e(){b.trigger("t:upload-error",[c])}var c=a.target,d=this;c.status>=200&&c.status<=299?A(c.responseText,function(a){b.trigger("t:progress",[100]),b.trigger("t:upload-success",[a,c]),d.cleanupFileEntry(b)},e):e()},onRequestError:function(a,b){var c=a.target;b.trigger("t:upload-error",[c])},cleanupFileEntry:function(b){var c=b.data("relatedInput"),d=!0;c&&(a.each(c.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=b[0]&&(d=d&&this.children(".k-icon").is(".k-success"))}),d&&c.remove())},removeFileEntry:function(a){this.cleanupFileEntry(a),this.upload._removeFileEntry(a)},onRequestProgress:function(a,b){var c=Math.round(100*a.loaded/a.total);b.trigger("t:progress",[c])},stopUploadRequest:function(a){a.data("request").abort()}},c.ui.plugin(p)}(window.kendo.jQuery),function(a,b){function P(a){return"undefined"!=typeof a}function Q(a,b,c){return Math.max(Math.min(a,c),b)}function R(a,b){var c=a.children(r);return c.data("kendoWindow")||c.data("kendo"+b)}function S(b){return a(o).filter(function(){var c=a(this),d=R(c,b);return d.options.modal&&c.is(y)&&d.options.visible}).sort(function(b,c){return+a(b).css("zIndex")-+a(c).css("zIndex")})}function T(a,b){return function(){var a=this,c=a.wrapper,d=c[0].style,e=a.options;if(!e.isMaximized&&!e.isMinimized)return a.restoreOptions={width:d.width,height:d.height},c.find(s).hide().end().find(M).parent().hide().eq(0).before(m.action({name:"Restore"})),b.call(a),a}}function V(a){var b=this;b.owner=a,b._draggable=new e(a.wrapper,{filter:s,group:a.wrapper.id+"-resizing",dragstart:h(b.dragstart,b),drag:h(b.drag,b),dragend:h(b.dragend,b)})}function W(a){var b=this;b.owner=a,b._draggable=new e(a.wrapper,{filter:q,group:a.wrapper.id+"-moving",dragstart:h(b.dragstart,b),drag:h(b.drag,b),dragend:h(b.dragend,b),dragcancel:h(b.dragcancel,b)})}var c=window.kendo,d=c.ui.Widget,e=c.ui.Draggable,f=a.isPlainObject,g=c._activeElement,h=a.proxy,i=a.extend,j=a.each,k=c.template,l="body",n=".kendoWindow",o=".k-window",p=".k-window-title",q=p+"bar",r=".k-window-content",s=".k-resize-handle",t=".k-overlay",u="k-content-frame",v="k-loading",w="k-state-hover",x="k-state-focused",y=":visible",z="hidden",A="cursor",B="open",C="activate",D="deactivate",E="close",F="refresh",G="resize",H="dragstart",I="dragend",J="error",K="overflow",L="zIndex",M=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",N=".k-window-titlebar .k-window-action",O=c.isLocalUrl,U=d.extend({init:function(b,e){var k,s,t,u,A,D,E,g=this,l={animation:!1},v=!1;d.fn.init.call(g,b,i(l,e)),e=g.options,b=g.element,A=e.content,g.appendTo=a(e.appendTo||document.body),g._animations(),A&&!f(A)&&(A=e.content={url:A}),b.find("script").filter(function(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}).remove(),b.parent().is(g.appendTo)||(b.is(y)?(s=b.offset(),v=!0):(t=b.css("visibility"),u=b.css("display"),b.css({visibility:z,display:""}),s=b.offset(),b.css({visibility:t,display:u}))),P(e.visible)&&null!==e.visible||(e.visible=b.is(y)),k=g.wrapper=b.closest(o),b.is(".k-content")&&k[0]||(b.addClass("k-window-content k-content"),g._createWindow(b,e),k=g.wrapper=b.closest(o),g._dimensions()),s&&k.css({top:s.top,left:s.left}),A&&g.refresh(A),e.visible&&g.toFront(),D=k.children(r),g._tabindex(D),e.visible&&e.modal&&g._overlay(k.is(y)).css({opacity:.5}),k.on("mouseenter"+n,N,function(){a(this).addClass(w)}).on("mouseleave"+n,N,function(){a(this).removeClass(w)}).on("click"+n,N,h(g._windowActionHandler,g)),D.on("keydown"+n,h(g._keydown,g)).on("focus"+n,function(){k.addClass(x)}).on("blur"+n,function(){k.removeClass(x)}),e.resizable&&(k.on("dblclick"+n,q,function(b){return a(b.target).closest(".k-window-action").length||g.toggleMaximization(),this}),j("n e s w se sw ne nw".split(" "),function(a,b){k.append(m.resizeHandle(b))}),g.resizing=new V(g)),e.draggable&&(g.dragging=new W(g)),E=b.attr("id"),E&&(E+="_wnd_title",k.find(q).children(p).attr("id",E),D.attr({role:"dialog","aria-labelledby":E})),k.add(k.find(".k-resize-handle,.k-window-titlebar")).on("mousedown"+n,h(g.toFront,g)),g.touchScroller=c.touchScroller(b),g._resizeHandler=function(a){return g._onDocumentResize(a)},a(window).on("resize",g._resizeHandler),e.visible&&(g.trigger(B),g.trigger(C)),c.notify(g)},_dimensions:function(){var a=this,b=a.wrapper,c=a.element,d=a.options;a.title(d.title),j(["minWidth","minHeight","maxWidth","maxHeight"],function(a,b){var e=d[b];e&&1/0!=e&&c.css(b,e)}),d.width&&b.width(Q(parseInt(d.width,10),d.minWidth,d.maxWidth)),d.height&&b.height(Q(parseInt(d.height,10),d.minHeight,d.maxHeight)),d.visible||b.hide()},_animations:function(){var a=this.options;a.animation===!1&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},setOptions:function(a){d.fn.setOptions.call(this,a),this._animations(),this._dimensions()},events:[B,C,D,E,F,G,H,I,J],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,visible:null,height:null,width:null},_closable:function(){return a.inArray("close",a.map(this.options.actions,function(a){return a.toLowerCase()}))>-1},_keydown:function(a){var h,i,l,m,b=this,d=b.options,e=c.keys,f=a.keyCode,g=b.wrapper,j=10,k=b.options.isMaximized;a.target==a.currentTarget&&(f==e.ESC&&b._closable()&&b._close(!0),!d.draggable||a.ctrlKey||k||(h=c.getOffset(g),f==e.UP?i=g.css("top",h.top-j):f==e.DOWN?i=g.css("top",h.top+j):f==e.LEFT?i=g.css("left",h.left-j):f==e.RIGHT&&(i=g.css("left",h.left+j))),d.resizable&&a.ctrlKey&&!k&&(f==e.UP?(i=!0,m=g.height()-j):f==e.DOWN&&(i=!0,m=g.height()+j),f==e.LEFT?(i=!0,l=g.width()-j):f==e.RIGHT&&(i=!0,l=g.width()+j),i&&(g.css({width:Q(l,d.minWidth,d.maxWidth),height:Q(m,d.minHeight,d.maxHeight)}),b.trigger(G))),i&&a.preventDefault())},_overlay:function(b){var c=this.appendTo.children(".k-overlay"),d=this.wrapper;return c.length||(c=a("<div class='k-overlay' />")),c.insertBefore(d[0]).toggle(b).css(L,parseInt(d.css(L),10)-1),c},_windowActionHandler:function(b){var c=a(b.target).closest(".k-window-action").find(".k-icon"),d=this;d._closing||j({"k-i-close":function(){d._close(!0)},"k-i-maximize":d.maximize,"k-i-minimize":d.minimize,"k-i-restore":d.restore,"k-i-refresh":d.refresh},function(a,e){return c.hasClass(a)?(b.preventDefault(),e.call(d),!1):void 0})},center:function(){var b=this.wrapper,c=a(window);return b.css({left:c.scrollLeft()+Math.max(0,(c.width()-b.width())/2),top:c.scrollTop()+Math.max(0,(c.height()-b.height())/2)}),this},title:function(a){var b=this,c=b.wrapper,d=b.options,e=c.find(q),f=e.children(p),g=e.outerHeight();return arguments.length?(a===!1?(c.addClass("k-window-titleless"),e.remove()):(e.length||c.prepend(m.titlebar(i(m,d))),c.css("padding-top",g),e.css("margin-top",-g)),f.text(a),b):f.text()},content:function(a){var b=this.wrapper.children(r),c=b.children(".km-scroll-container");return b=c[0]?c:b,a?(b.html(a),this):b.html()},open:function(){var h,b=this,c=b.wrapper,d=b.options,e=d.animation.open,f=c.children(r),g=f.css(K);return b.trigger(B)||(b._closing=!1,b.toFront(),b.element.focus(),d.visible=!0,d.modal&&(h=b._overlay(!1),e.duration?h.kendoStop().kendoAnimate({effects:"fade:in",duration:e.duration}):h.css("opacity",.5).show()),c.is(y)||(f.css(K,z),c.show().kendoStop().kendoAnimate({effects:e.effects,duration:e.duration,complete:function(){b.element.focus(),b.trigger(C),f.css(K,g)}}))),d.isMaximized&&(b._documentScrollTop=a(document).scrollTop(),a("html, body").css(K,z)),b},_close:function(c){var i,j,k,d=this,e=d.wrapper,f=d.options,g=f.animation.open,h=f.animation.close;d._closing||(e.is(y)&&!d.trigger(E,{userTriggered:!!c})&&(d._closing=!0,f.visible=!1,a(o).each(function(b,c){var d=a(c),f=d.find(r);c!=e&&f.find("> ."+u).length>0&&f.children(".k-overlay").remove()}),i=S(f.name),j=f.modal&&!i.length,k=f.modal?d._overlay(!0):a(b),j?h.duration?k.kendoStop().kendoAnimate({effects:"fade:out",duration:h.duration,hide:!0}):k.hide():i.length&&R(i.eq(i.length-1),f.name)._overlay(!0),e.kendoStop().kendoAnimate({effects:h.effects||g.effects,reverse:h.reverse===!0,duration:h.duration,complete:function(){e.hide(),d.trigger(D)}})),d.options.isMaximized&&(a("html, body").css(K,""),d._documentScrollTop&&d._documentScrollTop>0&&a(document).scrollTop(d._documentScrollTop)))},close:function(){return this._close(!1),this},toFront:function(b){var l,n,c=this,d=c.wrapper,e=d[0],f=+d.css(L),h=f,i=g(),j=c.element,k=b&&b.target?b.target:null;return a(o).each(function(b,c){var d=a(c),g=d.css(L),h=d.find(r);isNaN(g)||(f=Math.max(+g,f)),c!=e&&h.find("> ."+u).length>0&&h.append(m.overlay)}),(10001==f||f>h)&&d.css(L,f+2),c.element.find("> .k-overlay").remove(),a(i).is(j)||a(k).is(N+","+N+" .k-icon,:input")||j.find(i).length&&j.find(k).length||(j.focus(),l=a(window).scrollTop(),n=parseInt(c.wrapper.position().top,10),n>0&&0>n-l&&(l>0?a(window).scrollTop(n):c.wrapper.css("top",l))),c},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var b=this,c=b.options,d=b.restoreOptions;if(c.isMaximized||c.isMinimized)return b.wrapper.css({position:"absolute",left:d.left,top:d.top,width:d.width,height:d.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(M).parent().show(),a("html, body").css(K,""),this._documentScrollTop&&this._documentScrollTop>0&&a(document).scrollTop(this._documentScrollTop),c.isMaximized=c.isMinimized=!1,b.trigger(G),b},maximize:T("maximize",function(){var b=this,c=b.wrapper,d=c.position();i(b.restoreOptions,{left:d.left,top:d.top}),c.css({left:0,top:0,position:"fixed"}),this._documentScrollTop=a(document).scrollTop(),a("html, body").css(K,z),b.options.isMaximized=!0,b._onDocumentResize()}),minimize:T("minimize",function(){var a=this;a.wrapper.css("height",""),a.element.hide(),a.options.isMinimized=!0}),_onDocumentResize:function(){var b=this,c=b.wrapper,d=a(window);b.options.isMaximized&&(c.css({width:d.width(),height:d.height()-parseInt(c.css("padding-top"),10)}),b.trigger(G))},refresh:function(b){var g,h,j,c=this,d=c.options,e=a(c.element);return f(b)||(b={url:b}),b=i({},d.content,b),h=P(d.iframe)?d.iframe:b.iframe,j=b.url,j?(P(h)||(h=!O(j)),h?(g=e.find("."+u)[0],g?g.src=j||g.src:e.html(m.contentFrame(i({},d,{content:b}))),e.find("."+u).unbind("load"+n).on("load"+n,function(){c.trigger(F)})):c._ajaxRequest(b)):(b.template&&c.content(k(b.template)({})),c.trigger(F)),c},_ajaxRequest:function(b){var c=this,d=b.template,e=c.wrapper.find(".k-window-titlebar .k-i-refresh"),f=setTimeout(function(){e.addClass(v)},100);a.ajax(i({type:"GET",dataType:"html",cache:!1,error:h(function(a,b){c.trigger(J,{status:b,xhr:a})},c),complete:function(){clearTimeout(f),e.removeClass(v)},success:h(function(a){d&&(a=k(d)(a||{})),c.content(a),c.element.prop("scrollTop",0),c.trigger(F)},c)},b))},destroy:function(){var e,f,b=this;d.fn.destroy.call(b),c.destroy(b.wrapper),b.resizing&&b.resizing.destroy(),b.dragging&&b.dragging.destroy(),b.element.children("iframe").remove(),b.wrapper.remove().add(b.wrapper.find(".k-resize-handle,.k-window-titlebar")).off(n),a(window).off("resize",b._resizeHandler),e=S(),f=b.options.modal&&!e.length,f?b._overlay(!1).remove():e.length>0&&R(e.eq(e.length-1),b.options.name)._overlay(!0)},_createWindow:function(){var f,g,b=this,d=b.element,e=b.options,h=c.support.isRtl(d);e.scrollable===!1&&d.attr("style","overflow:hidden;"),g=a(m.wrapper(e)),e.title!==!1&&g.append(m.titlebar(i(m,e))),f=d.find("iframe:not(.k-content)").map(function(){var a=this.getAttribute("src");return this.src="",a}),g.toggleClass("k-rtl",h).appendTo(b.appendTo).append(d).find("iframe:not(.k-content)").each(function(a){this.src=f[a]}),g.find(".k-window-title").css(h?"left":"right",g.find(".k-window-actions").outerWidth()+10),d.show()}}),m={wrapper:k("<div class='k-widget k-window' />"),action:k("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:k("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:k("<iframe frameborder='0' title='#= title #' class='"+u+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:k("<div class='k-resize-handle k-resize-#= data #'></div>")};V.prototype={dragstart:function(b){var d=this,e=d.owner,f=e.wrapper;d.elementPadding=parseInt(e.wrapper.css("padding-top"),10),d.initialCursorPosition=c.getOffset(f,"position"),d.resizeDirection=b.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),d.initialSize={width:f.width(),height:f.height()},d.containerOffset=c.getOffset(e.appendTo),f.append(m.overlay).find(s).not(b.currentTarget).hide(),a(l).css(A,b.currentTarget.css(A))},drag:function(a){var j,k,l,m,b=this,c=b.owner,d=c.wrapper,e=c.options,f=b.resizeDirection,g=b.containerOffset,h=b.initialCursorPosition,i=b.initialSize,n=a.x.location,o=a.y.location;f.indexOf("e")>=0?(j=n-h.left,d.width(Q(j,e.minWidth,e.maxWidth))):f.indexOf("w")>=0&&(m=h.left+i.width,j=Q(m-n,e.minWidth,e.maxWidth),d.css({left:m-j-g.left,width:j})),f.indexOf("s")>=0?(k=o-h.top-b.elementPadding,d.height(Q(k,e.minHeight,e.maxHeight))):f.indexOf("n")>=0&&(l=h.top+i.height,k=Q(l-o,e.minHeight,e.maxHeight),d.css({top:l-k-g.top,height:k})),c.trigger(G)},dragend:function(b){var c=this,d=c.owner,e=d.wrapper;return e.find(t).remove().end().find(s).not(b.currentTarget).show(),a(l).css(A,""),d.touchScroller&&d.touchScroller.reset(),27==b.keyCode&&e.css(c.initialCursorPosition).css(c.initialSize),!1},destroy:function(){this._draggable.destroy()}},W.prototype={dragstart:function(b){var d=this.owner,e=d.element,f=e.find(".k-window-actions"),g=c.getOffset(d.appendTo);d.trigger(H),d.initialWindowPosition=c.getOffset(d.wrapper,"position"),d.startPosition={left:b.x.client-d.initialWindowPosition.left,top:b.y.client-d.initialWindowPosition.top},d.minLeftPosition=f.length>0?f.outerWidth()+parseInt(f.css("right"),10)-e.outerWidth():20-e.outerWidth(),d.minLeftPosition-=g.left,d.minTopPosition=-g.top,d.wrapper.append(m.overlay).find(s).hide(),a(l).css(A,b.currentTarget.css(A))},drag:function(b){var c=this.owner,d={left:Math.max(b.x.client-c.startPosition.left,c.minLeftPosition),top:Math.max(b.y.client-c.startPosition.top,c.minTopPosition)};a(c.wrapper).css(d)},_finishDrag:function(){var b=this.owner;b.wrapper.find(s).toggle(!b.options.isMinimized).end().find(t).remove(),a(l).css(A,"")},dragcancel:function(a){this._finishDrag(),a.currentTarget.closest(o).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(I),!1},destroy:function(){this._draggable.destroy()}},c.ui.plugin(U)}(window.kendo.jQuery);
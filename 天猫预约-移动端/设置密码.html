<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="format-detection" content="telephone=no, email=no">
	<link rel="stylesheet" type="text/css" href="../scmstatic/css/jquery.mobile-1.4.5.min.css">
	<link rel="stylesheet" type="text/css" href="../scmstatic/css/jqm.reset.css">
	<link rel="stylesheet" type="text/css" href="../scmstatic/css/common.css">
	<link rel="stylesheet" type="text/css" href="../scmstatic/css/tm_order.css">
	<script type="text/javascript" src="../scmstatic/js/jquery.min.js"></script>
	<script type="text/javascript" src="../scmstatic/js/jquery.mobile-1.4.5.min.js"></script>
	<script type="text/javascript" src="../scmstatic/js/common.js"></script>
	<title>设置密码</title>

	<style type="text/css">
	</style>
</head>
<body>
	<div class="viewport">
		<div class="setPassword">
			<div class="title">
				设置密码后登陆更方便
			</div>
			<div class="wave">
			</div>
			<div class="password-block clearfix">
				<div class="lock-block">
					<i class="lock-img"></i>
				</div>
				<div class="password-input">
					<form method="POST" name="forms">
						<div class="input-character">
							<input type="password" class="password" name="password" placeholder="请输入6-16位字符" data-role="none">
							<i class="deleteInput-img"></i>
						</div>
						<div class="review-password">

							<input type="password" class="confirmPassword" name="confirmPassword" placeholder="再次输入您的密码" data-role="none">
							<i class="deleteInput-img"></i>
						</div>
					</form>
				</div>
				<div class="closeEye">
					<a href="javascript:displayPassword()" class="closeEye-img"></a>
					<!-- <a href="javascript:displayPassword()" class="openEye-img"></a> -->
				</div>
			</div>
			<div class="error-hint" data-role="none">
				密码输入不一致
			</div>
			<a href="javascript:void(0)" class="confirm-button" data-role="none">
				确	定
			</a>
		</div>
		
	</div>

	<script type="text/javascript">
		$(function(){

			$(".viewport").css({
				"height": $(window).height() + "px"
			});





			var password = $('.password');
			var confirmPassword = $('.confirmPassword');
			var confirmButton = $('.confirm-button');

			$(".deleteInput-img").on("click",function(){
				$(this).prev().val('');
				$(this).prev().focus();

				if((password.val() == '') && (confirmPassword.val() == ''))
				{
					if(confirmButton.hasClass('confirm-button-red'))
						confirmButton.removeClass('confirm-button-red');
				}
			});


			password.on('input',function(){
				if(!confirmButton.hasClass('confirm-button-red'))
					confirmButton.addClass('confirm-button-red');
				if((password.val() == '') && (confirmPassword.val() == ''))
				{
					if(confirmButton.hasClass('confirm-button-red'))
						confirmButton.removeClass('confirm-button-red');
				}
			});

			confirmPassword.on('input',function(){
				if(!confirmButton.hasClass('confirm-button-red'))
					confirmButton.addClass('confirm-button-red');
				if((password.val() == '') && (confirmPassword.val() == ''))
				{
					if(confirmButton.hasClass('confirm-button-red'))
						confirmButton.removeClass('confirm-button-red');
				}
			});

		
			$('.confirm-button').on('click',function(){
				if(password.val() == confirmPassword.val())
				{
					$('.error-hint').css('color','#E7EBEF');
				}
				else{
					$('.error-hint').css('color','#f1595d');
				}
			});
			

		});

		function displayPassword(){
			if(this.forms.password.type == "password")
			{
				var password = $('.password');
				password.attr("type","text");

				var confirmPassword = $('.confirmPassword');
				confirmPassword.attr("type","text");
				
				var closeEye = $('.closeEye');
				closeEye.html("<a href='javascript:displayPassword()' class='openEye-img'></a>");
			}
			else if(this.forms.password.type == "text"){

				var password = $('.password');
				password.attr("type","password");

				var confirmPassword = $('.confirmPassword');
				confirmPassword.attr("type","password");

				var closeEye = $('.closeEye');
				closeEye.html("<a href='javascript:displayPassword()' class='closeEye-img'></a>");
			}
		}
	</script>



</body>
</html>
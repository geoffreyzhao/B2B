<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- 因为有证件照片，可能会允许用户缩放页面, 暂设最大放大比例为2倍  -->
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0"> -->
	<meta name="format-detection" content="telephone=no, email=no">
	<link rel="stylesheet" type="text/css" href="../scmstatic/css/jquery.mobile-1.4.5.min.css">
	<link rel="stylesheet" type="text/css" href="../scmstatic/css/common.css">
	<link rel="stylesheet" type="text/css" href="../scmstatic/css/tm_order.css">
	<script type="text/javascript" src="../scmstatic/js/jquery.min.js"></script>
	<script type="text/javascript" src="../scmstatic/js/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript" src="../scmstatic/js/fastclick.js"></script>
	<script type="text/javascript" src="../scmstatic/js/common.js"></script>
	<title>填写出行人信息</title>
</head>
<body>
	<div class="viewport">
        <section class="chuXingRen" style="margin-top: 0.5rem;">
            <ul class="chuXingRenList">
                <li class="clearfix">
                    <span class="leftNumber">姓名</span>
                    <span class="chuXingInfo">
                        <input type="text" placeholder="请输入姓名" data-role="none">
                    </span>
                    <a href="javascript:void(0);" class="selectTraveler">选择常旅客</a>
                </li>
                <li class="clearfix">
                    <span class="leftNumber">英文名</span>
                    <span class="chuXingInfo">
                        <input type="text" placeholder="请输入英文名" data-role="none">
                    </span>
                </li>
                <li class="clearfix">
                    <span class="leftNumber">手机号码</span>
                    <span class="chuXingInfo">
                        <input type="tel" placeholder="请输入手机号码" data-role="none">
                    </span>
                </li>
                <li class="clearfix">
                    <span class="leftNumber">证件类型</span>
                    <span class="chuXingInfo idTypes">
                        <span class="idTypeCont">护照</span>
                        <span class="rightGrayArrow idTypeWindow"></span>
                    </span>
                </li>
                <li class="clearfix">
                    <span class="leftNumber">证件号码</span>
                    <span class="chuXingInfo">
                        <input type="tel" placeholder="请输入" data-role="none">
                    </span>
                </li>
                <li class="clearfix">
                    <span class="leftNumber">证件照片</span>
                    <span class="chuXingInfo">
                        <!--  显示默认图片  -->
                        <span class="photoIcon"></span>

                        <!--  上传图片后，显示图片缩略图  -->
                        <!-- <img class="idPhoto" src="../scmstatic/images/emptyPhoto.png" alt=""> -->

                        <!--  上传图片页面结构 仅供外部浏览器使用，微信中请调用微信相关JS接口
                        <span class="upload-input">                            
                            <span class="photoIcon"></span>
                            <input type="file" accept="image/gif,image/jpeg,image/png" data-role="none" />
                        </span>
                        -->
                        <img id="photoExample" src="../scmstatic/images/photo-example.jpg" alt="" style="display:none;">
                    </span>
                    <span class="seeExample">查看示例</span>
                </li>
                <li class="clearfix last">
                    <span class="leftNumber leftFonts">保存为常用联系人</span>
                    <span class="noSaveBtn"></span>
                </li>
            </ul>
        </section>

        <div class="bottomBlueBtn">
            <a href="javascript:void(0);" class="bigBlueBtn">确 定</a>
        </div>

        <div class="select-pop-container"></div>
        
        <!--  选择证件类型弹窗  -->
        <div data-role="popup" class="select-pop">
            <div class="title">证件类型</div>
            <ul class="item-list">
                <li>
                    <span class="item-cont">身份证</span>
                    <span class="item-selected-icon"></span>
                </li>
                <li>
                    <span class="item-cont">护照</span>
                    <span class="item-selected-icon"></span>
                </li>
                <li>
                    <span class="item-cont">港澳通行证</span>
                    <span class="item-selected-icon"></span>
                </li>
                <li>
                    <span class="item-cont">台湾通行证</span>
                    <span class="item-selected-icon"></span>
                </li>
                <li>
                    <span class="item-cont">其他</span>
                    <span class="item-selected-icon"></span>
                </li>
            </ul>
        </div>

        <!--  查看大图弹窗  -->
        <div data-role="popup" class="view-bigImg-pop">
            <img src="" alt="" width="100%;">
        </div>
    
        <!--  没有常旅客  -->
        <div data-role="popup" id="noTraveler">还没有常旅客！</div>

        <!--  选择常旅客弹窗  -->
        <div data-role="popup" class="selectTraveler-pop">
            <div class="title">常旅客</div>
            <ul class="item-list">
                <li>
                    <span class="item-cont">张梓琳</span>
                    <span class="item-selected-icon"></span>
                </li>
                <li>
                    <span class="item-cont">张柏芝</span>
                    <span class="item-selected-icon"></span>
                </li>
                <li>
                    <span class="item-cont">张铁林</span>
                    <span class="item-selected-icon"></span>
                </li>
                <li>
                    <span class="item-cont">张年</span>
                    <span class="item-selected-icon"></span>
                </li>
            </ul>
        </div>
        
	</div>
    
<script>
    $(function(){
        FastClick.attach(document.body);

        $(".chuXingRenList .noSaveBtn").tap(function(){
            $(this).toggleClass("saveBtn");
        });

        
        // 没有常旅客的情况 start
        /*$("#noTraveler").popup({
            theme: "b",
            transition: "flip",
            afteropen: function(){
                setTimeout(function(){
                    $("#noTraveler").popup("close");
                }, 1000);
            }
        });

        $(".selectTraveler").click(function(){
            $("#noTraveler").popup("open");
        });*/
        // 没有常旅客的情况 end


        // 有常旅客的情况 start
        $(".selectTraveler-pop").popup({
            theme: 'a',
            overlayTheme: 'b',
            shadow: false,
            transition: "slideup",
            wrapperClass: 'select-pop-wrapper',
            positionTo: '.select-pop-container',
            tolerance: "0,0",
            corners: false
        });

        $(".selectTraveler").click(function(){
            $(".selectTraveler-pop").popup("open");
        });
        // 有常旅客的情况 end
        
        
        $(".select-pop").popup({
            theme: 'a',
            overlayTheme: 'b',
            shadow: false,
            transition: "slideup",
            wrapperClass: 'select-pop-wrapper',
            positionTo: '.select-pop-container',
            tolerance: "0,0",
            corners: false
        });

        $(".idTypes").click(function(){
            $(".select-pop").popup("open");
        });

        $(".select-pop .item-list li,.selectTraveler-pop .item-list li").click(function(){
            $(this).siblings("li").find("span").removeClass("actived");
            $(this).find("span").addClass("actived");

            $(".idTypeCont,.selectTraveler").html($(this).find(".item-cont").html());
            $(".select-pop,.selectTraveler-pop").popup("close");
        });


        $(".view-bigImg-pop").popup({
            theme: 'a',
            overlayTheme: 'b',
            shadow: false,
            transition: "flip",
            wrapperClass: '',
            tolerance: "0,0",
            corners: false,
            afteropen: function(){
                $(document).bind("touchmove", function(){  //  弹窗弹出时，禁止页面滚动
                    return false;
                });
            },
            afterclose: function(){
                $(document).unbind("touchmove");   // 解除禁止滚动绑定
            }
        });

        $(".seeExample").click(function(){
            $(".view-bigImg-pop").on("popupbeforeposition", function(event){
                $(event.target).find("img").attr("src", "../scmstatic/images/photo-example.jpg");
            });

            $(".view-bigImg-pop").popup("open");
        });

        $(".idPhoto").click(function(){
            $(".view-bigImg-pop").on("popupbeforeposition", function(event){
                $(event.target).find("img").attr("src", "../scmstatic/images/photo-example.jpg");
            });

            $(".view-bigImg-pop").popup("open");
        });


    });
</script>

</body>
</html>
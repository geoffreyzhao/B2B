<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="format-detection" content="telephone=no, email=no">
	<link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.min.css">
	<link rel="stylesheet" type="text/css" href="css/common.css">
	<link rel="stylesheet" type="text/css" href="css/tm_order.css">
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript" src="js/fastclick.js"></script>
	<script type="text/javascript" src="js/common.js"></script>
	<title>订单详情</title>
</head>
<body>
	<div class="viewport">
        <section class="reservationList" style="margin: 0.25rem 0 -0.25rem;">
            <table class="reservationConTab">
                <tbody>
                <tr>
                    <th>订单编号</th>
                    <td>YY58954789871</td>
                </tr>
                </tbody>
            </table>
            <div class="lineBorder"></div>
            <table class="reservationConTab">
                <tbody>
                <tr>
                    <th>商家名称</th>
                    <td>不夜城国旅</td>
                </tr>
                <tr>
                    <th>淘宝账号</th>
                    <td>6485453564dg</td>
                </tr>
                <tr>
                    <th>支付宝账号</th>
                    <td>662218863@qq.com</td>
                </tr>
                <tr>
                    <th>应付金额</th>
                    <td>￥4900</td>
                </tr>
                <tr>
                    <th>实付金额</th>
                    <td>￥4000</td>
                </tr>
                <tr>
                    <th>下单时间</th>
                    <td>2015-03-05  16:09:30</td>
                </tr>
                <tr>
                    <th>付款时间</th>
                    <td>2015-03-05  16:09:30</td>
                </tr>
                </tbody>
            </table>
            <span class="reservationListStatus">买家已付款</span>
        </section>
        <section class="myOrderModel">
            <div class="orderStatistics">
                <span class="orderNumberTitle">商品详情</span>
            </div>
            <div class="makeAnAppointmentInfo">
                <div class="canPoint">
                    <div class="setMealLine">
                        <span class="lineFonts">纵横中国C套餐 25次国内300条线路任意费，邮费补差价</span>
                        <span class="priceFonts"><span class="fontSize20">￥</span>1200</span>
                        <div class="commonIcon grayDotIcon selectGreenDotIcon"></div>
                    </div>
                    <div class="setMealType">
                        <span class="typeLeft">套餐类型：上海出发</span>
                        <span class="typeNumber">X 2</span>
                    </div>
                </div>
                <div class="bookCopies">
                    <span class="residueStyle">剩余：25份</span>
                    <span class="bookStyle">
                        <span class="bookFonts">预约</span>
                        <span class="addSubtract">
                            <span class="subtractFonts">-</span>
                            <input type="tel" value="2" class="copiesInput" data-role="none">
                            <span class="addFonts">+</span>
                        </span>
                        <span class="bookFonts">份</span>
                    </span>
                </div>
            </div>
        </section>
        <section class="myOrderModel" style="margin-bottom: 3rem;">
            <div class="makeAnAppointmentInfo">
                <div class="canPoint">
                    <div class="setMealLine">
                        <span class="lineFonts">纵横中国C套餐 25次国内300条线路任意费，邮费补差价</span>
                        <span class="priceFonts"><span class="fontSize20">￥</span>1200</span>
                        <div class="commonIcon grayDotIcon"></div>
                    </div>
                    <div class="setMealType">
                        <span class="typeLeft">套餐类型：上海出发</span>
                        <span class="typeNumber">X 2</span>
                    </div>
                </div>
                <div class="bookCopies">
                    <span class="residueStyle">剩余：25份</span>
                    <span class="bookStyle">
                        <span class="bookFonts">预约</span>
                        <span class="addSubtract">
                            <span class="subtractFonts">-</span>
                            <input type="tel" value="10" class="copiesInput" data-role="none">
                            <span class="addFonts">+</span>
                        </span>
                        <span class="bookFonts">份</span>
                    </span>
                </div>
            </div>
            <div class="bootModel">
                <div class="setMealLine">
                    <span class="lineFonts">邮费补差，差多少钱拍多少份</span>
                    <span class="priceFonts"><span class="fontSize20">￥</span>1</span>
                </div>
                <div class="setMealType">
                    <span class="typeLeft"></span>
                    <span class="typeNumber">X 1000</span>
                </div>
            </div>
        </section>
        <section class="bottomFixContent">
            <div class="btnContent">
                <a href="javascript:void(0);" class="orangeBtn ui-link">我要预约</a>
            </div>
        </section>
    
        <!-- 没有订单的情况内容如下 -->
        <!--<section class="noOrderContent">
            <div class="noOrderHint">
                <span class="noOrderIcon"></span>
                <div class="noOrderFonts">暂时还没有订单哦</div>
            </div>
            <div class="orderBtn">
                <a href="javascript:void(0);" class="whiteBgBtn">添加订单</a>
            </div>
        </section>-->

        <div data-role="popup" id="confirmWindow">
            <div class="cont">您有一条未完成的预约单，是否继续？</div>
            <div class="confirmBtn">
                <div class="leftBtn">放 弃</div>
                <div class="rightBtn">继 续</div>
            </div>
        </div>
    
	</div>
    
<script>
    $(function(){
        //  jqm 中 tap事件有bug, 存在多次触发或点击穿透现象
        //  fastclick 可以解决这个问题，使用click方法即可
        //  注册全局click事件为fastclick, 依赖js文件： fastclick.js
        //  Github地址： https://github.com/ftlabs/fastclick

        FastClick.attach(document.body);

        $(".bookCopies .subtractFonts").tap(function(){
            var newSubtract =  $(this).siblings(".copiesInput").val() - 1;
            if (newSubtract == -1) {                
                  return;
            }
            $(this).siblings(".copiesInput").val(newSubtract);
        });
        
        $(".bookCopies .addFonts").tap(function(){
            var newAdd =  parseInt($(this).siblings(".copiesInput").val()) + 1;            
            $(this).siblings(".copiesInput").val(newAdd);
        });
        
        $(".myOrderModel .canPoint").tap(function(){
            $(this).find(".grayDotIcon").addClass("selectGreenDotIcon");
            $(this).parents(".myOrderModel").siblings().find(".grayDotIcon").removeClass("selectGreenDotIcon");
        });

        $("#confirmWindow").popup({
            theme: 'a',
            dismissible: false,
            shadow: false,
            afteropen: function(){
                $(document).bind("touchmove", function(){  //  弹窗弹出时，禁止页面滚动
                    return false;
                });
            },
            afterclose: function(){
                $(document).unbind("touchmove");   // 解除禁止滚动绑定
            }
        });

        $("#order").click(function(){
            $("#confirmWindow").popup("open");
        });

        $(".leftBtn, .rightBtn").click(function(){   // 使用tap方法有穿透现象
           $("#confirmWindow").popup("close"); 
        });

        
    });
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>真旅网数据中心 用户量统计</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../static/css/smoothness/jquery-ui-1.10.3.custom.css" />
    <link rel="stylesheet" href="../static/css/date.css" media="all" />
    <link href="../static/css/kendo.common.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../static/css/kendo.default.css" />
    <link rel="stylesheet" href="../static/css/dateCenter.css"/>

    <script src="../static/js/jquery.min.js"></script>
    <script src="../static/js/jquery-ui-1.10.3.custom.js"></script>    
    <script src="../static/js/kendo.web.min.js"></script>
    <script src="../static/js/datacenter/common.js"></script>
    
    <!--[if lte IE 9]>
    <script src="../static/js/html5.js"></script>
    <![endif]-->
</head>
<body>
<div class="main-wrapper">
    <header class="main-header">
        <div class="wrap clearfix">
            <a class="logo" href="/"><h1>真率数据中心</h1></a>
            <a class="exit" href="javascript:void(0);"></a>
        </div>
    </header>
    <section class="main-body clearfix">
        
        <div class="topContentUser">
           <div class="dateSearch">
               <span class="searchTitle">注册时间：</span>
               <input type="text" placeholder="YY-MM-DD" class="datepicker"/>
               <em class="interval">—</em>
               <input type="text" placeholder="YY-MM-DD" class="datepicker"/>
           </div>
           <div class="areaSearch">
              <span class="searchTitle">区域：</span>
              <select id="area">
                <option>全部</option>
                <option>华北</option>
                <option>华南</option>
                <option>华东</option>
              </select>
            </div>
            <div class="searchIcon">
              <em class="searchImg"></em>
            </div>
        </div>

        <div class="mainContent clearfix"> <!--mainContent 开始-->
                
                <div class="leftMenu">  <!--leftMenu 开始-->
                         <ul class="menuChange">
                             <li class="firstLevel"><em>用户量<span class="menuTreeIcon menuFold"></span></em>
                                  <ul class="secondLevel">
                                      <li>用户量同比</li>
                                      <li class="currentStatus">用户量统计</li>
                                  </ul>
                             </li>
                             <li class="firstLevel"><em>交易量<span class="menuTreeIcon menuFold"></span></em>
                                  <ul class="secondLevel">
                                      <li>交易量同比</li>
                                      <li>交易量统计</li>
                                  </ul>
                             </li>
                             
                         </ul>
                </div> <!--leftMenu 结束-->

                <div class="rightCont"> <!-- 右边内容开始 -->
                  <div class="rightContChart">
                    <div class="ticketChart"> <!-- 机票报表 -->
                      <div id="ticketChartRate" style="height:400px;width:100%;min-width:1030px;"></div> <!-- 销售量同比 -->
                      <div id="ticketChartQuantity" style="height:270px;width:100%;margin-top:-90px;min-width:1030px;"></div>  <!-- 销售量数量 -->
                    </div>
                  </div>
                  <div class="rightContBottom">
                    <label>注册用户总量：<em>34560</em> 人</label>
                    <label>有效用户：<em>23569</em> 人</label>
                    <label>本期注册用户增加量：<em>10250</em> 人</label>
                    <label>有效用户：<em>9898</em> 人</label><br/>
                    <small>*有效用户为注册后有完成订单的用户</small>
                  </div>
                </div>  <!-- 右边内容结束 -->
        
        </div> <!--mainContent 结束-->
    </section>
        <footer class="main-footer">
            <center class="copyright">
                Copyright &copy; 2013 天地行 All Rights Reserved.      沪ICP备08101503号
            </center>
        </footer>
  </div>

  <!-- 对echarts 标签引入时，最好放在body体结尾 -->
  <script src="../static/js/plugins/echarts/echarts-plain.js"></script>

  <script>

	$(function(){  

    $("#area").kendoDropDownList();
    $("#busiType").kendoDropDownList();

    /* 用echarts(Enterprise Charts 商业级数据图表)生成统计报表，示例为机票统计报表，酒店统计报表、保险统计报表 类似  */
    // 生成报表开始

    // 初始化echart对象
    var ticketChartRate = echarts.init(document.getElementById("ticketChartRate"));
    var ticketChartQuantity = echarts.init(document.getElementById("ticketChartQuantity"));

    //  横坐标数据
    var dateArr = ['2001','2002','2003','2004','2005',
                '2006','2007','2008','2009','2010','2011'];

    var ticketOptionRate = {
        title: {
            text: '交易量增量报表',
            x: 20,
            y: 20,
            padding: 20,
            textStyle: {
              fontSize: 18, 
              color: '#333',
              fontWeight: 500,
              fontFamily: '"Microsoft YaHei", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif'
            }
        },
        xAxis: [{
          type: 'category',
          position: 'bottom',
          boundaryGap: true,
          axisLine: {
            show: false
          },
          axisTick: {
            show: false
          },
          splitLine: {
            show: false
          },
          axisLabel: {
            textStyle: {
              fontSize: 14
            }
          },
          data: dateArr
        }],
        yAxis : [{
          type : 'value',
          axisLine: {
            show: false
          },
          splitLine: {
            show: true
          },
          axisLabel: {
            textStyle: {
              fontSize: 14
            },
            formatter: function (v) {
                return v + ' %'
            }
          }
        }],
        legend: {
          y: -30,
          data: [{
            name: '新增用户数'
          }, {
            name: '新增有效用户数'
          }, {
            name: '用户总量'
          }, {
            name: '有效用户总量'
          }]
        },
        series : [{
            name: '新增用户数',
            type: 'line',
            smooth: true,
            symbol: 'emptyCircle',
            symbolSize: 4,
            data: ['-',9,7,6,5,4,2,5,10,11,-4]
        }, {
            name: '新增有效用户数',
            type: 'line',
            smooth: true,
            symbol: 'emptyCircle',
            symbolSize: 4,
            data: ['-',7,8,-6,5,4,7,5,-10,11,-2]
        }, {
            name: '用户总量',
            type: 'line',
            smooth: true,
            symbol: 'emptyCircle',
            symbolSize: 4,
            data: ['-',6,7,6,5,4,7,2,10,-11,-4]
        }, {
            name: '有效用户总量',
            type: 'line',
            smooth: true,
            symbol: 'emptyCircle',
            symbolSize: 4,
            data: ['-',9,-8,6,5,4,7,5,1,11,-5]
        }],
        tooltip: {
            trigger: 'axis',
            showDelay: 0,
            backgroundColor: 'rgba(0,0,0,.9)',
            padding: [10,10,10,10],
            formatter: function (params) {
              var res = "<table><tr><td>" + params[0][1] + "</td><td></td></tr>";
              for (var i = 0; i < params.length; i++) {
                res += "<tr><td>" + params[i][0] + " : </td>";
                res += "<td style='text-align:right;'>" + params[i][2] + "%</td></tr>";
              }
              res += "</table>";
              return res;
            }
        }        
    };

    var ticketOptionQuantity = {

        xAxis: [{
          type: 'category',
          position: 'top',
          boundaryGap: true,
          axisLine: {
            show: false
          },
          axisTick: {
            show: true
          },
          splitLine: {
            show: false
          },
          axisLabel: {
            show: false
          },
          data: dateArr
        }],
        yAxis : [{
          type: 'value',
          scale: true,
          min: 1000,
          max: 11000,
          splitNumber: 5,
          axisLine: {
            show: false
          },
          splitLine: {
            show: true
          },
          axisLabel: {
              formatter: function (v) {
                  return v;
              }
          }
        }],
        legend: {
          x: 'center',
          y: 'bottom',
          itemGap: 20,
          textStyle: {
            fontSize: 14,
            fontWeight: 500,
            fontFamily: '"Microsoft YaHei", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif'
          },
          data: [{
            name: '新增用户数'
          }, {
            name: '新增有效用户数'
          }, {
            name: '用户总量'
          }, {
            name: '有效用户总量'
          }]
        },
        series : [{
            name: '新增用户数',
            type: 'line',
            smooth: true,
            symbol: 'emptyCircle',
            symbolSize: 4,
            data: [6000,5500,4500,6200,5700,8000,3000,5800,9000,1000,4000]
        }, {
            name: '新增有效用户数',
            type: 'line',
            smooth: true,
            symbol: 'emptyCircle',
            symbolSize: 4,
            data: [6600,5500,4500,6000,5000,8000,3000,5400,1000,1000,4000]
        }, {
            name: '用户总量',
            type: 'line',
            smooth: true,
            symbol: 'emptyCircle',
            symbolSize: 4,
            data: [7000,4500,4500,6700,5100,8000,3000,5000,1000,1000,4000]
        }, {
            name: '有效用户总量',
            type: 'line',
            smooth: true,
            symbol: 'emptyCircle',
            symbolSize: 4,
            data: [8000,9000,4500,6000,5400,8600,3000,5000,4000,1000,4000]
        }],
        tooltip: {
            trigger: 'axis',
            showDelay: 0,
            backgroundColor: 'rgba(0,0,0,.9)',
            padding: [10,10,10,10],
            formatter: function (params) {
              var res = "<table><tr><td>" + params[0][1] + "</td><td></td></tr>";
              for (var i = 0; i < params.length; i++) {
                res += "<tr><td>" + params[i][0] + " : </td>";
                res += "<td style='text-align:right;'>" + params[i][2] + "</td></tr>";
              }
              res += "</table>";
              return res;
            }
        }        
    };

    // 为chart对象赋值option
    ticketChartRate.setOption(ticketOptionRate);
    ticketChartQuantity.setOption(ticketOptionQuantity);

    // 多图表建立关联
    ticketChartRate.connect(ticketChartQuantity);
    ticketChartQuantity.connect(ticketChartRate);

    // 生成报表结束
  });
  </script> 
    
</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <title>运营商 机加酒 产品详情 产品详情</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="/static/css/common.css" rel="stylesheet" type="text/css" />
    <link href="/static/css/kendo.common.css" rel="stylesheet" type="text/css" />
    <link href="/static/css/kendo.gray.css" rel="stylesheet" type="text/css" />
    <link href="/static/css/kendo.reset.css" rel="stylesheet" type="text/css" />
    <link href="/static/css/b2b.css" rel="stylesheet" type="text/css" />
    <link href="/static/css/kendo.reset.css" rel="stylesheet" />
    <link href="/static/js/themes/default/default.css" rel="stylesheet" />
    <link href="/static/css/operatorCommonHeader.css" rel="stylesheet" type="text/css"/>
    <link href="/static/css/ticketsAndhotel.css" rel="stylesheet" type="text/css"/>

    <script src="/static/js/jquery.min.js" type="text/javascript"></script>    
    <script src="/static/js/kendo.web.js" type="text/javascript"></script>
    <script type="text/javascript" src="/static/js/cultures/kendo.culture.zh-CN.min.js"></script>
    <script type="text/javascript" src="/static/js/scrollFix.js"></script>
    <script type="text/javascript" src="/static/js/public.js"></script>
    <script charset="utf-8" src="/static/js/kindeditor.js"></script>
    <script type="text/javascript" src="/static/js/sync.js"></script>

    <style type="text/css">
    /* 双日历样式 */
    .k-calendar .k-header {
        display: none;
    }

    .k-calendar .k-content .k-link {
        overflow: visible;
        line-height: normal;
        padding: 0px;
    }

    .k-calendar td {
        padding: 0px;
        text-align: center;
        font-size: 12px;
    }

    .date-cont-container {
        width: 47px;
        height: 45px;
        border-left: 1px solid #e0e0e0;
        border-top: 1px solid #e0e0e0;
        position: relative;
        padding: 3px 5px;
    }

    .left-calendar-block {
        float: left;
        width: 405px;
        background-color: #fff;
        border: 1px solid #1986c5;
    }

    .right-calendar-block {
        float: left;
        width: 405px;
        background-color: #fff;
        border: 1px solid #1986c5;
        border-left: 0;
    }

    .k-calendar td .date-text {
        color: #434343;
        font-weight: bold;
    }

    .k-calendar td.k-weekend .date-text {
        color: #1986c5;
        font-weight: bold;
    }

    .k-calendar .date-text {
        position: absolute;
    }

    .k-calendar .price-cont {
        position: absolute;
        bottom: 3px;
        right: 5px;
    }

    .k-calendar .price-cont .adult-price {
        color: #ff4200;
        font-family: Arial;
    }

    .k-calendar .price-cont .child-price {
        color: #008736;
        font-family: Arial;
    }

    .k-calendar .k-content thead th {
        height: 32px;
        text-align: center;
        font-size: 14px;
        font-weight: bold;
        background-color: #e5f3fb;
        border-bottom: none;
    }

    .k-calendar .k-content thead th:first-child,
    .k-calendar .k-content thead th:last-child {
        color: #1986c5;
    }

    .k-calendar .k-content tbody tr:first-child .date-cont-container {
        border-top: none;
    }

    .k-calendar .k-content .k-state-selected {
        background-color: #fff;
    }

    .k-calendar .k-content .k-other-month {
        cursor: default;
    }

    .change-calendar-icon {
        background: url(../../../static/images/operator/calendar-turn-icon.png);
        background-repeat: no-repeat;
        width: 22px;
        height: 22px;
        display: inline-block;
        vertical-align: middle;
        cursor: pointer;
    }

    .change-calendar-icon.prev {
        background-position: -48px 0;
    }

    .change-calendar-icon.next {
        background-position: -72px 0;
    }

    .change-calendar-icon.prev.disabled {
        background-position: -1px 0;
        cursor: default;
    }

    .change-calendar-icon.next.disabled {
        background-position: -24px 0;
        cursor: default;
    }

    .calendar-change-top-block {
        padding: 0 5px;
        height: 40px;
        line-height: 40px;
    }

    .calendar-change-top-block .left-calendar-title,
    .calendar-change-top-block .right-calendar-title {
        width: 360px;
        display: inline-block;
        text-align: center;
        font-size: 14px;
        font-weight: bold;
        color: #666;
    }

    .calendar-change-top-block .right-calendar-title {
        padding-left: 30px;
    }

    </style>
</head>
<body>
    <div class="double-calendar-container" style="margin-left:100px;">
        <div class="calendar-change-top-block">
            <span class="change-calendar-icon prev"></span>
            <span class="left-calendar-title"></span>
            <span class="right-calendar-title"></span>
            <span class="change-calendar-icon next"></span>
        </div>
        <div class="calendar-block clearfix">
            <div class="left-calendar-block" id="cal-1"></div>
            <div class="right-calendar-block" id="cal-2"></div>
        </div>
    </div>

    <!-- 显示日历内容模板 -->
    <script type="text/html" id="date-cont-template">
        <div class="date-cont-container">
            <div class="date-text">#=data.value #</div>
            <div class="price-cont">
                <div class="adult-price">600</div>
                <div class="child-price">400</div>
            </div>
        </div>
    </script>

    <script type="text/javascript">
        $(function(){

            /*  双日历代码    开始  */

            var currentDate = new Date();
            var nextMonthDate = getNextMonth(currentDate);

            //  双日历初始化
            var calendar1 = $("#cal-1").kendoCalendar({
                culture: "zh-CN",
                value: currentDate,
                footer: false,
                month: {
                    content: $("#date-cont-template").html()
                }
            }).data("kendoCalendar");

            var calendar2 = $("#cal-2").kendoCalendar({
                culture: "zh-CN",
                value: nextMonthDate,
                footer: false,
                month: {
                    content: $("#date-cont-template").html()
                }
            }).data("kendoCalendar");

            // 设置标题月份
            setCalendarTitle(calendar1.value(), calendar2.value());
            // 清除其他月份内容
            clearOtherMonthCont();
            
            // 日历翻动
            $(".change-calendar-icon").click(function(){
                if (!$(this).hasClass("disabled")) {
                    var leftDate = calendar1.value();
                    var calendar1_result, calendar2_result;

                    if ($(this).hasClass("prev")) {   //  向左翻动
                        calendar1_result = getPreMonth(leftDate);
                    } else if ($(this).hasClass("next")) {  //  向右翻动
                        calendar1_result = getNextMonth(leftDate);
                    }

                    calendar1.navigate(calendar1_result, "month");
                    calendar1.value(calendar1_result);

                    calendar2_result = getNextMonth(calendar1_result);
                    calendar2.navigate(calendar2_result, "month");
                    calendar2.value(calendar2_result);

                    // 设置标题月份
                    setCalendarTitle(calendar1.value(), calendar2.value());
                    // 清除其他月份内容
                    clearOtherMonthCont();
                }
            });

        });

        function getNextMonth(date) {  //  返回日期类型：下一月1号
            var dateYear = date.getFullYear();
            var dateMonth = date.getMonth();

            if (dateMonth == 11) {  //  当年最后一个月，下月跨年
                dateYear = dateYear + 1;
                dateMonth = 0;
            } else {
                dateMonth ++;
            }

            return new Date(dateYear, dateMonth, 1);
        }

        function getPreMonth(date) {  //  返回日期类型：上一月1号
            var dateYear = date.getFullYear();
            var dateMonth = date.getMonth();

            if (dateMonth == 0) {  //  当年第一个月，上月跨年
                dateYear = dateYear - 1;
                dateMonth = 11;
            } else {
                dateMonth --;
            }

            return new Date(dateYear, dateMonth, 1);
        }

        function setCalendarTitle(date1, date2) {
            $(".left-calendar-title").html(date1.getFullYear() + "年" + (date1.getMonth() + 1) + "月");
            $(".right-calendar-title").html(date2.getFullYear() + "年" + (date2.getMonth() + 1) + "月");
        }

        function clearOtherMonthCont() {
            $(".k-calendar .k-other-month").html("<div class='date-cont-container'></div>");
        }

        /*  双日历代码    结束  */

    </script>
</body>
</html>